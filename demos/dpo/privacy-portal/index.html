<!DOCTYPE html>
<html lang="en-GB">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi"
      crossorigin="anonymous"
    />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="../common/img/favicon/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="../common/img/favicon/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="../common/img/favicon/favicon-16x16.png"
    />
    <link rel="icon" href="data:;base64,iVBORw0KGgo=" />
    <link rel="manifest" href="../common/img/favicon/site.webmanifest" />

    <link href="../common/css/dpo.css" rel="stylesheet" />

    <!--metadata-->
    <meta name="author" content="Milan Stankovic" />
    <meta name="description" content="Blindnet DPO Demo" />
    <meta name="keywords" content="Privacy, GDPR, blindnet" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Blindnet DPO Demo" />
    <meta property="og:url" content="https://blindnet.io" />
    <title>Blindnet DPO Demo</title>

    <!-- Import the privacy portal -->
    <script
      src="https://cdn.jsdelivr.net/npm/@blindnet/privacy-portal/dist/index.all.min.js"
      type="module"
    ></script>

    <!--auth0-->
    <script src="https://cdn.auth0.com/js/auth0-spa-js/1.22.5/auth0-spa-js.production.js"></script>
  </head>

  <body>
    <div class="row vh-100 align-items-center">
      <div class="container-fluid">
        <div class="row mt-5 align-items-center justify-content-center">
          <div class="col-lg-8 col-md-10 text-center">
            <h2 id="priv-request">Privacy Portal</h2>

            <div id="not-logged-in">
              <button
                id="btn-login"
                type="button"
                class="btn btn-light unifont"
                onclick="login()"
              >
                Identify yourself to make a personal request
              </button>
            </div>

            <div id="logged-in" hidden>
              <div id="div-logout">
                Making a request as <span id="ipt-user-profile"></span>.

                <button
                  id="btn-logout"
                  class="btn btn-light unifont"
                  onclick="logout()"
                >
                  Log out
                </button>

                <input id="token" type="hidden" />
              </div>
            </div>

            <bldn-privacy-portal
              id="privacy-portal"
              data-categories='["contact", "name", "uid", "other-data"]'
            >
              <bldn-request-addon id="addon" slot="preFormAddon">
                <!-- Addon styles -->
                <style></style>

                <!-- Addon HTML -->
                <div id="file-input" class="mb-3">
                  <label for="formFile" class="form-label"
                    >Default file input example</label
                  >
                  <input class="form-control" type="file" id="formFile" />
                </div>

                <!-- Addon submit function -->
                <script>
                  function validateFileInput() {
                    const file = document.getElementById('formFile');
                    return file !== null && file.value !== '' ? true : 'Bad';
                  }

                  document.getElementById('addon').onSubmit = validateFileInput;
                </script>
              </bldn-request-addon>
            </bldn-privacy-portal>
          </div>
        </div>
      </div>
    </div>

    <!-- JavaScript Bundle with Popper -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
      crossorigin="anonymous"
    ></script>

    <!-- JavaScript Auth function -->
    <script src="../common/js/auth.js" type="text/javascript"></script>
  </body>
</html>
