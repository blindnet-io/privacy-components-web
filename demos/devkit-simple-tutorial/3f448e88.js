import{P as e,a as t,b as n,C as i,c as o,d as r,e as s,f as a,g as c}from"./f9de6251.js";function d(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */}const l=(e,...t)=>({strTag:!0,strings:e,values:t}),u=(e,t,n)=>{let i=e[0];for(let o=1;o<e.length;o++)i+=t[n?n[o-1]:o-1],i+=e[o];return i},h=e=>{return"string"!=typeof(t=e)&&"strTag"in t?u(e.strings,e.values):e;
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var t};
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
class p{constructor(e){this.__litLocalizeEventHandler=e=>{"ready"===e.detail.status&&this.host.requestUpdate()},this.host=e}hostConnected(){window.addEventListener("lit-localize-status",this.__litLocalizeEventHandler)}hostDisconnected(){window.removeEventListener("lit-localize-status",this.__litLocalizeEventHandler)}}const m=e=>e.addController(new p(e)),f=()=>e=>"function"==typeof e?g(e):v(e),v=({kind:e,elements:t})=>({kind:e,elements:t,finisher(e){e.addInitializer(m)}}),g=e=>(e.addInitializer(m),e);
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
class b{constructor(){this.settled=!1,this.promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t}))}resolve(e){this.settled=!0,this._resolve(e)}reject(e){this.settled=!0,this._reject(e)}}
/**
 * @license
 * Copyright 2014 Travis Webb
 * SPDX-License-Identifier: MIT
 */const y=[];for(let e=0;e<256;e++)y[e]=(e>>4&15).toString(16)+(15&e).toString(16);function w(e,t){return(t?"h":"s")+function(e){let t=0,n=8997,i=0,o=33826,r=0,s=40164,a=0,c=52210;for(let d=0;d<e.length;d++)n^=e.charCodeAt(d),t=435*n,i=435*o,r=435*s,a=435*c,r+=n<<8,a+=o<<8,i+=t>>>16,n=65535&t,r+=i>>>16,o=65535&i,c=a+(r>>>16)&65535,s=65535&r;return y[c>>8]+y[255&c]+y[s>>8]+y[255&s]+y[o>>8]+y[255&o]+y[n>>8]+y[255&n]}
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */("string"==typeof e?e:e.join(""))}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const S=new WeakMap,C=new Map;function E(e,t,n){var i;if(e){const o=null!==(i=null==n?void 0:n.id)&&void 0!==i?i:function(e){const t="string"==typeof e?e:e.strings;let n=C.get(t);void 0===n&&(n=w(t,"string"!=typeof e&&!("strTag"in e)),C.set(t,n));return n}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */(t),r=e[o];if(r){if("string"==typeof r)return r;if("strTag"in r)return u(r.strings,t.values,r.values);{let e=S.get(r);return void 0===e&&(e=r.values,S.set(r,e)),{...r,values:e.map((e=>t.values[e]))}}}}return h(t)}function R(e){window.dispatchEvent(new CustomEvent("lit-localize-status",{detail:e}))}let k,_,I,A,T,N="",L=new b;L.resolve();let O=0;const x=()=>N,$=e=>{if(e===(null!=k?k:N))return L.promise;if(!I||!A)throw new Error("Internal error");if(!I.has(e))throw new Error("Invalid locale code");O++;const t=O;k=e,L.settled&&(L=new b),R({status:"loading",loadingLocale:e});return(e===_?Promise.resolve({templates:void 0}):A(e)).then((n=>{O===t&&(N=e,k=void 0,T=n.templates,R({status:"ready",readyLocale:e}),L.resolve())}),(n=>{O===t&&(R({status:"error",errorLocale:e,errorMessage:n.toString()}),L.reject(n))})),L.promise};
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
let P=h,G=!1;
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const D=window,Z=D.ShadowRoot&&(void 0===D.ShadyCSS||D.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,W=Symbol(),H=new WeakMap;class U{constructor(e,t,n){if(this._$cssResult$=!0,n!==W)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(Z&&void 0===e){const n=void 0!==t&&1===t.length;n&&(e=H.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&H.set(t,e))}return e}toString(){return this.cssText}}const j=(e,...t)=>{const n=1===e.length?e[0]:t.reduce(((t,n,i)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+e[i+1]),e[0]);return new U(n,e,W)},Y=Z?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(const n of e.cssRules)t+=n.cssText;return(e=>new U("string"==typeof e?e:e+"",void 0,W))(t)})(e):e
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */;var X;const K=window,V=K.trustedTypes,F=V?V.emptyScript:"",M=K.reactiveElementPolyfillSupport,z={toAttribute(e,t){switch(t){case Boolean:e=e?F:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=null!==e;break;case Number:n=null===e?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch(e){n=null}}return n}},J=(e,t)=>t!==e&&(t==t||e==e),q={attribute:!0,type:String,converter:z,reflect:!1,hasChanged:J};class B extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(e){var t;this.finalize(),(null!==(t=this.h)&&void 0!==t?t:this.h=[]).push(e)}static get observedAttributes(){this.finalize();const e=[];return this.elementProperties.forEach(((t,n)=>{const i=this._$Ep(n,t);void 0!==i&&(this._$Ev.set(i,n),e.push(i))})),e}static createProperty(e,t=q){if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){const n="symbol"==typeof e?Symbol():"__"+e,i=this.getPropertyDescriptor(e,n,t);void 0!==i&&Object.defineProperty(this.prototype,e,i)}}static getPropertyDescriptor(e,t,n){return{get(){return this[t]},set(i){const o=this[e];this[t]=i,this.requestUpdate(e,o,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||q}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const e=Object.getPrototypeOf(this);if(e.finalize(),void 0!==e.h&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const e=this.properties,t=[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)];for(const n of t)this.createProperty(n,e[n])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const e of n)t.unshift(Y(e))}else void 0!==e&&t.push(Y(e));return t}static _$Ep(e,t){const n=t.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof e?e.toLowerCase():void 0}u(){var e;this._$E_=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(e=this.constructor.h)||void 0===e||e.forEach((e=>e(this)))}addController(e){var t,n;(null!==(t=this._$ES)&&void 0!==t?t:this._$ES=[]).push(e),void 0!==this.renderRoot&&this.isConnected&&(null===(n=e.hostConnected)||void 0===n||n.call(e))}removeController(e){var t;null===(t=this._$ES)||void 0===t||t.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach(((e,t)=>{this.hasOwnProperty(t)&&(this._$Ei.set(t,this[t]),delete this[t])}))}createRenderRoot(){var e;const t=null!==(e=this.shadowRoot)&&void 0!==e?e:this.attachShadow(this.constructor.shadowRootOptions);return((e,t)=>{Z?e.adoptedStyleSheets=t.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet)):t.forEach((t=>{const n=document.createElement("style"),i=D.litNonce;void 0!==i&&n.setAttribute("nonce",i),n.textContent=t.cssText,e.appendChild(n)}))})(t,this.constructor.elementStyles),t}connectedCallback(){var e;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostConnected)||void 0===t?void 0:t.call(e)}))}enableUpdating(e){}disconnectedCallback(){var e;null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostDisconnected)||void 0===t?void 0:t.call(e)}))}attributeChangedCallback(e,t,n){this._$AK(e,n)}_$EO(e,t,n=q){var i;const o=this.constructor._$Ep(e,n);if(void 0!==o&&!0===n.reflect){const r=(void 0!==(null===(i=n.converter)||void 0===i?void 0:i.toAttribute)?n.converter:z).toAttribute(t,n.type);this._$El=e,null==r?this.removeAttribute(o):this.setAttribute(o,r),this._$El=null}}_$AK(e,t){var n;const i=this.constructor,o=i._$Ev.get(e);if(void 0!==o&&this._$El!==o){const e=i.getPropertyOptions(o),r="function"==typeof e.converter?{fromAttribute:e.converter}:void 0!==(null===(n=e.converter)||void 0===n?void 0:n.fromAttribute)?e.converter:z;this._$El=o,this[o]=r.fromAttribute(t,e.type),this._$El=null}}requestUpdate(e,t,n){let i=!0;void 0!==e&&(((n=n||this.constructor.getPropertyOptions(e)).hasChanged||J)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),!0===n.reflect&&this._$El!==e&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(e,n))):i=!1),!this.isUpdatePending&&i&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(e){Promise.reject(e)}const e=this.scheduleUpdate();return null!=e&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach(((e,t)=>this[t]=e)),this._$Ei=void 0);let t=!1;const n=this._$AL;try{t=this.shouldUpdate(n),t?(this.willUpdate(n),null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostUpdate)||void 0===t?void 0:t.call(e)})),this.update(n)):this._$Ek()}catch(e){throw t=!1,this._$Ek(),e}t&&this._$AE(n)}willUpdate(e){}_$AE(e){var t;null===(t=this._$ES)||void 0===t||t.forEach((e=>{var t;return null===(t=e.hostUpdated)||void 0===t?void 0:t.call(e)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){void 0!==this._$EC&&(this._$EC.forEach(((e,t)=>this._$EO(t,this[t],e))),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var Q;B.finalized=!0,B.elementProperties=new Map,B.elementStyles=[],B.shadowRootOptions={mode:"open"},null==M||M({ReactiveElement:B}),(null!==(X=K.reactiveElementVersions)&&void 0!==X?X:K.reactiveElementVersions=[]).push("1.4.2");const ee=window,te=ee.trustedTypes,ne=te?te.createPolicy("lit-html",{createHTML:e=>e}):void 0,ie=`lit$${(Math.random()+"").slice(9)}$`,oe="?"+ie,re=`<${oe}>`,se=document,ae=(e="")=>se.createComment(e),ce=e=>null===e||"object"!=typeof e&&"function"!=typeof e,de=Array.isArray,le=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,ue=/-->/g,he=/>/g,pe=RegExp(">|[ \t\n\f\r](?:([^\\s\"'>=/]+)([ \t\n\f\r]*=[ \t\n\f\r]*(?:[^ \t\n\f\r\"'`<>=]|(\"|')|))|$)","g"),me=/'/g,fe=/"/g,ve=/^(?:script|style|textarea|title)$/i,ge=(e=>(t,...n)=>({_$litType$:e,strings:t,values:n}))(1),be=Symbol.for("lit-noChange"),ye=Symbol.for("lit-nothing"),we=new WeakMap,Se=se.createTreeWalker(se,129,null,!1);class Ce{constructor({strings:e,_$litType$:t},n){let i;this.parts=[];let o=0,r=0;const s=e.length-1,a=this.parts,[c,d]=((e,t)=>{const n=e.length-1,i=[];let o,r=2===t?"<svg>":"",s=le;for(let t=0;t<n;t++){const n=e[t];let a,c,d=-1,l=0;for(;l<n.length&&(s.lastIndex=l,c=s.exec(n),null!==c);)l=s.lastIndex,s===le?"!--"===c[1]?s=ue:void 0!==c[1]?s=he:void 0!==c[2]?(ve.test(c[2])&&(o=RegExp("</"+c[2],"g")),s=pe):void 0!==c[3]&&(s=pe):s===pe?">"===c[0]?(s=null!=o?o:le,d=-1):void 0===c[1]?d=-2:(d=s.lastIndex-c[2].length,a=c[1],s=void 0===c[3]?pe:'"'===c[3]?fe:me):s===fe||s===me?s=pe:s===ue||s===he?s=le:(s=pe,o=void 0);const u=s===pe&&e[t+1].startsWith("/>")?" ":"";r+=s===le?n+re:d>=0?(i.push(a),n.slice(0,d)+"$lit$"+n.slice(d)+ie+u):n+ie+(-2===d?(i.push(void 0),t):u)}const a=r+(e[n]||"<?>")+(2===t?"</svg>":"");if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==ne?ne.createHTML(a):a,i]})(e,t);if(this.el=Ce.createElement(c,n),Se.currentNode=this.el.content,2===t){const e=this.el.content,t=e.firstChild;t.remove(),e.append(...t.childNodes)}for(;null!==(i=Se.nextNode())&&a.length<s;){if(1===i.nodeType){if(i.hasAttributes()){const e=[];for(const t of i.getAttributeNames())if(t.endsWith("$lit$")||t.startsWith(ie)){const n=d[r++];if(e.push(t),void 0!==n){const e=i.getAttribute(n.toLowerCase()+"$lit$").split(ie),t=/([.?@])?(.*)/.exec(n);a.push({type:1,index:o,name:t[2],strings:e,ctor:"."===t[1]?Ie:"?"===t[1]?Te:"@"===t[1]?Ne:_e})}else a.push({type:6,index:o})}for(const t of e)i.removeAttribute(t)}if(ve.test(i.tagName)){const e=i.textContent.split(ie),t=e.length-1;if(t>0){i.textContent=te?te.emptyScript:"";for(let n=0;n<t;n++)i.append(e[n],ae()),Se.nextNode(),a.push({type:2,index:++o});i.append(e[t],ae())}}}else if(8===i.nodeType)if(i.data===oe)a.push({type:2,index:o});else{let e=-1;for(;-1!==(e=i.data.indexOf(ie,e+1));)a.push({type:7,index:o}),e+=ie.length-1}o++}}static createElement(e,t){const n=se.createElement("template");return n.innerHTML=e,n}}function Ee(e,t,n=e,i){var o,r,s,a;if(t===be)return t;let c=void 0!==i?null===(o=n._$Co)||void 0===o?void 0:o[i]:n._$Cl;const d=ce(t)?void 0:t._$litDirective$;return(null==c?void 0:c.constructor)!==d&&(null===(r=null==c?void 0:c._$AO)||void 0===r||r.call(c,!1),void 0===d?c=void 0:(c=new d(e),c._$AT(e,n,i)),void 0!==i?(null!==(s=(a=n)._$Co)&&void 0!==s?s:a._$Co=[])[i]=c:n._$Cl=c),void 0!==c&&(t=Ee(e,c._$AS(e,t.values),c,i)),t}class Re{constructor(e,t){this.u=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}v(e){var t;const{el:{content:n},parts:i}=this._$AD,o=(null!==(t=null==e?void 0:e.creationScope)&&void 0!==t?t:se).importNode(n,!0);Se.currentNode=o;let r=Se.nextNode(),s=0,a=0,c=i[0];for(;void 0!==c;){if(s===c.index){let t;2===c.type?t=new ke(r,r.nextSibling,this,e):1===c.type?t=new c.ctor(r,c.name,c.strings,this,e):6===c.type&&(t=new Le(r,this,e)),this.u.push(t),c=i[++a]}s!==(null==c?void 0:c.index)&&(r=Se.nextNode(),s++)}return o}p(e){let t=0;for(const n of this.u)void 0!==n&&(void 0!==n.strings?(n._$AI(e,n,t),t+=n.strings.length-2):n._$AI(e[t])),t++}}class ke{constructor(e,t,n,i){var o;this.type=2,this._$AH=ye,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=n,this.options=i,this._$Cm=null===(o=null==i?void 0:i.isConnected)||void 0===o||o}get _$AU(){var e,t;return null!==(t=null===(e=this._$AM)||void 0===e?void 0:e._$AU)&&void 0!==t?t:this._$Cm}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return void 0!==t&&11===e.nodeType&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=Ee(this,e,t),ce(e)?e===ye||null==e||""===e?(this._$AH!==ye&&this._$AR(),this._$AH=ye):e!==this._$AH&&e!==be&&this.g(e):void 0!==e._$litType$?this.$(e):void 0!==e.nodeType?this.T(e):(e=>de(e)||"function"==typeof(null==e?void 0:e[Symbol.iterator]))(e)?this.k(e):this.g(e)}O(e,t=this._$AB){return this._$AA.parentNode.insertBefore(e,t)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}g(e){this._$AH!==ye&&ce(this._$AH)?this._$AA.nextSibling.data=e:this.T(se.createTextNode(e)),this._$AH=e}$(e){var t;const{values:n,_$litType$:i}=e,o="number"==typeof i?this._$AC(e):(void 0===i.el&&(i.el=Ce.createElement(i.h,this.options)),i);if((null===(t=this._$AH)||void 0===t?void 0:t._$AD)===o)this._$AH.p(n);else{const e=new Re(o,this),t=e.v(this.options);e.p(n),this.T(t),this._$AH=e}}_$AC(e){let t=we.get(e.strings);return void 0===t&&we.set(e.strings,t=new Ce(e)),t}k(e){de(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let n,i=0;for(const o of e)i===t.length?t.push(n=new ke(this.O(ae()),this.O(ae()),this,this.options)):n=t[i],n._$AI(o),i++;i<t.length&&(this._$AR(n&&n._$AB.nextSibling,i),t.length=i)}_$AR(e=this._$AA.nextSibling,t){var n;for(null===(n=this._$AP)||void 0===n||n.call(this,!1,!0,t);e&&e!==this._$AB;){const t=e.nextSibling;e.remove(),e=t}}setConnected(e){var t;void 0===this._$AM&&(this._$Cm=e,null===(t=this._$AP)||void 0===t||t.call(this,e))}}class _e{constructor(e,t,n,i,o){this.type=1,this._$AH=ye,this._$AN=void 0,this.element=e,this.name=t,this._$AM=i,this.options=o,n.length>2||""!==n[0]||""!==n[1]?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=ye}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,n,i){const o=this.strings;let r=!1;if(void 0===o)e=Ee(this,e,t,0),r=!ce(e)||e!==this._$AH&&e!==be,r&&(this._$AH=e);else{const i=e;let s,a;for(e=o[0],s=0;s<o.length-1;s++)a=Ee(this,i[n+s],t,s),a===be&&(a=this._$AH[s]),r||(r=!ce(a)||a!==this._$AH[s]),a===ye?e=ye:e!==ye&&(e+=(null!=a?a:"")+o[s+1]),this._$AH[s]=a}r&&!i&&this.j(e)}j(e){e===ye?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=e?e:"")}}class Ie extends _e{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===ye?void 0:e}}const Ae=te?te.emptyScript:"";class Te extends _e{constructor(){super(...arguments),this.type=4}j(e){e&&e!==ye?this.element.setAttribute(this.name,Ae):this.element.removeAttribute(this.name)}}class Ne extends _e{constructor(e,t,n,i,o){super(e,t,n,i,o),this.type=5}_$AI(e,t=this){var n;if((e=null!==(n=Ee(this,e,t,0))&&void 0!==n?n:ye)===be)return;const i=this._$AH,o=e===ye&&i!==ye||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,r=e!==ye&&(i===ye||o);o&&this.element.removeEventListener(this.name,this,i),r&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,n;"function"==typeof this._$AH?this._$AH.call(null!==(n=null===(t=this.options)||void 0===t?void 0:t.host)&&void 0!==n?n:this.element,e):this._$AH.handleEvent(e)}}class Le{constructor(e,t,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){Ee(this,e)}}const Oe=ee.litHtmlPolyfillSupport;null==Oe||Oe(Ce,ke),(null!==(Q=ee.litHtmlVersions)&&void 0!==Q?Q:ee.litHtmlVersions=[]).push("2.4.0");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var xe,$e;class Pe extends B{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,t;const n=super.createRenderRoot();return null!==(e=(t=this.renderOptions).renderBefore)&&void 0!==e||(t.renderBefore=n.firstChild),n}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=((e,t,n)=>{var i,o;const r=null!==(i=null==n?void 0:n.renderBefore)&&void 0!==i?i:t;let s=r._$litPart$;if(void 0===s){const e=null!==(o=null==n?void 0:n.renderBefore)&&void 0!==o?o:null;r._$litPart$=s=new ke(t.insertBefore(ae(),e),e,void 0,null!=n?n:{})}return s._$AI(e),s})(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),null===(e=this._$Do)||void 0===e||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),null===(e=this._$Do)||void 0===e||e.setConnected(!1)}render(){return be}}Pe.finalized=!0,Pe._$litElement$=!0,null===(xe=globalThis.litElementHydrateSupport)||void 0===xe||xe.call(globalThis,{LitElement:Pe});const Ge=globalThis.litElementPolyfillSupport;null==Ge||Ge({LitElement:Pe}),(null!==($e=globalThis.litElementVersions)&&void 0!==$e?$e:globalThis.litElementVersions=[]).push("3.2.2");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const De=e=>t=>"function"==typeof t?((e,t)=>(customElements.define(e,t),t))(e,t):((e,t)=>{const{kind:n,elements:i}=t;return{kind:n,elements:i,finisher(t){customElements.define(e,t)}}})(e,t)
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */,Ze=(e,t)=>"method"===t.kind&&t.descriptor&&!("value"in t.descriptor)?{...t,finisher(n){n.createProperty(t.key,e)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher(n){n.createProperty(t.key,e)}};function We(e){return(t,n)=>void 0!==n?((e,t,n)=>{t.constructor.createProperty(n,e)})(e,t,n):Ze(e,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function He(e){return We({...e,state:!0})}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ue=({finisher:e,descriptor:t})=>(n,i)=>{var o;if(void 0===i){const i=null!==(o=n.originalKey)&&void 0!==o?o:n.key,r=null!=t?{kind:"method",placement:"prototype",key:i,descriptor:t(n.key)}:{...n,key:i};return null!=e&&(r.finisher=function(t){e(t,i)}),r}{const o=n.constructor;void 0!==t&&Object.defineProperty(n,i,t(i)),null==e||e(o,i)}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */;
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var je;null===(je=window.HTMLSlotElement)||void 0===je||je.prototype.assignedElements;
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const Ye=(e,t,n)=>{for(const n of t)if(n[0]===e)return(0,n[1])();return null==n?void 0:n()},Xe=e=>null!=e?e:ye
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */;
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function*Ke(e,t){if(void 0!==e){let n=0;for(const i of e)yield t(i,n++)}}let Ve=class extends Pe{constructor(){super(...arguments),this.tiles=[]}handleTileClick(e){this.dispatchEvent(new CustomEvent("bldn-tile-menu:tile-click",{composed:!0,detail:{value:e}}))}render(){return ge` ${Ke(this.tiles,(e=>ge` <button @click="${()=>this.handleTileClick(e.value)}"> <h1>${e.title}</h1> <p>${e.description}</p> </button> `))} `}};
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
function Fe(e,t,n){return e?t():null==n?void 0:n()}Ve.styles=j`:host{display:grid;grid-template-columns:repeat(3,1fr);grid-auto-rows:1fr;gap:2.5em}button{display:flex;flex-direction:column;padding:1.25em;align-items:center;justify-content:flex-start;font-family:var(--bldn-tile-menu-font-family,var(--font-family));border:none;border-radius:20px;box-shadow:0 33px 96px rgba(0,0,0,.16),0 9.94853px 28.9412px rgba(0,0,0,.104254),0 4.13211px 12.0207px rgba(0,0,0,.08),0 1.4945px 4.34765px rgba(0,0,0,.0557458);background:#fff;transition:.3s ease-out}button:hover{background:var(--bldn-tile-menu-hover-color,var(--color-light));transition:.3s ease}h1{color:var(--bldn-tile-menu-title-font-color,var(--color-darkest));font-size:var(--bldn-tile-menu-title-font-size,var(--font-size-medium))}p{display:flex;color:var(--bldn-tile-menu-description-font-color,var(--color-dark));font-size:var(--bldn-tile-menu-description-font-size,var(--font-size-small));padding:1em 0;margin:0}`,d([We({type:Array})],Ve.prototype,"tiles",void 0),Ve=d([De("bldn-tile-menu")],Ve);let Me=class extends Pe{constructor(){super(...arguments),this.mode="double"}handleNavClick(e,t){e.stopPropagation(),this.dispatchEvent(new Event(`bldn-nav-wrapper:${t}-click`))}render(){return ge` <div id="content"> <slot></slot> </div> <div id="nav-buttons"> ${Fe("single"===this.mode,(()=>ge` <bldn-button @bldn-button:click="${e=>this.handleNavClick(e,"center")}">${this.centerButton}</bldn-button> `),(()=>ge` <bldn-button mode="secondary" @bldn-button:click="${e=>this.handleNavClick(e,"left")}">${this.leftButton}</bldn-button> <bldn-button @bldn-button:click="${e=>this.handleNavClick(e,"right")}">${this.rightButton}</bldn-button> `))} </div> `}};Me.styles=j`:host{display:block;border:2px solid var(--bldn-nav-wrapper-border-color,var(--color-medium));border-radius:20px;margin-bottom:20px}#content{display:grid;row-gap:40px}#nav-buttons{display:flex;justify-content:center;column-gap:25%;transform:translateY(22px)}`,d([We({type:String})],Me.prototype,"mode",void 0),d([We({type:String,attribute:"left-button"})],Me.prototype,"leftButton",void 0),d([We({type:String,attribute:"right-button"})],Me.prototype,"rightButton",void 0),d([We({type:String,attribute:"center-button"})],Me.prototype,"centerButton",void 0),Me=d([De("bldn-nav-wrapper")],Me);const ze=new URL(new URL(new URL("8248cc89.svg",import.meta.url).href,import.meta.url).href,import.meta.url).href,Je=new URL(new URL(new URL("b2bf0596.svg",import.meta.url).href,import.meta.url).href,import.meta.url).href;let qe=class extends Pe{constructor(){super(...arguments),this.mode="minor",this.open=!1}render(){return ge` <div id="heading"> <slot name="heading">${P("Click to expand")}</slot> <button @click="${()=>{this.open=!this.open}}"><img id="dropdown-button-image" src="${"minor"===this.mode?Je:ze}" alt="${P("Arrow to expand or collapse the dropdown")}"></button> </div> <div id="content"> <slot></slot> </div> `}};qe.styles=j`:host{display:block;padding:.625em 0}:host[open]{padding:.625em 0 1.25em 0}#heading{display:flex;text-align:left;align-items:center}:host([open][mode=major]) #heading{padding-bottom:2.5em;border-bottom:2px solid var(--bldn-dropdown-major-section-heading-border-color,var(--color-lightest));margin:0 -2em}:host([open][mode=major]) slot[name=heading]{display:inline-block;margin-left:2em}:host([open][mode=major]) button{padding-right:2.5em}:host([mode=minor]) button{padding-right:.42em}:host([open]) #dropdown-button-image{-webkit-transform:scaleY(-1);transform:scaleY(-1)}#content{display:none}:host([open]) #content{display:block}button{border:none;background:0 0;margin-left:auto;padding:0}`,d([We({type:String,reflect:!0})],qe.prototype,"mode",void 0),d([We({type:Boolean,reflect:!0})],qe.prototype,"open",void 0),qe=d([De("bldn-dropdown")],qe);let Be=class extends Pe{constructor(){super(...arguments),this.choices=[]}handleChoiceChange(e){const{id:t}=e.target;this.dispatchEvent(new CustomEvent("bldn-radio-list:choice-change",{bubbles:!0,composed:!0,detail:{value:t}}))}render(){return ge` <slot name="prompt"></slot> <fieldset class="provenance-restriction"> ${this.choices.map((e=>ge` <input id="${e.value}" name="radio-list-choice" type="radio" ?checked="${e.checked}" @click="${this.handleChoiceChange}">  <label for="${e.value}">${e.display}</label><br> `))} </fieldset> `}};Be.styles=j`:host{display:block;text-align:left;color:var(--bldn-radio-list-font-color,var(--color-dark))}fieldset{border:none;margin:0;padding:0;text-align:left}input{float:left;margin-top:2px}label{margin-left:24px;display:block}`,d([We({type:Array})],Be.prototype,"choices",void 0),Be=d([De("bldn-radio-list")],Be);const Qe={ACCESS:()=>P("Access"),DELETE:()=>P("Delete"),MODIFY:()=>P("Modify"),OBJECT:()=>P("Object"),PORTABILITY:()=>P("Portability"),RESTRICT:()=>P("Restrict"),"REVOKE-CONSENT":()=>P("Revoke"),TRANSPARENCY:()=>P("Transparency"),"TRANSPARENCY.DATA-CATEGORIES":()=>P("Transparency - Data Categories"),"TRANSPARENCY.DPO":()=>P("Transparency - DPO"),"TRANSPARENCY.KNOWN":()=>P("Transparency - Known"),"TRANSPARENCY.LEGAL-BASES":()=>P("Transparency - Legal Bases"),"TRANSPARENCY.ORGANIZATION":()=>P("Transparency - Organization"),"TRANSPARENCY.POLICY":()=>P("Transparency - Policy"),"TRANSPARENCY.PROCESSING-CATEGORIES":()=>P("Transparency - Processing Categories"),"TRANSPARENCY.PROVENANCE":()=>P("Transparency - Provenance"),"TRANSPARENCY.PURPOSE":()=>P("Transparency - Purpose"),"TRANSPARENCY.RETENTION":()=>P("Transparency - Retention"),"TRANSPARENCY.WHERE":()=>P("Transparency - Where"),"TRANSPARENCY.WHO":()=>P("Transparency - Who"),OTHER:()=>P("Other Demand")},et={ACCESS:()=>P("Access my data"),DELETE:()=>P("Have my data deleted"),MODIFY:()=>P("Modify or complement my data"),OBJECT:()=>P("Object to processing of my data"),PORTABILITY:()=>P("Take my data and have it transfered somewhere else"),RESTRICT:()=>P("Restrict processing of my data to a particular scope"),"REVOKE-CONSENT":()=>P("Revoke previously given consent for data processing"),TRANSPARENCY:()=>P("Demand information related to data processing practices and know if the system has data on me"),OTHER:()=>P("Do or know something else. Please note it may take longer to be answered"),"TRANSPARENCY.DATA-CATEGORIES":()=>P("The categories of the data the organization has on me"),"TRANSPARENCY.DPO":()=>P("The contact details of the data protection officer"),"TRANSPARENCY.KNOWN":()=>P("If the organization has data on me"),"TRANSPARENCY.LEGAL-BASES":()=>P("The legal bases for processing my data (including legitimate interests)"),"TRANSPARENCY.ORGANIZATION":()=>P("The identity and contact details of the organization processing my data"),"TRANSPARENCY.POLICY":()=>P("The policies applied to processing of data concerning me"),"TRANSPARENCY.PROCESSING-CATEGORIES":()=>P("The cateogories of processing being done on the data the organization has on me"),"TRANSPARENCY.PROVENANCE":()=>P("The sources that the data concerning me come from"),"TRANSPARENCY.PURPOSE":()=>P("The purpose of the processing of the data the organization has on me"),"TRANSPARENCY.RETENTION":()=>P("For how long the data concerning me kept"),"TRANSPARENCY.WHERE":()=>P("Where the data about me is stored"),"TRANSPARENCY.WHO":()=>P("Who can access the data that the organization has on me")},tt={TRANSPARENCY:()=>P(ge`<b>All</b> information related to data processing practices and my data`),OTHER:()=>P("Do or know something else. Please note it may take longer to be answered"),"TRANSPARENCY.DATA-CATEGORIES":()=>P("The categories of the data the organization has on me"),"TRANSPARENCY.DPO":()=>P("The contact details of the data protection officer"),"TRANSPARENCY.KNOWN":()=>P("If the organization has data on me"),"TRANSPARENCY.LEGAL-BASES":()=>P("The legal bases for processing my data (including legitimate interests)"),"TRANSPARENCY.ORGANIZATION":()=>P("The identity and contact details of the organization processing my data"),"TRANSPARENCY.POLICY":()=>P("The policies applied to processing of data concerning me"),"TRANSPARENCY.PROCESSING-CATEGORIES":()=>P("The cateogories of processing being done on the data the organization has on me"),"TRANSPARENCY.PROVENANCE":()=>P("The sources that the data concerning me come from"),"TRANSPARENCY.PURPOSE":()=>P("The purpose of the processing of the data the organization has on me"),"TRANSPARENCY.RETENTION":()=>P("For how long the data concerning me kept"),"TRANSPARENCY.WHERE":()=>P("Where the data about me is stored"),"TRANSPARENCY.WHO":()=>P("Who can access the data that the organization has on me")},nt={"*":()=>P("All provenances"),USER:()=>P("The data provided by a user of the system (potentially the Data Subject)"),"USER.DATA-SUBJECT":()=>P("The data provided by the Data Subject"),DERIVED:()=>P("The data derived from user actions, extracted from other data or inferred"),TRANSFERRED:()=>P("The data obtained by transfer from another System")},it={"*":()=>P(""),AFFILIATION:()=>P("Affiliation"),"AFFILIATION.MEMBERSHIP":()=>P("Affiliation membership"),"AFFILIATION.MEMBERSHIP.UNION":()=>P(""),"AFFILIATION.SCHOOL":()=>P(""),"AFFILIATION.WORKPLACE":()=>P(""),BEHAVIOR:()=>P("Behavior"),"BEHAVIOR.ACTIVITY":()=>P(""),"BEHAVIOR.CONNECTION":()=>P(""),"BEHAVIOR.PREFERENCE":()=>P(""),"BEHAVIOR.TELEMETRY":()=>P(""),BIOMETRIC:()=>P("Biometric"),CONTACT:()=>P("Contact"),"CONTACT.EMAIL":()=>P(""),"CONTACT.ADDRESS":()=>P(""),"CONTACT.PHONE":()=>P(""),DEMOGRAPHIC:()=>P("Demographic"),"DEMOGRAPHIC.AGE":()=>P(""),"DEMOGRAPHIC.BELIEFS":()=>P(""),"DEMOGRAPHIC.GENDER":()=>P(""),"DEMOGRAPHIC.ORIGIN":()=>P(""),"DEMOGRAPHIC.RACE":()=>P(""),"DEMOGRAPHIC.SEXUAL-ORIENTATION":()=>P(""),DEVICE:()=>P("Device"),FINANCIAL:()=>P("Financial"),"FINANCIAL.BANK-ACCOUNT":()=>P("Finacial bank account"),GENETIC:()=>P("Genetic"),HEALTH:()=>P("Health"),IMAGE:()=>P("Image"),LOCATION:()=>P("Location"),NAME:()=>P("Name"),PROFILING:()=>P("Profiling"),RELATIONSHIPS:()=>P("Relationships"),UID:()=>P("UID"),"UID.ID":()=>P(""),"UID.IP":()=>P(""),"UID.USER-ACCOUNT":()=>P(""),"UID.SOCIAL-MEDIA":()=>P(""),"OTHER-DATA":()=>P("Other"),"OTHER-DATA.PROOF":()=>P("Other - Proof")},ot={"*":()=>P(ge`<b>All</b> categories of data the organization has on me`),AFFILIATION:()=>P(ge`Groups and Organisations I am linked to through work, studies, or membership`),"AFFILIATION.MEMBERSHIP":()=>P(ge``),"AFFILIATION.MEMBERSHIP.UNION":()=>P(ge``),"AFFILIATION.SCHOOL":()=>P(ge``),"AFFILIATION.WORKPLACE":()=>P(ge``),BEHAVIOR:()=>P(ge`Data about my behavior`),"BEHAVIOR.ACTIVITY":()=>P(ge``),"BEHAVIOR.CONNECTION":()=>P(ge``),"BEHAVIOR.PREFERENCE":()=>P(ge``),"BEHAVIOR.TELEMETRY":()=>P(ge``),BIOMETRIC:()=>P(ge`Data about my unique physical characteristics`),CONTACT:()=>P(ge`Data allowing to contact me`),"CONTACT.EMAIL":()=>P(ge``),"CONTACT.ADDRESS":()=>P(ge``),"CONTACT.PHONE":()=>P(ge``),DEMOGRAPHIC:()=>P(ge`All information allowing to class me in a demographic category`),"DEMOGRAPHIC.AGE":()=>P(ge``),"DEMOGRAPHIC.BELIEFS":()=>P(ge``),"DEMOGRAPHIC.GENDER":()=>P(ge``),"DEMOGRAPHIC.ORIGIN":()=>P(ge``),"DEMOGRAPHIC.RACE":()=>P(ge``),"DEMOGRAPHIC.SEXUAL-ORIENTATION":()=>P(ge``),DEVICE:()=>P(ge`Data about the device I used`),FINANCIAL:()=>P(ge`Payment data, financial history and data about my financial situation`),"FINANCIAL.BANK-ACCOUNT":()=>P(ge``),GENETIC:()=>P(ge`Data related to my genetic characteristics`),HEALTH:()=>P(ge`Data about my health`),IMAGE:()=>P(ge`Any graphic representation (e.g., image, video) of me`),LOCATION:()=>P(ge`Geographic location`),NAME:()=>P(ge`First names, last names, nicknames, and other names`),PROFILING:()=>P(ge`Any data establishing a degree of similarity of with others (e.g., clusters, user-profiles)`),RELATIONSHIPS:()=>P(ge`Data about relationships I have with others, social activity and interaction`),UID:()=>P(ge`Any data that uniquely identifies me`),"UID.ID":()=>P(ge``),"UID.IP":()=>P(ge``),"UID.USER-ACCOUNT":()=>P(ge``),"UID.SOCIAL-MEDIA":()=>P(ge``),"OTHER-DATA":()=>P(ge`Any other categories or forms of data`)},rt={"*":()=>P(ge`All targets`),SYSTEM:()=>P(ge`This system`),ORGANIZATION:()=>P(ge`This system and all systems within this organization`),PARTNERS:()=>P(ge`This system, all systems within this organization, and all partners systems where data has been <b>shared or obtained</b>`),"PARTNERS.DOWNWARD":()=>P(ge`This system, all systems within this organization, and all partners systems with which data has been <b>shared</b>`),"PARTNERS.UPWARD":()=>P(ge`This system, all systems within this organization, and all partners systems from which data has been <b>obtained</b>`)},st={IN_PROCESSING:()=>P(ge`In processing`),PARTIALLY_COMPLETED:()=>P(ge`Partially completed`),COMPLETED:()=>P(ge`Completed`),CANCELED:()=>P(ge`Canceled`)},at={GRANTED:()=>P("Granted"),DENIED:()=>P("Denied"),"PARTIALLY-GRANTED":()=>P("Partially Granted"),"UNDER-REVIEW":()=>P("Under Review"),CANCELED:()=>P("Canceled")},ct={"NO-LONGER-THAN":()=>P("no longer than"),"NO-LESS-THAN":()=>P("no less than")},dt={"CAPTURE-DATE":()=>P("capture date"),"RELATIONSHIP-START":()=>P("relationship start"),"RELATIONSHIP-END":()=>P("relationship end"),"SERVICE-START":()=>P("service start"),"SERVICE-END":()=>P("service end")},lt={"*":()=>P("All"),ANONYMIZATION:()=>P("Anonymization"),"AUTOMATED-INFERENCE":()=>P("Automated Inference"),"AUTOMATED-DECISION-MAKING":()=>P("Automated Decision Making"),COLLECTION:()=>P("Collection"),GENERATING:()=>P("Generating"),PUBLISHING:()=>P("Publishing"),STORING:()=>P("Storing"),SHARING:()=>P("Sharing"),USING:()=>P("Using"),"OTHER-PROCESSING":()=>P("Other Processing")},ut={"*":()=>P(ge`<b>All</b> processing categories`),ANONYMIZATION:()=>P("Processing of personal data in such a manner that the personal data can no longer be attributed to a specific data subject without the use of additional information"),"AUTOMATED-INFERENCE":()=>P("Automatically infering data about the person, including for profiling and clustering"),"AUTOMATED-DECISION-MAKING":()=>P("Automated decision-making"),COLLECTION:()=>P("Collecting data about the person from the person or from another source, including another person or a System"),GENERATING:()=>P("Producing novel data related to the person, such as making photo, voice or video recordings, or reconding user actions such as making a log."),MATCHING:()=>P("Matching the data about the same person across multiple data sources"),PUBLISHING:()=>P("Making data publicly available"),STORING:()=>P("Storing data for further use, including adaptations and formating of the data"),SHARING:()=>P("Sharing data in controled manner with clearly identified parties"),USING:()=>P("Consulting and using data"),"OTHER-PROCESSING":()=>P("Other processing categories)")},ht={"*":()=>P("All"),ADVERTISING:()=>P("Advertising"),COMPLIANCE:()=>P("Compliance"),EMPLOYMENT:()=>P("Employment"),JUSTICE:()=>P("Justice"),MARKETING:()=>P("Marketing"),MEDICAL:()=>P("Medical"),PERSONALIZATION:()=>P("Personalization"),"PUBLIC-INTERESTS":()=>P("Public Interests"),RESEARCH:()=>P("Research"),SALE:()=>P("Sale"),SECURITY:()=>P("Security"),SERVICES:()=>P("Services"),"SERVICES.ADDITIONAL-SERVICES":()=>P("Services - Additional Services"),"SERVICES.BASIC-SERVICE":()=>P("Services - Basic Services"),"SOCIAL-PROTECTION":()=>P("Social Protection"),TRACKING:()=>P("Tracking"),"VITAL-INTERESTS":()=>P("Vitial Interests"),"OTHER-PURPOSE":()=>P("Other Purpose")},pt={"*":()=>P(ge`<b>All</b> purposes`),ADVERTISING:()=>P("To show ads that are either targeted to the specific user or not targeted"),COMPLIANCE:()=>P("Processing is performed to comply with a legal obligation"),EMPLOYMENT:()=>P(" For personnel training, recruitment, payroll, management, etc"),JUSTICE:()=>P("Processing is necessary for the establishment, exercise or defence of legal claims or whenever courts are acting in their judicial capacity"),MARKETING:()=>P("To contact the user to offer products, services, or other promotions"),MEDICAL:()=>P("Processing is necessary for the purposes of preventive or occupational medicine, for the assessment of the working capacity of the employee, medical diagnosis, the provision of health or social care or treatment or the management of health or social care systems and services"),PERSONALIZATION:()=>P("For providing user with a personalized experience"),"PUBLIC-INTERESTS":()=>P("Processing is necessary for the performance of a task carried out in the public interest or in the exercise of official authority"),RESEARCH:()=>P("Scientific and Market Research"),SALE:()=>P("Selling data to third parties"),SECURITY:()=>P("For product operation and security, enforcement of terms of service, fraud prevention, protecting users and property, etc. "),SERVICES:()=>P("Processing is necessary performed in the context of services provided to the Data Subject or contracts and transactions being concluded with them"),"SERVICES.ADDITIONAL-SERVICES":()=>P("Providing the services that the person requires that are not part of the basic service"),"SERVICES.BASIC-SERVICE":()=>P("Providing the basic service to the person"),"SOCIAL-PROTECTION":()=>P("Processing is necessary for the purposes of employment and social security and social protection"),TRACKING:()=>P("Tracking information about user behavior and activity online"),"VITAL-INTERESTS":()=>P("Processing is necessary in order to protect the vital interests of the data subject or of another natural person"),"OTHER-PURPOSE":()=>P("Other specific purpose")},mt=new URL(new URL(new URL("fede5681.svg",import.meta.url).href,import.meta.url).href,import.meta.url).href,ft=new URL(new URL(new URL("113e4705.svg",import.meta.url).href,import.meta.url).href,import.meta.url).href;let vt=class extends Pe{constructor(){super(...arguments),this.demandGroups=[],this._consents=[]}handleEditDemandGroupClick(e){this.dispatchEvent(new CustomEvent("bldn-request-review:edit-demands",{bubbles:!0,composed:!0,detail:{demandGroupIndex:e}}))}handleDeleteDemandGroupClick(e){this.dispatchEvent(new CustomEvent("bldn-request-review:delete-demands",{bubbles:!0,composed:!0,detail:{demandGroupIndex:e}}))}handleCancelClick(){this.dispatchEvent(new Event("bldn-request-review:cancel-request",{bubbles:!0,composed:!0}))}handleSubmitClick(){this.dispatchEvent(new CustomEvent("bldn-request-review:submit-request",{bubbles:!0,composed:!0,detail:{target:this._target}}))}handleTargetChange(e){e.stopPropagation();const{value:t}=e.detail;this._target=t}getListTemplate(e){return ge` <ul> ${Ke(e,(e=>ge`<li>${e}</li>`))} </ul> `}getPrivacyScopeListTemplate(t){const n=[...new Set(t.map((e=>e.dc)))],i=[...new Set(t.map((e=>e.pc)))],o=[...new Set(t.map((e=>e.pp)))];return ge` <p>${P("Data Categories")}</p> ${this.getListTemplate(n.map((e=>ge` ${"*"===e?ot[e]():ge`<b>${it[e]()} Data:</b> ${ot[e]()}`} `)))} <p>${P("Processing Categories")}</p> ${this.getListTemplate(i.map((t=>ge` ${t===e.pc._?ut[t]():ge`<b>${lt[t]()}:</b> ${ut[t]()}`} `)))} <p>${P("Purposes")}</p> ${this.getListTemplate(o.map((e=>ge` ${"*"===e?pt[e]():ge`<b>${ht[e]()}:</b> ${pt[e]()}`} `)))} `}getDateRestrictionTemplate(e){var t,n,i,o;const r=null===(n=null===(t=e[0].restrictions)||void 0===t?void 0:t.date_range)||void 0===n?void 0:n.from,s=null===(o=null===(i=e[0].restrictions)||void 0===i?void 0:i.date_range)||void 0===o?void 0:o.to;return r&&s?ge`<p> ${P(l`From ${new Date(r).toLocaleDateString()} to ${new Date(s).toLocaleDateString()}`)} </p>`:r?ge`<p> ${P(l`Since ${new Date(r).toLocaleDateString()}`)} </p>`:s?ge`<p> ${P(l`Up to ${new Date(s).toLocaleDateString()}`)} </p>`:ge`${P("No valid dates!")}`}getReviewTemplate(e){var i,o,r,s,a,c;if(e.length>0){const d=(null===(o=null===(i=e[0].restrictions)||void 0===i?void 0:i.date_range)||void 0===o?void 0:o.to)||(null===(s=null===(r=e[0].restrictions)||void 0===r?void 0:r.date_range)||void 0===s?void 0:s.from),l=(null===(c=null===(a=e[0].restrictions)||void 0===a?void 0:a.provenance)||void 0===c?void 0:c.term)&&e[0].restrictions.provenance.term!==t.term._,u=e[0].message&&e[0].action!==n.action.OTHER;return ge` ${Ye(e[0].action,[[n.action.ACCESS,()=>ge` <p>${P("I want to access:")}</p> ${this.getListTemplate(e[0].restrictions.privacy_scope.map((e=>ge` ${"*"===e.dc?ot[e.dc]():ge`<b>${it[e.dc]()} Data:</b> ${ot[e.dc]()}`} `)))} `],[n.action.DELETE,()=>ge` <p>${P("I want to delete:")}</p> ${this.getListTemplate(e[0].restrictions.privacy_scope.map((e=>ge` ${"*"===e.dc?ot[e.dc]():ge`<b>${it[e.dc]()} Data:</b> ${ot[e.dc]()}`} `)))} `],[n.action.MODIFY,()=>ge``],[n.action.OBJECT,()=>{var t;return ge` <p> ${P("I object to the processing of my data within the following scope:")} </p> ${this.getPrivacyScopeListTemplate(null===(t=e[0].restrictions)||void 0===t?void 0:t.privacy_scope)} `}],[n.action.RESTRICT,()=>{var t;return ge` <p> ${P("I restrict the processing of my data to the following scope:")} </p> ${this.getPrivacyScopeListTemplate(null===(t=e[0].restrictions)||void 0===t?void 0:t.privacy_scope)} `}],[n.action.REVOKE_CONSENT,()=>ge` <p>${P("I revoke the following consents:")}</p> ${this.getListTemplate(this._consents.filter((t=>e.findIndex((e=>e.restrictions.consent.id===t.id))>-1)).map((e=>ge`${e.name} - <i>${P(ge`Given on ${new Date(e.date).toLocaleString()}`)}</i>`)))} `],[n.action.OTHER,()=>ge` <p>${P("Details of my demand:")}</p> <i>${e[0].message}</i> `]],(()=>ge` ${Fe(e[0].action.includes("TRANSPARENCY"),(()=>ge` <p>${P("I want to know:")}</p> ${this.getListTemplate(e.map((e=>ge` ${tt[e.action]()} `)))} `))} `))} ${Fe(d||l||u,(()=>ge` <p>${P("Other options:")}</p> <ul> ${Fe(d,(()=>ge` <li><p>${P("Date Restriction")}</p></li> ${this.getDateRestrictionTemplate(e)} `))} ${Fe(l,(()=>ge` <li><p>${P("Provenance Restriction")}</p></li> ${nt[e[0].restrictions.provenance.term]()} `))} ${Fe(u,(()=>ge` <li><p>${P("Other Message")}</p></li> ${e[0].message} `))} </ul> `))} `}return ge`${P("No demands to review!")}`}willUpdate(e){e.has("demandGroups")&&this.demandGroups.findIndex((e=>e.findIndex((e=>e.action===n.action.REVOKE_CONSENT))>0))>0&&(i.getInstance().apiTokenSet()?i.getInstance().getUserConsents().then((e=>{this._consents=e})):console.log("User must be authenticated!"))}render(){return ge` <bldn-nav-wrapper left-button="Cancel Request" right-button="Submit Request" @bldn-nav-wrapper:left-click="${this.handleCancelClick}" @bldn-nav-wrapper:right-click="${this.handleSubmitClick}"> <bldn-dropdown class="main-section" mode="major" open> <span slot="heading"><strong>${P("Request Summary")}</strong></span> ${Ke(this.demandGroups,((e,t)=>ge` ${Fe(e.length>0,(()=>ge` <bldn-dropdown> <span slot="heading"><strong>${e[0].action.split(".")[0]} ${P("Demand")}</strong> <button class="img-button" @click="${()=>this.handleEditDemandGroupClick(t)}"> <img src="${mt}" alt="edit demand group"> </button> <button class="img-button" @click="${()=>this.handleDeleteDemandGroupClick(t)}"> <img src="${ft}" alt="delete demand group"> </button> </span> ${this.getReviewTemplate(e)} </bldn-dropdown> `))} `))} </bldn-dropdown> <bldn-dropdown id="request-target" class="main-section" mode="major"> <span slot="heading"><strong>${P("Request Target")}</strong></span> <p>${P("I address my Privacy Request to:")}</p> <bldn-radio-list .choices="${Object.values(o.target).map((e=>({display:rt[e](),value:e,checked:e===o.target.PARTNERS})))}" @bldn-radio-list:choice-change="${this.handleTargetChange}"></bldn-radio-list> </bldn-dropdown> </bldn-nav-wrapper> `}};vt.styles=j`:host{color:var(--bldn-request-review-font-color,var(--color-dark));text-align:left}#request-target bldn-radio-list{padding-left:1em}li{margin:1em 0}.img-button{border:none;background:0 0}bldn-dropdown.main-section{border:2px solid var(--bldn-request-review-section-border-color,var(--color-light));border-radius:20px;padding:2.5em}bldn-dropdown.main-section[open]{padding:2.5em 2.5em .5em 2.5em}bldn-dropdown.main-section:hover{border:2px solid var(--bldn-request-review-section-border-color-hovered,var(--color-dark))}bldn-dropdown span{display:inline-flex;align-items:center}bldn-dropdown.main-section>span{font-size:var(--bldn-request-review-section-heading-font-size,var(--font-size-medium));color:var(--bldn-request-review-section-heading-font-color,var(--color-dark))}bldn-dropdown bldn-dropdown[open]{padding-bottom:1em}bldn-dropdown bldn-dropdown span{font-size:var(--font-size-small);color:var(--bldn-request-review-subsection-heading-font-color,var(--color-dark))}bldn-dropdown{border-bottom:2px solid var(--bldn-request-review-subsection-divider-color,var(--color-lightest))}bldn-dropdown bldn-dropdown:last-child{border-bottom:none}bldn-nav-wrapper{padding:2.813em 2.813em 0 2.813em}`,d([We({type:Array})],vt.prototype,"demandGroups",void 0),d([He()],vt.prototype,"_consents",void 0),d([He()],vt.prototype,"_target",void 0),vt=d([De("bldn-request-review")],vt);class gt extends Pe{constructor(){super(...arguments),this.demands=this.getDefaultDemands(),this.hasError=!1,this.includeOptions=!0}addToPrivacyRequest(e,t){this.dispatchEvent(new CustomEvent("bldn-action-form:set-demands",{bubbles:!0,composed:!0,detail:{demandGroupIndex:e,demands:t}}))}handleBackClick(){this.dispatchEvent(new Event("bldn-action-form:back-click",{bubbles:!0,composed:!0}))}handleAddClick(){this.validate()&&(this.addToPrivacyRequest(this.demandGroupIndex,this.demands),this.dispatchEvent(new CustomEvent("bldn-action-form:next-click",{bubbles:!0,composed:!0})))}validate(){return this.mainInputErrorMessage=this.validateActionInput(),this.optionsInputErrorMessage=this.validateOptionsInput(),void 0===this.mainInputErrorMessage&&void 0===this.optionsInputErrorMessage}render(){return ge` <bldn-nav-wrapper left-button="Back" right-button="Next" @bldn-nav-wrapper:left-click="${this.handleBackClick}" @bldn-nav-wrapper:right-click="${this.handleAddClick}"> <bldn-dropdown class="main-section" mode="major" open> <span slot="heading"><strong>${P(l`Details of my ${this.action} Demand`)}</strong></span> ${this.getFormTemplate()} </bldn-dropdown> ${Fe(this.includeOptions,(()=>ge` <bldn-dropdown class="main-section" mode="major"> <span slot="heading"><strong>${P("Other Options")}</strong></span> ${this.getOptionsTemplate()} </bldn-dropdown> `))} </bldn-nav-wrapper> `}}gt.styles=[j`:host{width:100%;margin:0}bldn-dropdown.main-section{border:2px solid var(--bldn-action-form-section-border-color,var(--color-light));border-radius:20px;padding:2.5em}bldn-dropdown.main-section[open]{padding:2.5em 2.5em .5em 2.5em}bldn-dropdown.main-section:hover{border:2px solid var(--bldn-action-form-section-border-color-hovered,var(--color-dark))}bldn-dropdown.main-section>span{font-size:var(--bldn-action-form-section-heading-font-size,var(--font-size-medium));color:var(--bldn-action-form-section-heading-font-color,var(--color-dark))}bldn-dropdown bldn-dropdown[open]{padding-bottom:1.875em}bldn-dropdown bldn-dropdown span{font-size:var(--font-size-small);color:var(--bldn-action-form-subsection-heading-font-color,var(--color-dark))}bldn-dropdown bldn-dropdown span~*{padding-left:1.25em}bldn-dropdown{border-bottom:2px solid var(--bldn-action-form-subsection-divider-color,var(--color-lightest))}bldn-dropdown bldn-dropdown:last-child{border-bottom:none}bldn-nav-wrapper{padding:2.813em 2.813em 0 2.813em}`],d([We({type:Number,attribute:"demand-group-index"})],gt.prototype,"demandGroupIndex",void 0),d([We({type:Array,attribute:"demands"})],gt.prototype,"demands",void 0),d([He()],gt.prototype,"hasError",void 0),d([He()],gt.prototype,"mainInputErrorMessage",void 0),d([He()],gt.prototype,"optionsInputErrorMessage",void 0);const bt=new URL(new URL(new URL("4ab96fc4.svg",import.meta.url).href,import.meta.url).href,import.meta.url).href,yt=new URL(new URL(new URL("33bddcd8.svg",import.meta.url).href,import.meta.url).href,import.meta.url).href,wt=new URL(new URL(new URL("6ae513a6.svg",import.meta.url).href,import.meta.url).href,import.meta.url).href,St=new URL(new URL(new URL("a302f28e.svg",import.meta.url).href,import.meta.url).href,import.meta.url).href,Ct=new URL(new URL(new URL("e9aec8cc.svg",import.meta.url).href,import.meta.url).href,import.meta.url).href;var Et;!function(e){e[e.ALL=0]="ALL",e[e.SOME=1]="SOME",e[e.NONE=2]="NONE"}(Et||(Et={}));let Rt=class extends Pe{constructor(){super(...arguments),this.choices=[],this.open=!1,this.includeOther=!1,this.selectionState=Et.ALL,this.selectedChoices=new Set}selectChoice(e){this.selectedChoices.add(e);const t=new CustomEvent("bldn-all-checklist:choice-select",{bubbles:!0,composed:!0,detail:{value:e,"first-selection":1===this.selectedChoices.size}});this.dispatchEvent(t)}deselectChoice(e){this.selectedChoices.delete(e);const t=new CustomEvent("bldn-all-checklist:choice-deselect",{bubbles:!0,composed:!0,detail:{value:e,"none-selected":0===this.selectedChoices.size}});this.dispatchEvent(t)}handleChoiceClick(e){const{id:t,checked:n}=e.target;"all-checkbox"===t?n?(this.choiceCheckboxes.forEach((e=>{e.checked=!0})),this.choices.forEach((e=>{e.allChoice?this.selectChoice(e.value):this.deselectChoice(e.value)}))):(this.choiceCheckboxes.forEach((e=>{e.checked=!1})),this.choices.forEach((e=>{this.deselectChoice(e.value)}))):n?this.selectedChoices.size===this.choices.length-2?(this.allCheckbox.checked=!0,this.choices.forEach((e=>{e.allChoice?this.selectChoice(e.value):this.deselectChoice(e.value)})),this.choiceCheckboxes.forEach((e=>{e.checked=!0})),this.allCheckbox.checked=!0):this.selectChoice(t):this.allCheckbox.checked?(this.allCheckbox.checked=!1,this.choices.forEach((e=>{e.value===t||e.allChoice?e.value&&this.deselectChoice(e.value):this.selectChoice(e.value)}))):this.deselectChoice(t),this.updateSelectionState()}handleOtherClick(e){this.dispatchEvent(new CustomEvent("bldn-all-checklist:other-click",{bubbles:!0,composed:!0,detail:{checked:e.target.checked}}))}handleOtherInput(e){this.dispatchEvent(new CustomEvent("bldn-all-checklist:other-input",{bubbles:!0,composed:!0,detail:{text:e.target.value}}))}updateSelectionState(){const e=this.choices.find((e=>e.allChoice))||{value:"*",display:ge`<b>${P("Select All")}</b>`,checked:!0,allChoice:!0};0===this.selectedChoices.size?this.selectionState=Et.NONE:1===this.selectedChoices.size&&this.selectedChoices.has(e.value)?this.selectionState=Et.ALL:this.selectionState=Et.SOME}getCheckboxImg(){const e=this.choices.find((e=>e.allChoice))||{value:"*",display:ge`<b>${P("Select All")}</b>`,checked:!0,allChoice:!0};return 0===this.selectedChoices.size?ge`<img src="${wt}" alt="empty checkbox">`:1===this.selectedChoices.size&&this.selectedChoices.has(e.value)?ge`<img src="${bt}" alt="checked checkbox">`:ge`<img src="${yt}" alt="dash checkbox">`}willUpdate(e){if(e.has("choices")){const e=this.choices.find((e=>e.allChoice));e&&e.checked?this.selectedChoices.add(e.value):this.choices.forEach((e=>{e.checked&&!e.allChoice&&this.selectedChoices.add(e.value)}))}this.updateSelectionState()}render(){const e=this.choices.find((e=>e.allChoice))||{value:"*",display:ge`<b>${P("Select All")}</b>`,checked:!0,allChoice:!0};return ge` <div class="choices-list"> <div class="all-ctr"> <input id="all-checkbox" type="checkbox" @click="${this.handleChoiceClick}" ?checked="${this.selectedChoices.has(e.value)}"> <label for="all-checkbox"> ${this.getCheckboxImg()} </label> <span class="all-prefix">${e.display}</span> </div> ${Fe(this.open,(()=>ge` ${this.choices.filter((e=>!e.allChoice)).map((t=>ge` <div class="choice-ctr"> <input id="${t.value}" class="choice-checkbox" type="checkbox" ?checked="${this.selectedChoices.has(t.value)||this.selectedChoices.has(e.value)}" @change="${this.handleChoiceClick}"> <label>${t.display}</label> </div> `))} ${Fe(this.includeOther,(()=>ge` <div id="other-data-ctr"> <div class="choice-ctr"> <input id="other-checkbox" type="checkbox" @change="${this.handleOtherClick}"> <label>${P(ge`<b>OTHER-DATA:</b> Specify another type of data`)}</label> </div> <div id="other-data-input-ctr"> <span>${P("Other data type:")}</span> <input id="other-data-input" type="text"> </div> </div> `))} `))} </div> <button @click="${()=>{this.open=!this.open}}"> ${Fe(this.open,(()=>ge`<img src="${St}" alt="close arrow">`),(()=>ge`<img src="${Ct}" alt="expand list">`))} </button> `}};Rt.styles=[j`:host{display:block;text-align:center}:host([selection-state='0']) .choice-checkbox{opacity:.5}:host([selection-state='0']) #all-checkbox:checked+label{opacity:1}:host([selection-state='1']) #all-checkbox+label{opacity:1}:host([selection-state='2']) .choice-checkbox{opacity:1}.choices-list{display:grid;overflow:hidden;grid-template-columns:1fr;row-gap:1.5em;padding:0 0 1em 0}.choice-ctr{text-align:left}.all-ctr{display:flex;align-items:center}.all-prefix{padding:0 0 0 4px}#all-checkbox{display:none}#all-checkbox+label{height:13px;width:13px;display:inline-block;margin:3px 3px 3px 4px}#other-data-input-ctr{display:flex;column-gap:5px;padding:20px 55px;align-items:center}#other-data-input input{height:30px;width:100%;background:#f8f8fc;border:1px solid #e5e5e5;border-radius:4px}#other-data-input span{flex-shrink:0}button{background:0 0;border:none}`],d([We({type:Array})],Rt.prototype,"choices",void 0),d([We({type:Boolean,reflect:!0})],Rt.prototype,"open",void 0),d([We({type:Boolean,attribute:"include-other"})],Rt.prototype,"includeOther",void 0),d([We({type:Number,reflect:!0,attribute:"selection-state"})],Rt.prototype,"selectionState",void 0),d([He()],Rt.prototype,"selectedChoices",void 0),d([function(e,t){return Ue({descriptor:n=>{const i={get(){var t,n;return null!==(n=null===(t=this.renderRoot)||void 0===t?void 0:t.querySelector(e))&&void 0!==n?n:null},enumerable:!0,configurable:!0};if(t){const t="symbol"==typeof n?Symbol():"__"+n;i.get=function(){var n,i;return void 0===this[t]&&(this[t]=null!==(i=null===(n=this.renderRoot)||void 0===n?void 0:n.querySelector(e))&&void 0!==i?i:null),this[t]}}return i}})}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */("#all-checkbox")],Rt.prototype,"allCheckbox",void 0),d([function(e){return Ue({descriptor:t=>({get(){var t,n;return null!==(n=null===(t=this.renderRoot)||void 0===t?void 0:t.querySelectorAll(e))&&void 0!==n?n:[]},enumerable:!0,configurable:!0})})}(".choice-checkbox")],Rt.prototype,"choiceCheckboxes",void 0),Rt=d([De("bldn-all-checklist")],Rt);let kt=class extends Pe{handleDateChange(e){const{id:t,value:n}=e.target,i=new Date(n).toISOString();"Invalid Date"!==i.toString()&&["start-date","end-date"].includes(t)&&this.dispatchEvent(new CustomEvent(`bldn-date-restriction:${"start-date"===t?"start":"end"}-date-change`,{bubbles:!0,composed:!0,detail:{date:i}}))}render(){const e=void 0!==this.start?new Date(this.start).toISOString().split("T")[0]:void 0,t=void 0!==this.end?new Date(this.end).toISOString().split("T")[0]:void 0;return ge` <p>${P("Specify a date range for the selected data categories:")}</p> <span>${P("From")}</span> <input id="start-date" type="date" value="${Xe(e)}" @input="${this.handleDateChange}"> <span>${P("to")}</span> <input id="end-date" type="date" value="${Xe(t)}" @input="${this.handleDateChange}"> `}};kt.styles=j`:host{display:block;text-align:left;color:var(--bldn-data-restriction-font-color,var(--color-dark))}p{margin:1.3em 0}input{border-radius:10px;padding:.75em;border:2px solid var(--bldn-date-restriction-input-border-color,var(--color-light));background:var(--bldn-date-restriction-input-background-color,var(--color-lightest));margin:0 1em;transition:.3s ease-out}input:hover{border-color:var(--bldn-date-restriction-input-border-color-hover,var(--color-medium));transition:.3s ease}`,d([We({type:String})],kt.prototype,"start",void 0),d([We({type:String})],kt.prototype,"end",void 0),kt=d([De("bldn-date-restriction")],kt);let _t=class extends Pe{handleTermChange(e){this.dispatchEvent(new CustomEvent("bldn-provenance-restriction:term-change",{bubbles:!0,composed:!0,detail:{term:e}}))}handleTargetChange(e){this.dispatchEvent(new CustomEvent("bldn-provenance-restriction:target-change",{bubbles:!0,composed:!0,detail:{target:e}}))}render(){return ge` <p>${P("My demand applies to data from the following provenance:")}</p> <fieldset class="provenance-restriction"> ${Object.values(t.term).map((e=>ge` <input id="${e}" name="provenance-term" type="radio" ?checked="${this.term===e}" @click="${()=>this.handleTermChange(e)}">  <label for="${e}">${nt[e]()}</label><br> `))} </fieldset> `}};_t.styles=j`:host{display:block;text-align:left}fieldset{border:none;margin:0;padding:0;text-align:left}input~input{margin-top:1em}`,d([We({type:String})],_t.prototype,"term",void 0),d([We({type:String})],_t.prototype,"target",void 0),_t=d([De("bldn-provenance-restriction")],_t);let It=class extends Pe{handleMessageChange(e){const{value:t}=e.target;this.dispatchEvent(new CustomEvent("bldn-additional-message:message-change",{bubbles:!0,composed:!0,detail:{message:t}}))}render(){return ge` <p class="">${P("My additional message:")}</p> <p> <i> ${P("Please note that adding a personalized message might lead to the demand taking longer to be processed")} </i> </p> <textarea id="additional-msg" class="std-txt-area" name="paragraph_text" cols="50" rows="10" @input="${this.handleMessageChange}">
${this.message}</textarea> `}};It.styles=j`:host{display:block;text-align:left}textarea{box-sizing:border-box;width:100%;border:1px solid var(--bldn-additional-message-textarea-border-color,var(--color-light));background:rgba(var(--color-light-rgb),.2);border-radius:10px}`,d([We({type:String})],It.prototype,"message",void 0),It=d([De("bldn-additional-message")],It);let At=class extends gt{constructor(){super(...arguments),this.dataCategories=[],this.action=n.action.ACCESS}validateActionInput(){}validateOptionsInput(){}getDefaultDemands(){return[{id:"",action:n.action.ACCESS,restrictions:{privacy_scope:[{dc:"*",pc:e.pc._,pp:e.pp._}],provenance:{term:t.term._},date_range:{}}}]}addDataCategory(t){t.stopPropagation();const{value:n}=t.detail;this.demands[0].restrictions.privacy_scope.push({dc:n,pc:e.pc._,pp:e.pp._})}removeDataCategory(e){e.stopPropagation();const{value:t}=e.detail;this.demands[0].restrictions.privacy_scope.splice(this.demands[0].restrictions.privacy_scope.findIndex((e=>e.dc===t)),1)}changeDateRestrictionStart(e){e.stopPropagation();const{date:t}=e.detail;this.demands[0].restrictions.date_range.from=t}changeDateRestrictionEnd(e){e.stopPropagation();const{date:t}=e.detail;this.demands[0].restrictions.date_range.to=t}changeProvenanceRestrictionTerm(e){e.stopPropagation();const{term:t}=e.detail;this.demands[0].restrictions.provenance.term=t}changeMessage(e){e.stopPropagation();const{message:t}=e.detail;this.demands[0].message=t}connectedCallback(){super.connectedCallback(),this.addEventListener("bldn-all-checklist:choice-select",this.addDataCategory),this.addEventListener("bldn-all-checklist:choice-deselect",this.removeDataCategory),this.addEventListener("bldn-date-restriction:start-date-change",this.changeDateRestrictionStart),this.addEventListener("bldn-date-restriction:end-date-change",this.changeDateRestrictionEnd),this.addEventListener("bldn-provenance-restriction:term-change",this.changeProvenanceRestrictionTerm),this.addEventListener("bldn-additional-message:message-change",this.changeMessage)}disconnectedCallback(){this.removeEventListener("bldn-all-checklist:choice-select",this.addDataCategory),this.removeEventListener("bldn-all-checklist:choice-deselect",this.removeDataCategory),this.removeEventListener("bldn-date-restriction:start-date-change",this.changeDateRestrictionStart),this.removeEventListener("bldn-date-restriction:end-date-change",this.changeDateRestrictionEnd),this.removeEventListener("bldn-provenance-restriction:term-change",this.changeProvenanceRestrictionTerm),this.removeEventListener("bldn-additional-message:message-change",this.changeMessage)}getFormTemplate(){return ge` <p>${P("I want to access:")}</p> <bldn-all-checklist .choices="${this.dataCategories.map((e=>{var t,n;return{value:e,display:ge`${"*"===e?"":ge`<b>${it[e]()} ${P("Data")}: </b>`}${ot[e]()}`,checked:-1!==(null===(n=null===(t=this.demands[0].restrictions)||void 0===t?void 0:t.privacy_scope)||void 0===n?void 0:n.findIndex((t=>t.dc===e))),allChoice:"*"===e}}))}"></bldn-all-checklist> `}getOptionsTemplate(){var e,t,n,i,o,r;return ge` <bldn-dropdown> <span slot="heading"><strong>${P("Date Restriction")}</strong></span> <bldn-date-restriction start="${Xe(null===(t=null===(e=this.demands[0].restrictions)||void 0===e?void 0:e.date_range)||void 0===t?void 0:t.from)}" end="${Xe(null===(i=null===(n=this.demands[0].restrictions)||void 0===n?void 0:n.date_range)||void 0===i?void 0:i.to)}"></bldn-date-restriction> </bldn-dropdown> <bldn-dropdown> <span slot="heading"><strong>${P("Provenance Restriction")}</strong></span> <bldn-provenance-restriction term="${Xe(null===(r=null===(o=this.demands[0].restrictions)||void 0===o?void 0:o.provenance)||void 0===r?void 0:r.term)}"></bldn-provenance-restriction> </bldn-dropdown> <bldn-dropdown> <span slot="heading"><strong>${P("Additional Message")}</strong></span> <bldn-additional-message message="${Xe(this.demands[0].message)}"></bldn-additional-message> </bldn-dropdown> `}};At.styles=[gt.styles,j`:host{text-align:left;color:var(--bldn-access-form-font-color,var(--color-dark))}p{margin:2em 0}p+bldn-all-checklist{margin-top:1em;padding-left:1em}`],d([We({type:Array,attribute:"data-categories"})],At.prototype,"dataCategories",void 0),At=d([De("bldn-access-form")],At);let Tt=class extends gt{constructor(){super(...arguments),this.dataCategories=[],this.action=n.action.DELETE}validateActionInput(){}validateOptionsInput(){}getFormTemplate(){return ge` <p>${P("I want to delete:")}</p> <bldn-all-checklist .choices="${this.dataCategories.map((e=>{var t,n;return{value:e,display:ge`${"*"===e?"":ge`<b>${it[e]()} ${P("Data")}: </b>`}${ot[e]()}`,checked:-1!==(null===(n=null===(t=this.demands[0].restrictions)||void 0===t?void 0:t.privacy_scope)||void 0===n?void 0:n.findIndex((t=>t.dc===e))),allChoice:"*"===e}}))}"></bldn-all-checklist> `}getOptionsTemplate(){var e,t,n,i,o,r;return ge` <bldn-dropdown> <span slot="heading"><strong>${P("Date Restriction")}</strong></span> <bldn-date-restriction start="${Xe(null===(t=null===(e=this.demands[0].restrictions)||void 0===e?void 0:e.date_range)||void 0===t?void 0:t.from)}" end="${Xe(null===(i=null===(n=this.demands[0].restrictions)||void 0===n?void 0:n.date_range)||void 0===i?void 0:i.to)}"></bldn-date-restriction> </bldn-dropdown> <bldn-dropdown> <span slot="heading"><strong>${P("Provenance Restriction")}</strong></span> <bldn-provenance-restriction term="${Xe(null===(r=null===(o=this.demands[0].restrictions)||void 0===o?void 0:o.provenance)||void 0===r?void 0:r.term)}"></bldn-provenance-restriction> </bldn-dropdown> <bldn-dropdown> <span slot="heading"><strong>${P("Additional Message")}</strong></span> <bldn-additional-message message="${Xe(this.demands[0].message)}"></bldn-additional-message> </bldn-dropdown> `}getDefaultDemands(){return[{id:"",action:n.action.DELETE,restrictions:{privacy_scope:[{dc:"*",pc:e.pc._,pp:e.pp._}],provenance:{term:t.term._},date_range:{}}}]}addDataCategory(t){t.stopPropagation();const{value:n}=t.detail;this.demands[0].restrictions.privacy_scope.push({dc:n,pc:e.pc._,pp:e.pp._})}removeDataCategory(e){e.stopPropagation();const{value:t}=e.detail;this.demands[0].restrictions.privacy_scope.splice(this.demands[0].restrictions.privacy_scope.findIndex((e=>e.dc===t)),1)}changeDateRestrictionStart(e){e.stopPropagation();const{date:t}=e.detail;this.demands[0].restrictions.date_range.from=t}changeDateRestrictionEnd(e){e.stopPropagation();const{date:t}=e.detail;this.demands[0].restrictions.date_range.to=t}changeProvenanceRestrictionTerm(e){e.stopPropagation();const{term:t}=e.detail;this.demands[0].restrictions.provenance.term=t}changeMessage(e){e.stopPropagation();const{message:t}=e.detail;this.demands[0].message=t}connectedCallback(){super.connectedCallback(),this.addEventListener("bldn-all-checklist:choice-select",this.addDataCategory),this.addEventListener("bldn-all-checklist:choice-deselect",this.removeDataCategory),this.addEventListener("bldn-date-restriction:start-date-change",this.changeDateRestrictionStart),this.addEventListener("bldn-date-restriction:end-date-change",this.changeDateRestrictionEnd),this.addEventListener("bldn-provenance-restriction:term-change",this.changeProvenanceRestrictionTerm),this.addEventListener("bldn-additional-message:message-change",this.changeMessage)}disconnectedCallback(){this.removeEventListener("bldn-all-checklist:choice-select",this.addDataCategory),this.removeEventListener("bldn-all-checklist:choice-deselect",this.removeDataCategory),this.removeEventListener("bldn-date-restriction:start-date-change",this.changeDateRestrictionStart),this.removeEventListener("bldn-date-restriction:end-date-change",this.changeDateRestrictionEnd),this.removeEventListener("bldn-provenance-restriction:term-change",this.changeProvenanceRestrictionTerm),this.removeEventListener("bldn-additional-message:message-change",this.changeMessage)}};Tt.styles=[gt.styles,j`:host{text-align:left;color:var(--bldn-delete-form-font-color,var(--color-dark))}p{margin:2em 0}p+bldn-all-checklist{margin-top:1em;padding-left:1em}`],d([We({type:Array,attribute:"data-categories"})],Tt.prototype,"dataCategories",void 0),Tt=d([De("bldn-delete-form")],Tt);const Nt=new URL(new URL(new URL("40f12881.svg",import.meta.url).href,import.meta.url).href,import.meta.url).href,Lt=new URL(new URL(new URL("8f3b910a.svg",import.meta.url).href,import.meta.url).href,import.meta.url).href;let Ot=class extends Pe{constructor(){super(...arguments),this.mode="select",this.privacyScope=[{dc:"*",pc:e.pc._,pp:e.pp._}],this.dataCategories=[],this.processingCategories=[],this.purposes=[],this._dataCategories=new Set,this._processingCategories=new Set,this._purposes=new Set,this._showTooltip=!1}getModeTemplate(){return ge` ${Ye(this.mode,[["select",()=>ge` ${P("I select the following")} <bldn-button id="scope-tooltip-button" mode="link" underline-mode="dotted" @click="${()=>{this._showTooltip=!this._showTooltip}}">${P(ge`<b>privacy scope</b>`)}</bldn-button> `],["object",()=>ge` ${P("I object to the processing of my data within the following")} <bldn-button id="scope-tooltip-button" mode="link-icon" underline-mode="dotted" @click="${()=>{this._showTooltip=!this._showTooltip}}"> ${P(ge`<b>privacy scope</b>`)} <img src="${Lt}" alt="privacy scope tooltip"> </bldn-button> `],["restrict",()=>ge` ${P("I restrict the processing of my data to the following")} <bldn-button id="scope-tooltip-button" mode="link" underline-mode="dotted" @click="${()=>{this._showTooltip=!this._showTooltip}}">${P(ge`<b>privacy scope</b>`)}</bldn-button> `]])} `}setPrivacyScope(){const e=function(...e){return e.reduce(((e,t)=>e.map((e=>t.map((t=>[...e,t])))).reduce(((e,t)=>[...e,...t]),[])),[[]])}(Array.from(this._dataCategories.values()),Array.from(this._processingCategories.values()),Array.from(this._purposes.values())).map((e=>({dc:e[0],pc:e[1],pp:e[2]})));this.dispatchEvent(new CustomEvent("bldn-privacy-scope-picker:scope-change",{bubbles:!0,composed:!0,detail:{privacyScope:e}}))}addDataCategory(e){const{value:t}=e.detail;this._dataCategories.add(t),this.setPrivacyScope(),this.requestUpdate()}removeDataCategory(e){const{value:t}=e.detail;this._dataCategories.delete(t),this.setPrivacyScope(),this.requestUpdate()}addProcessingCategory(e){const{value:t}=e.detail;this._processingCategories.add(t),this.setPrivacyScope(),this.requestUpdate()}removeProcessingCategory(e){const{value:t}=e.detail;this._processingCategories.delete(t),this.setPrivacyScope(),this.requestUpdate()}addPurpose(e){const{value:t}=e.detail;this._purposes.add(t),this.setPrivacyScope(),this.requestUpdate()}removePurpose(e){const{value:t}=e.detail;this._purposes.delete(t),this.setPrivacyScope(),this.requestUpdate()}handlePrivacyScopeChange(){this._dataCategories=new Set(this.privacyScope.map((e=>e.dc))),this._processingCategories=new Set(this.privacyScope.map((e=>e.pc))),this._purposes=new Set(this.privacyScope.map((e=>e.pp)))}willUpdate(e){e.has("privacyScope")&&this.handlePrivacyScopeChange()}render(){return ge` <p><b>${this.getModeTemplate()}</b></p> <p id="scope-summary"> ${P(ge` Data from <span class="scope-counter"><b>${1===this._dataCategories.size&&this._dataCategories.has("*")?"all":this._dataCategories.size}</b></span> categories, processed in <span class="scope-counter"><b>${1===this._processingCategories.size&&this._processingCategories.has(e.pc._)?"all":this._processingCategories.size}</b></span> ways, for <span class="scope-counter"><b>${1===this._purposes.size&&this._purposes.has(e.pp._)?"all":this._purposes.size}</b></span> purposes `)} </p> ${Fe(this._showTooltip,(()=>ge` <div id="tooltip"> <img src="${Nt}" alt="info box"> <span>${P(ge`A <b><i>Privacy Scope</i></b> describes one or more types of data (<i>data categories</i>), how it is processed (<i>processing categories</i>), and why it is processed that way (<i>purposes of processing</i>).`)}</span> </div> `))} <p id="expand-tip"> <i>${P("Expand a dropdown to customise your scope")}</i> </p> <bldn-dropdown> <span slot="heading"><strong>${P("Data Categories")}</strong></span> <p>${P("The types of data in my privacy scope are:")}</p> <bldn-all-checklist .choices="${this.dataCategories.map((e=>(e.checked=this._dataCategories.has(e.value),e)))}" @bldn-all-checklist:choice-select="${this.addDataCategory}" @bldn-all-checklist:choice-deselect="${this.removeDataCategory}"></bldn-all-checklist> </bldn-dropdown> <bldn-dropdown> <span slot="heading"><strong>${P("Processing Categories")}</strong></span> <p>${P("The ways data in my privacy scope is processed:")}</p> <bldn-all-checklist .choices="${this.processingCategories.map((e=>(e.checked=this._processingCategories.has(e.value),e)))}" @bldn-all-checklist:choice-select="${this.addProcessingCategory}" @bldn-all-checklist:choice-deselect="${this.removeProcessingCategory}"></bldn-all-checklist> </bldn-dropdown> <bldn-dropdown> <span slot="heading"><strong>${P("Purposes of Processing")}</strong></span> <p>${P("The reasons for processing data in my privacy scope:")}</p> <bldn-all-checklist .choices="${this.purposes.map((e=>(e.checked=this._purposes.has(e.value),e)))}" @bldn-all-checklist:choice-select="${this.addPurpose}" @bldn-all-checklist:choice-deselect="${this.removePurpose}"></bldn-all-checklist> </bldn-dropdown> `}};Ot.styles=j`:host{color:var(--bldn-privacy-scope-picker-font-color,var(--color-dark));text-align:left}bldn-dropdown:not(:last-child){border-bottom:2px solid var(--bldn-privacy-scope-picker-dropdown-divider-color,var(--color-lightest))}p{margin:1.5em 0}#scope-summary{line-height:30px}.scope-counter{background:var(--color-light);padding:.3em .5em;border-radius:5px}#tooltip{display:flex;padding:1em;gap:1em;background:var(--color-lightest);border-radius:20px}#tooltip img{align-self:center}#expand-tip{color:var(--color-medium)}`,d([We({type:String})],Ot.prototype,"mode",void 0),d([We({type:Array,attribute:"privacy-scope"})],Ot.prototype,"privacyScope",void 0),d([We({type:Array})],Ot.prototype,"dataCategories",void 0),d([We({type:Array})],Ot.prototype,"processingCategories",void 0),d([We({type:Array})],Ot.prototype,"purposes",void 0),d([He()],Ot.prototype,"_dataCategories",void 0),d([He()],Ot.prototype,"_processingCategories",void 0),d([He()],Ot.prototype,"_purposes",void 0),d([He()],Ot.prototype,"_showTooltip",void 0),Ot=d([De("blnd-privacy-scope-picker")],Ot);let xt=class extends gt{constructor(){super(...arguments),this.dataCategories=[],this.processingCategories=[],this.purposes=[],this.action=n.action.OBJECT}validateActionInput(){}validateOptionsInput(){}getFormTemplate(){return ge` <blnd-privacy-scope-picker mode="object" .privacyScope="${this.demands[0].restrictions.privacy_scope}" .dataCategories="${this.dataCategories.map((e=>({value:e,display:"*"===e?ge`${ot[e]()}`:ge`<b>${it[e]()} ${P("Data")}:</b> ${ot[e]()}`,allChoice:"*"===e})))}" .processingCategories="${this.processingCategories.map((e=>({value:e,display:"*"===e?ge`${ut[e]()}`:ge`<b>${lt[e]()}:</b> ${ut[e]()}`,allChoice:"*"===e})))}" .purposes="${this.purposes.map((e=>({value:e,display:"*"===e?ge`${pt[e]()}`:ge`<b>${ht[e]()}:</b> ${pt[e]()}`,allChoice:"*"===e})))}"></blnd-privacy-scope-picker> `}getOptionsTemplate(){var e,t,n,i,o,r;return ge` <bldn-dropdown> <span slot="heading"><strong>${P("Date Restriction")}</strong></span> <bldn-date-restriction start="${Xe(null===(t=null===(e=this.demands[0].restrictions)||void 0===e?void 0:e.date_range)||void 0===t?void 0:t.from)}" end="${Xe(null===(i=null===(n=this.demands[0].restrictions)||void 0===n?void 0:n.date_range)||void 0===i?void 0:i.to)}"></bldn-date-restriction> </bldn-dropdown> <bldn-dropdown> <span slot="heading"><strong>${P("Provenance Restriction")}</strong></span> <bldn-provenance-restriction term="${Xe(null===(r=null===(o=this.demands[0].restrictions)||void 0===o?void 0:o.provenance)||void 0===r?void 0:r.term)}"></bldn-provenance-restriction> </bldn-dropdown> <bldn-dropdown> <span slot="heading"><strong>${P("Additional Message")}</strong></span> <bldn-additional-message message="${Xe(this.demands[0].message)}"></bldn-additional-message> </bldn-dropdown> `}getDefaultDemands(){return[{id:"",action:n.action.OBJECT,restrictions:{privacy_scope:[{dc:"*",pc:e.pc._,pp:e.pp._}],provenance:{term:t.term._},date_range:{}}}]}changePrivacyScopeRestriction(e){e.stopPropagation();const{privacyScope:t}=e.detail;this.demands[0].restrictions.privacy_scope=t}changeDateRestrictionStart(e){e.stopPropagation();const{date:t}=e.detail;this.demands[0].restrictions.date_range.from=t}changeDateRestrictionEnd(e){e.stopPropagation();const{date:t}=e.detail;this.demands[0].restrictions.date_range.to=t}changeProvenanceRestrictionTerm(e){e.stopPropagation();const{term:t}=e.detail;this.demands[0].restrictions.provenance.term=t}changeMessage(e){e.stopPropagation();const{message:t}=e.detail;this.demands[0].message=t}connectedCallback(){super.connectedCallback(),this.addEventListener("bldn-privacy-scope-picker:scope-change",this.changePrivacyScopeRestriction),this.addEventListener("bldn-date-restriction:start-date-change",this.changeDateRestrictionStart),this.addEventListener("bldn-date-restriction:end-date-change",this.changeDateRestrictionEnd),this.addEventListener("bldn-provenance-restriction:term-change",this.changeProvenanceRestrictionTerm),this.addEventListener("bldn-additional-message:message-change",this.changeMessage)}disconnectedCallback(){this.removeEventListener("bldn-privacy-scope-picker:scope-change",this.changePrivacyScopeRestriction),this.removeEventListener("bldn-date-restriction:start-date-change",this.changeDateRestrictionStart),this.removeEventListener("bldn-date-restriction:end-date-change",this.changeDateRestrictionEnd),this.removeEventListener("bldn-provenance-restriction:term-change",this.changeProvenanceRestrictionTerm),this.removeEventListener("bldn-additional-message:message-change",this.changeMessage)}};xt.styles=[gt.styles,j``],d([We({type:Array,attribute:"data-categories"})],xt.prototype,"dataCategories",void 0),d([We({type:Array,attribute:"processing-categories"})],xt.prototype,"processingCategories",void 0),d([We({type:Array,attribute:"purposes"})],xt.prototype,"purposes",void 0),xt=d([De("bldn-object-form")],xt);let $t=class extends gt{constructor(){super(...arguments),this.dataCategories=[],this.processingCategories=[],this.purposes=[],this.action=n.action.RESTRICT}validateActionInput(){}validateOptionsInput(){}getFormTemplate(){return ge` <blnd-privacy-scope-picker mode="restrict" .privacyScope="${this.demands[0].restrictions.privacy_scope}" .dataCategories="${this.dataCategories.map((e=>({value:e,display:"*"===e?ge`${ot[e]()}`:ge`<b>${it[e]()} ${P("Data")}:</b> ${ot[e]()}`,allChoice:"*"===e})))}" .processingCategories="${this.processingCategories.map((e=>({value:e,display:"*"===e?ge`${ut[e]()}`:ge`<b>${lt[e]()}:</b> ${ut[e]()}`,allChoice:"*"===e})))}" .purposes="${this.purposes.map((e=>({value:e,display:"*"===e?ge`${pt[e]()}`:ge`<b>${ht[e]()}:</b> ${pt[e]()}`,allChoice:"*"===e})))}"></blnd-privacy-scope-picker> `}getOptionsTemplate(){var e,t,n,i,o,r;return ge` <bldn-dropdown> <span slot="heading"><strong>${P("Date Restriction")}</strong></span> <bldn-date-restriction start="${Xe(null===(t=null===(e=this.demands[0].restrictions)||void 0===e?void 0:e.date_range)||void 0===t?void 0:t.from)}" end="${Xe(null===(i=null===(n=this.demands[0].restrictions)||void 0===n?void 0:n.date_range)||void 0===i?void 0:i.to)}"></bldn-date-restriction> </bldn-dropdown> <bldn-dropdown> <span slot="heading"><strong>${P("Provenance Restriction")}</strong></span> <bldn-provenance-restriction term="${Xe(null===(r=null===(o=this.demands[0].restrictions)||void 0===o?void 0:o.provenance)||void 0===r?void 0:r.term)}"></bldn-provenance-restriction> </bldn-dropdown> <bldn-dropdown> <span slot="heading"><strong>${P("Additional Message")}</strong></span> <bldn-additional-message message="${Xe(this.demands[0].message)}"></bldn-additional-message> </bldn-dropdown> `}getDefaultDemands(){return[{id:"",action:n.action.RESTRICT,restrictions:{privacy_scope:[{dc:"*",pc:e.pc._,pp:e.pp._}],provenance:{term:t.term._},date_range:{}}}]}changePrivacyScopeRestriction(e){e.stopPropagation();const{privacyScope:t}=e.detail;this.demands[0].restrictions.privacy_scope=t}changeDateRestrictionStart(e){e.stopPropagation();const{date:t}=e.detail;this.demands[0].restrictions.date_range.from=t}changeDateRestrictionEnd(e){e.stopPropagation();const{date:t}=e.detail;this.demands[0].restrictions.date_range.to=t}changeProvenanceRestrictionTerm(e){e.stopPropagation();const{term:t}=e.detail;this.demands[0].restrictions.provenance.term=t}changeMessage(e){e.stopPropagation();const{message:t}=e.detail;this.demands[0].message=t}connectedCallback(){super.connectedCallback(),this.addEventListener("bldn-privacy-scope-picker:scope-change",this.changePrivacyScopeRestriction),this.addEventListener("bldn-date-restriction:start-date-change",this.changeDateRestrictionStart),this.addEventListener("bldn-date-restriction:end-date-change",this.changeDateRestrictionEnd),this.addEventListener("bldn-provenance-restriction:term-change",this.changeProvenanceRestrictionTerm),this.addEventListener("bldn-additional-message:message-change",this.changeMessage)}disconnectedCallback(){this.removeEventListener("bldn-privacy-scope-picker:scope-change",this.changePrivacyScopeRestriction),this.removeEventListener("bldn-date-restriction:start-date-change",this.changeDateRestrictionStart),this.removeEventListener("bldn-date-restriction:end-date-change",this.changeDateRestrictionEnd),this.removeEventListener("bldn-provenance-restriction:term-change",this.changeProvenanceRestrictionTerm),this.removeEventListener("bldn-additional-message:message-change",this.changeMessage)}};$t.styles=[gt.styles,j``],d([We({type:Array,attribute:"data-categories"})],$t.prototype,"dataCategories",void 0),d([We({type:Array,attribute:"processing-categories"})],$t.prototype,"processingCategories",void 0),d([We({type:Array,attribute:"purposes"})],$t.prototype,"purposes",void 0),$t=d([De("bldn-restrict-form")],$t);let Pt=class extends Pe{constructor(){super(...arguments),this.choices=[]}handleChoiceClick(e){const{id:t,checked:n}=e.target;this.dispatchEvent(new CustomEvent("bldn-checklist:choice-"+(n?"select":"deselect"),{bubbles:!0,composed:!0,detail:{value:t}}))}render(){return ge` ${Ke(this.choices,(e=>ge` <input id="${e.value}" type="checkbox" ?checked="${e.checked}" @change="${this.handleChoiceClick}"> <label>${e.display}</label> `))} `}};Pt.styles=j`:host{display:block}`,d([We({type:Array})],Pt.prototype,"choices",void 0),Pt=d([De("bldn-checklist")],Pt);let Gt=class extends gt{constructor(){super(),this._consents=[],this._showEach=!1,this.action=n.action.REVOKE_CONSENT,i.getInstance().apiTokenSet()?i.getInstance().getUserConsents().then((e=>{this._consents=e,1!==this.demands.length||this.demands[0].restrictions?this._showEach=!0:(this.demands=[],this._consents.forEach((e=>{this.demands.push({id:"",action:n.action.REVOKE_CONSENT,restrictions:{consent:{id:e.id}},message:this._message})})))})):console.log("User must be authenticated for this demand type!")}validateActionInput(){}validateOptionsInput(){}getFormTemplate(){return ge` <p>${P("I want to:")}</p> <bldn-radio-list .choices="${[{value:"all",display:P(ge`Revoke <b>all</b> consents`),checked:!this._showEach},{value:"some",display:P(ge`Revoke <b>specific</b> consents (select those you wish to <b>revoke</b>)`),checked:this._showEach}]}" @bldn-radio-list:choice-change="${this.handleRevokeTypeChange}"></bldn-radio-list> ${Fe(this._showEach,(()=>ge` <bldn-checklist .choices="${this._consents.map((e=>({value:e.id,display:ge`${e.name} - <i>${P(ge`Given on ${new Date(e.date).toLocaleString()}`)}</i>`,checked:this.demands.findIndex((t=>t.restrictions.consent.id===e.id))>-1})))}" @bldn-checklist:choice-select="${this.addConsent}" @bldn-checklist:choice-deselect="${this.removeConsent}"></bldn-checklist> `))} `}getOptionsTemplate(){return ge` <bldn-dropdown> <span slot="heading"><strong>${P("Additional Message")}</strong></span> <bldn-additional-message message="${Xe(this.demands.length>0?this.demands[0].message:void 0)}"></bldn-additional-message> </bldn-dropdown> `}getDefaultDemands(){return[{id:"",action:n.action.REVOKE_CONSENT}]}handleRevokeTypeChange(e){e.stopPropagation();const{value:t}=e.detail;this._showEach="some"===t,this.demands=[],"all"===t&&this._consents.forEach((e=>{this.demands.push({id:"",action:n.action.REVOKE_CONSENT,restrictions:{consent:{id:e.id}},message:this._message})}))}addConsent(e){e.stopPropagation();const{value:t}=e.detail;this.demands.push({id:"",action:n.action.REVOKE_CONSENT,restrictions:{consent:{id:t}},message:this._message})}removeConsent(e){e.stopPropagation();const{value:t}=e.detail,n=this.demands.findIndex((e=>e.restrictions.consent.id===t));n>-1&&this.demands.splice(n,1)}changeMessage(e){e.stopPropagation();const{message:t}=e.detail;this._message=t,this.demands.forEach((e=>{e.message=this._message}))}connectedCallback(){super.connectedCallback(),this.addEventListener("bldn-additional-message:message-change",this.changeMessage)}disconnectedCallback(){this.removeEventListener("bldn-additional-message:message-change",this.changeMessage)}};Gt.styles=[gt.styles,j`:host{text-align:left;color:var(--bldn-revoke-consent-form-font-color,var(--color-dark))}bldn-checklist{margin-left:1.5em;margin-bottom:1em}`],d([He()],Gt.prototype,"_consents",void 0),d([He()],Gt.prototype,"_message",void 0),d([He()],Gt.prototype,"_showEach",void 0),Gt=d([De("bldn-revoke-consent-form")],Gt);let Dt=class extends gt{constructor(){super(...arguments),this.transparencyActions=[],this._restrictions={},this.action=n.action.TRANSPARENCY}validateActionInput(){}validateOptionsInput(){}getFormTemplate(){return ge` <p>${P("I want to know:")}</p> <bldn-all-checklist .choices="${this.transparencyActions.map((e=>({value:e,display:tt[e](),checked:-1!==this.demands.findIndex((t=>t.action===e)),allChoice:e===n.action.TRANSPARENCY})))}"></bldn-all-checklist> `}getOptionsTemplate(){var e,t,n,i,o,r;return ge` <bldn-dropdown> <span slot="heading"><strong>${P("Date Restriction")}</strong></span> <bldn-date-restriction start="${Xe(null===(t=null===(e=this.demands[0].restrictions)||void 0===e?void 0:e.date_range)||void 0===t?void 0:t.from)}" end="${Xe(null===(i=null===(n=this.demands[0].restrictions)||void 0===n?void 0:n.date_range)||void 0===i?void 0:i.to)}"></bldn-date-restriction> </bldn-dropdown> <bldn-dropdown> <span slot="heading"><strong>${P("Provenance Restriction")}</strong></span> <bldn-provenance-restriction term="${Xe(null===(r=null===(o=this.demands[0].restrictions)||void 0===o?void 0:o.provenance)||void 0===r?void 0:r.term)}"></bldn-provenance-restriction> </bldn-dropdown> <bldn-dropdown> <span slot="heading"><strong>${P("Additional Message")}</strong></span> <bldn-additional-message message="${Xe(this.demands[0].message)}"></bldn-additional-message> </bldn-dropdown> `}getDefaultDemands(){return[{id:"",action:n.action.TRANSPARENCY,restrictions:{provenance:{term:t.term._},date_range:{}}}]}addTransparencyAction(e){const{value:t}=e.detail,n={id:"",action:t,restrictions:this._restrictions};this._message&&(n.message=this._message),this.demands.push(n)}removeTransparencyAction(e){const{value:t}=e.detail,n=this.demands.findIndex((e=>e.action===t));n>-1&&this.demands.splice(n,1)}changeDateRestrictionStart(e){e.stopPropagation();const{date:t}=e.detail;this._restrictions.date_range.from=t,this.demands.forEach((e=>{e.restrictions.date_range.from=t}))}changeDateRestrictionEnd(e){e.stopPropagation();const{date:t}=e.detail;this._restrictions.date_range.to=t,this.demands.forEach((e=>{e.restrictions.date_range.to=t}))}changeProvenanceRestrictionTerm(e){e.stopPropagation();const{term:t}=e.detail;this._restrictions.provenance.term=t,this.demands.forEach((e=>{e.restrictions.provenance.term=t}))}changeMessage(e){e.stopPropagation();const{message:t}=e.detail;this._message=t,this.demands.forEach((e=>{e.message=this._message}))}connectedCallback(){super.connectedCallback(),this.addEventListener("bldn-all-checklist:choice-select",this.addTransparencyAction),this.addEventListener("bldn-all-checklist:choice-deselect",this.removeTransparencyAction),this.addEventListener("bldn-date-restriction:start-date-change",this.changeDateRestrictionStart),this.addEventListener("bldn-date-restriction:end-date-change",this.changeDateRestrictionEnd),this.addEventListener("bldn-provenance-restriction:term-change",this.changeProvenanceRestrictionTerm),this.addEventListener("bldn-additional-message:message-change",this.changeMessage)}disconnectedCallback(){this.removeEventListener("bldn-all-checklist:choice-select",this.addTransparencyAction),this.removeEventListener("bldn-all-checklist:choice-deselect",this.removeTransparencyAction),this.removeEventListener("bldn-date-restriction:start-date-change",this.changeDateRestrictionStart),this.removeEventListener("bldn-date-restriction:end-date-change",this.changeDateRestrictionEnd),this.removeEventListener("bldn-provenance-restriction:term-change",this.changeProvenanceRestrictionTerm),this.removeEventListener("bldn-additional-message:message-change",this.changeMessage)}handleDemandsChange(){this.demands.length>0&&(this.demands[0].restrictions&&(this._restrictions=this.demands[0].restrictions),this.demands[0].message&&(this._message=this.demands[0].message))}willUpdate(e){e.has("demands")&&this.handleDemandsChange()}};Dt.styles=[gt.styles,j`:host{text-align:left;color:var(--bldn-transparency-form-font-color,var(--color-dark))}p{margin:2em 0}p+bldn-all-checklist{margin-top:1em;padding-left:1em}`],d([We({type:Array,attribute:"transparency-actions"})],Dt.prototype,"transparencyActions",void 0),d([He()],Dt.prototype,"_restrictions",void 0),d([He()],Dt.prototype,"_message",void 0),Dt=d([De("bldn-transparency-form")],Dt);let Zt=class extends gt{constructor(){super(...arguments),this.action=n.action.OTHER,this.includeOptions=!1}validateActionInput(){}validateOptionsInput(){}getFormTemplate(){return ge` <bldn-additional-message message="${Xe(this.demands[0].message)}"></bldn-additional-message> `}getOptionsTemplate(){return ge``}getDefaultDemands(){return[{id:"",action:n.action.OTHER}]}changeMessage(e){e.stopPropagation();const{message:t}=e.detail;this.demands[0].message=t}connectedCallback(){super.connectedCallback(),this.addEventListener("bldn-additional-message:message-change",this.changeMessage)}disconnectedCallback(){this.removeEventListener("bldn-additional-message:message-change",this.changeMessage)}};var Wt,Ht;Zt.styles=[gt.styles,j`bldn-additional-message{margin:2em 0}`],Zt=d([De("bldn-other-form")],Zt),function(e){e.ALL="*",e.AFFILIATION="AFFILIATION",e.BEHAVIOR="BEHAVIOR",e.BIOMETRIC="BIOMETRIC",e.CONTACT="CONTACT",e.DEMOGRAPHIC="DEMOGRAPHIC",e.DEVICE="DEVICE",e.FINANCIAL="FINANCIAL",e.GENETIC="GENETIC",e.HEALTH="HEALTH",e.IMAGE="IMAGE",e.LOCATION="LOCATION",e.NAME="NAME",e.PROFILING="PROFILING",e.RELATIONSHIPS="RELATIONSHIPS",e.UID="UID",e["OTHER-DATA"]="OTHER-DATA"}(Wt||(Wt={})),function(e){e[e.menu=0]="menu",e[e.edit=1]="edit",e[e.review=2]="review"}(Ht||(Ht={}));let Ut=class extends(r(Pe)){constructor(){super(...arguments),this.actions=Object.values(n.action),this.dataCategories=[],this._uiState=Ht.menu,this._demandGroups=[],this._allowedActions=Object.values(n.action),this._allowedDataCategories=[]}getActionForm(t){return ge` ${Ye(t,[[n.action.ACCESS,()=>ge` <bldn-access-form data-categories="${JSON.stringify(this._allowedDataCategories)}" .demands="${void 0!==this._demandGroupIndex?this._demandGroups[this._demandGroupIndex]:Xe(void 0)}" demand-group-index="${Xe(this._demandGroupIndex)}"></bldn-access-form> `],[n.action.DELETE,()=>ge` <bldn-delete-form data-categories="${JSON.stringify(this._allowedDataCategories)}" .demands="${void 0!==this._demandGroupIndex?this._demandGroups[this._demandGroupIndex]:Xe(void 0)}" demand-group-index="${Xe(this._demandGroupIndex)}"></bldn-delete-form> `],[n.action.MODIFY,()=>ge` <bldn-other-form data-categories="${JSON.stringify(this._allowedDataCategories)}" .demands="${void 0!==this._demandGroupIndex?this._demandGroups[this._demandGroupIndex]:Xe(void 0)}" demand-group-index="${Xe(this._demandGroupIndex)}"></bldn-other-form> `],[n.action.OBJECT,()=>ge` <bldn-object-form data-categories="${JSON.stringify(this._allowedDataCategories)}" processing-categories="${JSON.stringify(Object.values(e.pc))}" purposes="${JSON.stringify(Object.values(e.pp))}" .demands="${void 0!==this._demandGroupIndex?this._demandGroups[this._demandGroupIndex]:Xe(void 0)}" demand-group-index="${Xe(this._demandGroupIndex)}"></bldn-object-form> `],[n.action.PORTABILITY,()=>ge` <bldn-other-form data-categories="${JSON.stringify(this._allowedDataCategories)}" .demands="${void 0!==this._demandGroupIndex?this._demandGroups[this._demandGroupIndex]:Xe(void 0)}" demand-group-index="${Xe(this._demandGroupIndex)}"></bldn-other-form> `],[n.action.RESTRICT,()=>ge` <bldn-restrict-form data-categories="${JSON.stringify(this._allowedDataCategories)}" processing-categories="${JSON.stringify(Object.values(e.pc))}" purposes="${JSON.stringify(Object.values(e.pp))}" .demands="${void 0!==this._demandGroupIndex?this._demandGroups[this._demandGroupIndex]:Xe(void 0)}" demand-group-index="${Xe(this._demandGroupIndex)}"></bldn-restrict-form> `],[n.action.TRANSPARENCY,()=>ge` <bldn-transparency-form .transparencyActions="${this._allowedActions.filter((e=>e.includes("TRANSPARENCY")))}" .demands="${void 0!==this._demandGroupIndex?this._demandGroups[this._demandGroupIndex]:Xe(void 0)}" demand-group-index="${Xe(this._demandGroupIndex)}"></bldn-transparency-form> `],[n.action.REVOKE_CONSENT,()=>ge` <bldn-revoke-consent-form data-categories="${JSON.stringify(this._allowedDataCategories)}" .demands="${void 0!==this._demandGroupIndex?this._demandGroups[this._demandGroupIndex]:Xe(void 0)}" demand-group-index="${Xe(this._demandGroupIndex)}"></bldn-revoke-consent-form> `],[n.action.OTHER,()=>ge` <bldn-other-form data-categories="${JSON.stringify(this._allowedDataCategories)}" .demands="${void 0!==this._demandGroupIndex?this._demandGroups[this._demandGroupIndex]:Xe(void 0)}" demand-group-index="${Xe(this._demandGroupIndex)}"></bldn-other-form> `]])} `}selectAction(e){e.stopPropagation();const{value:t}=e.detail;Object.values(n.action).includes(t)&&(this._action=t,this._demandGroupIndex=void 0,this._uiState=Ht.edit)}setDemands(e){e.stopPropagation();const{demandGroupIndex:t,demands:n}=e.detail;void 0!==t?this._demandGroups[t]=n:this._demandGroups.push(n)}deleteDemands(e){e.stopPropagation();const{demandGroupIndex:t}=e.detail;this._demandGroups.splice(t,1),this._uiState=Ht.menu}editDemands(e){e.stopPropagation();const{demandGroupIndex:t}=e.detail;this._demandGroupIndex=t,this._uiState=Ht.edit}handleCancelRequest(e){e.stopPropagation(),this._action=void 0,this._demandGroupIndex=void 0,this._demandGroups=[],this._uiState=Ht.menu}handleSubmitRequest(e){e.stopPropagation();const{target:t}=e.detail,n={demands:this._demandGroups.flat(),...void 0!==t&&{target:t}};if(i.getInstance().apiTokenSet()){const e=JSON.parse(function(e){let t=(e||"").replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("Illegal base64url string!")}return atob(t)}(this.apiToken.split(".")[1]));n.data_subject=[{id:e.uid,schema:"dsid"}]}this.dispatchEvent(new CustomEvent("bldn-request-builder:request-created",{bubbles:!0,composed:!0,detail:{request:n}})),i.getInstance().sendPrivacyRequest(n).then((e=>{this.dispatchEvent(new CustomEvent("bldn-request-builder:request-sent",{bubbles:!0,composed:!0,detail:{requestId:e.request_id}}))}))}handleBackClick(e){e.stopPropagation(),this._action=void 0,this._demandGroupIndex=void 0,this._demandGroups=[],this._uiState=Ht.menu}handleReviewClick(e){e.stopPropagation(),this._uiState=Ht.review}updateDataCategories(){this.apiToken,this._allowedDataCategories=Object.values(Wt);const e=this.dataCategories.map((e=>e.toLowerCase())),t=this._allowedDataCategories.filter((t=>e.includes(t.toLowerCase())||"*"===t));t.length>0&&(this._allowedDataCategories=t)}handleActionsChange(){const e=this.actions.map((e=>e.toLowerCase())),t=this._allowedActions.filter((t=>e.includes(t.toLowerCase())));t.length>0&&(this._allowedActions=t)}handleTokenChange(){this.updateDataCategories()}connectedCallback(){super.connectedCallback(),this.addEventListener("bldn-tile-menu:tile-click",this.selectAction),this.addEventListener("bldn-action-form:set-demands",this.setDemands),this.addEventListener("bldn-action-form:back-click",this.handleBackClick),this.addEventListener("bldn-action-form:next-click",this.handleReviewClick),this.addEventListener("bldn-request-review:delete-demands",this.deleteDemands),this.addEventListener("bldn-request-review:edit-demands",this.editDemands),this.addEventListener("bldn-request-review:cancel-request",this.handleCancelRequest),this.addEventListener("bldn-request-review:submit-request",this.handleSubmitRequest)}disconnectedCallback(){this.removeEventListener("bldn-tile-menu:tile-click",this.selectAction),this.removeEventListener("bldn-action-form:set-demands",this.setDemands),this.removeEventListener("bldn-request-review:delete-demands",this.deleteDemands),this.removeEventListener("bldn-request-review:edit-demands",this.editDemands),this.removeEventListener("bldn-request-review:cancel-request",this.handleCancelRequest),this.removeEventListener("bldn-request-review:submit-request",this.handleSubmitRequest),this.removeEventListener("bldn-action-form:back-click",this.handleBackClick),this.removeEventListener("bldn-action-form:next-click",this.handleReviewClick)}willUpdate(e){super.willUpdate(e),e.has("actions")&&this.handleActionsChange(),e.has("dataCategories")&&this.updateDataCategories(),e.has("apiToken")&&this.handleTokenChange()}render(){return ge` ${Ye(this._uiState,[[Ht.menu,()=>ge` <bldn-tile-menu .tiles="${this._allowedActions.filter((e=>!e.includes("."))).map((e=>({title:Qe[e](),description:et[e](),value:e})))}"></bldn-tile-menu> `],[Ht.edit,()=>{var e;return this.getActionForm(null!==(e=this._action)&&void 0!==e?e:n.action.ACCESS)}],[Ht.review,()=>ge` <bldn-request-review .demandGroups="${this._demandGroups}"></bldn-request-review> `]])} `}};Ut.styles=j`:host{display:block;width:100%}`,d([We({type:Array})],Ut.prototype,"actions",void 0),d([We({type:Array,attribute:"data-categories"})],Ut.prototype,"dataCategories",void 0),d([He()],Ut.prototype,"_uiState",void 0),d([He()],Ut.prototype,"_action",void 0),d([He()],Ut.prototype,"_demandGroupIndex",void 0),d([He()],Ut.prototype,"_demandGroups",void 0),d([He()],Ut.prototype,"_allowedActions",void 0),d([He()],Ut.prototype,"_allowedDataCategories",void 0),Ut=d([f(),De("bldn-request-builder")],Ut);let jt=class extends Pe{handleItemClick(e){this.dispatchEvent(new CustomEvent("bldn-submitted-requests-list:request-click",{detail:{value:e}}))}render(){return ge` <div class="heading row"> <span><b>${P("Created")}</b></span> <span><b>${P("Status")}</b></span> <span><b>${P("Demands")}</b></span> </div> ${Fe(this.requests&&this.requests.length>0,(()=>ge` <div id="items"> ${Ke(this.requests,(e=>ge` <button id="${e.id}" class="item row" @click="${()=>this.handleItemClick(e.id)}"> <span>${new Date(e.date).toLocaleString()}</span> <span>${st[e.status]()}</span> <span>${e.demands}</span> </button> `))} </div> `),(()=>ge` ${Fe(void 0===this.requests,(()=>ge` <p>${P("Loading your requests...")}</p> `),(()=>ge` <p>${P("No requests to display")}</p> `))} `))} `}};jt.styles=j`:host{display:block;color:var(--bldn-submitted-requests-list-font-color,var(--color-dark));font-size:var(--bldn-submitted-requests-font-size,var(--font-size-small))}#items{display:grid;row-gap:1.25em}.heading{margin-bottom:.5em}.row{display:grid;grid-template-columns:repeat(3,1fr)}.item{border:2px solid var(--color-light);border-radius:5px;padding:1em 0;transition:.3s ease-out}.item:hover{border-color:var(--color-dark);transition:.3s ease}button{width:100%;font-size:var(--bldn-submitted-requests-font-size,var(--font-size-small));font-family:var(--bldn-submitted-requests-font-family,var(--font-family));color:var(--bldn-submitted-requests-list-font-color,var(--color-dark));background:0 0;margin:none;padding:none}`,d([We({type:Array})],jt.prototype,"requests",void 0),jt=d([De("bldn-submitted-requests-list")],jt);
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const Yt=1;class Xt{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,n){this._$Ct=e,this._$AM=t,this._$Ci=n}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Kt=(e=>(...t)=>({_$litDirective$:e,values:t}))(class extends Xt{constructor(e){var t;if(super(e),e.type!==Yt||"class"!==e.name||(null===(t=e.strings)||void 0===t?void 0:t.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter((t=>e[t])).join(" ")+" "}update(e,[t]){var n,i;if(void 0===this.nt){this.nt=new Set,void 0!==e.strings&&(this.st=new Set(e.strings.join(" ").split(/\s/).filter((e=>""!==e))));for(const e in t)t[e]&&!(null===(n=this.st)||void 0===n?void 0:n.has(e))&&this.nt.add(e);return this.render(t)}const o=e.element.classList;this.nt.forEach((e=>{e in t||(o.remove(e),this.nt.delete(e))}));for(const e in t){const n=!!t[e];n===this.nt.has(e)||(null===(i=this.st)||void 0===i?void 0:i.has(e))||(n?(o.add(e),this.nt.add(e)):(o.remove(e),this.nt.delete(e)))}return be}}),Vt=new URL(new URL(new URL("90b39089.svg",import.meta.url).href,import.meta.url).href,import.meta.url).href,Ft=new URL(new URL(new URL("a9a6f83f.svg",import.meta.url).href,import.meta.url).href,import.meta.url).href,Mt=new URL(new URL(new URL("f383a6d9.svg",import.meta.url).href,import.meta.url).href,import.meta.url).href,zt=new URL(new URL(new URL("1df8289e.svg",import.meta.url).href,import.meta.url).href,import.meta.url).href;let Jt=class extends(r(Pe)){constructor(){super(...arguments),this._requestDetails=[],this._error=!1}getRequestDetails(){i.getInstance().getRequest(this.requestId).then((e=>{this._requestDetails=e,this._error=!1})).catch((e=>{console.log(e),this._error=!0}))}handleCopyLinkClick(){navigator.clipboard.writeText(function(e){const t=new URL(document.URL);return t.searchParams.set("requestId",e),t}(this.requestId).toString())}handleDownloadClick(e){window.location.href=e.data}handleCancelClick(e){i.getInstance().cancelDemand(e.demand_id).then((()=>{this.getRequestDetails()})).catch((e=>{console.log(e)}))}handleRefreshClick(){this.getRequestDetails()}willUpdate(e){e.has("apiToken")&&this.apiToken&&this.requestId&&this.getRequestDetails(),e.has("requestId")&&(this.requestId&&i.getInstance().apiTokenSet()?this.getRequestDetails():this.requestId&&setTimeout((()=>{i.getInstance().apiTokenSet()&&this.getRequestDetails()}),2e3)),e.has("requestId")&&this.requestId&&i.getInstance().apiTokenSet()&&this.getRequestDetails()}render(){return ge` <bldn-dropdown class="main-section" mode="major" open> <span slot="heading" id="summary-heading"><b>${P(ge`Request Summary`)}</b> <bldn-button mode="link-icon" underline-mode="none" @bldn-button:click="${this.handleCopyLinkClick}"> <span class="request-action"><b>${P("Copy Link")}</b></span> <img src="${Vt}" alt="copy link to request status page"> </bldn-button> <bldn-button id="refresh-request" mode="link-icon" underline-mode="none" @bldn-button:click="${this.handleRefreshClick}"> <span class="request-action"><b>${P("Refresh")}</b></span> <img src="${zt}" alt="refresh this request"> </bldn-button> </span> ${Fe(this._requestDetails.length>0,(()=>ge` ${this._requestDetails.map((e=>{const t={granted:e.status===s.status.GRANTED,denied:e.status===s.status.DENIED,partial:e.status===s.status.PARTIALLY_GRANTED||e.status===s.status.UNDER_REVIEW,canceled:e.status===s.status.CANCELED};return ge` <bldn-dropdown> <span slot="heading"><strong>${P(ge`${Qe[e.requested_action]()} Demand`)}&nbsp;&nbsp;&nbsp;<span class="${Kt(t)}">${at[e.status]()}</span></strong></span> ${this.getStatusTemplate(e)} </bldn-dropdown> ${Ke(e.includes,(e=>{const t={granted:e.status===s.status.GRANTED,denied:e.status===s.status.DENIED,partial:e.status===s.status.PARTIALLY_GRANTED||e.status===s.status.UNDER_REVIEW,canceled:e.status===s.status.CANCELED};return ge` <bldn-dropdown> <span slot="heading"><strong>${P(ge`${Qe[e.requested_action]()} Demand`)}&nbsp;&nbsp;&nbsp;<span class="${Kt(t)}">${at[e.status]()}</span></strong></span> ${this.getStatusTemplate(e)} </bldn-dropdown> `}))} `}))} `),(()=>ge` <p id="loading-message"> ${Fe(this._error,(()=>ge` ${P("Error getting request details. Please refresh later.")} `),(()=>ge` ${P("Loading request details...")} `))} </p> `))} </bldn-dropdown> `}getStatusTemplate(e){return ge` <p> <b>${P("Requested:")}</b> ${et[e.requested_action]()} </p> ${Ye(e.status,[[s.status.GRANTED,()=>this.getGrantedResponseTemplate(e)],[s.status.DENIED,()=>ge` <p> ${P("This demand has been denied. Reason: ")}<i>${e.message}</i> </p> `],[s.status.PARTIALLY_GRANTED,()=>ge`<p>${P("This demand has been partially granted.")}</p>`],[s.status.UNDER_REVIEW,()=>ge` <p> ${P("This demand is still under review.")} <bldn-button mode="link-icon" underline-mode="none" @bldn-button:click="${()=>this.handleCancelClick(e)}"> <span class="cancel-demand">${P("Cancel Demand")}</span> <img src="${Mt}" alt="cancel demand"> </bldn-button> </p> `],[s.status.CANCELED,()=>ge`<p>${P("This demand has been cancelled.")}</p>`]])} `}getGrantedResponseTemplate(e){return ge` ${Ye(e.requested_action,[[s.requested_action.ACCESS,()=>ge` ${Fe(e.data,(()=>ge` <bldn-button mode="link-icon" @bldn-button:click="${()=>this.handleDownloadClick(e)}"> <img src="${Ft}" alt="download your data"> <span>${P("Download your data.")}</span> </bldn-button> `),(()=>ge`<p> ${P("Obtaining data, please wait and refresh the page later.")} </p>`))} `],[s.requested_action.DELETE,()=>ge` <p>${P("Your delete demand has been granted.")}</p> `],[s.requested_action.MODIFY,()=>ge` <p>${P("Your modify demand has been granted.")}</p> `],[s.requested_action.OBJECT,()=>ge` <p>${P("Your object demand has been granted")}</p> `],[s.requested_action.OTHER,()=>ge` <p>${P("Your demand has been granted.")}</p> `],[s.requested_action.PORTABILITY,()=>ge` <p>${P("Your portability demand has been granted.")}</p> `],[s.requested_action.RESTRICT,()=>ge` <p>${P("Your restrict demand has been granted.")}</p> `],[s.requested_action.REVOKE_CONSENT,()=>ge` <p>${P("Your revoke consent demand has been granted.")}</p> `],[s.requested_action.TRANSPARENCY,()=>ge` <p> ${P("Your transparency demand has been granted and split into multiple demands below.")} </p> `],[s.requested_action.TRANSPARENCY_DATA_CATEGORIES,()=>ge` ${Ke(e.answer,(e=>ge` ${e}<br> `))} `],[s.requested_action.TRANSPARENCY_DPO,()=>ge` <p>${e.answer}</p> `],[s.requested_action.TRANSPARENCY_KNOWN,()=>ge` <p>${e.answer}</p> `],[s.requested_action.TRANSPARENCY_LEGAL_BASES,()=>ge` <p> ${Ke(e.answer,(e=>P(ge` Type: ${e.lb_type}<br> Name: ${e.name}<br> Description: ${e.description}<br><br> `)))} </p> `],[s.requested_action.TRANSPARENCY_ORGANIZATION,()=>ge` <p>${e.answer}</p> `],[s.requested_action.TRANSPARENCY_POLICY,()=>ge` <p>${e.answer}</p> `],[s.requested_action.TRANSPARENCY_PROCESSING_CATEGORIES,()=>ge` <p> ${Ke(e.answer,(e=>ge` ${e}<br> `))} </p> `],[s.requested_action.TRANSPARENCY_PROVENANCE,()=>{const t=Object.entries(e.answer);return ge` <p> ${Ke(t,(e=>ge` ${Ke(e[1],(t=>ge` ${P(ge`<b>${e[0]} Data:</b> Source <i>${t.provenance}</i> of the <i>${t.system}</i> system.<br>`)} `))} `))} </p> `}],[s.requested_action.TRANSPARENCY_PURPOSE,()=>ge` <p> ${Ke(e.answer,(e=>ge` ${e}<br> `))} </p> `],[s.requested_action.TRANSPARENCY_RETENTION,()=>{const t=e.answer;return ge` <p> ${Ke(t.NAME,(e=>{return ge`<p> ${t="Data",n=e.policy_type,i=e.duration,o=e.after,ge`<i>${t.toLocaleUpperCase()}</i> data is kept <i>${ct[n]().toLocaleUpperCase()}</i> <i>${i}</i> months after <i>${dt[o]().toLocaleUpperCase()}</i>`} </p>`;var t,n,i,o}))} </p> `}],[s.requested_action.TRANSPARENCY_WHERE,()=>ge` <p> ${Ke(e.answer,(e=>ge` ${e}<br> `))} </p> `],[s.requested_action.TRANSPARENCY_WHO,()=>ge` <p> ${Ke(e.answer,(e=>ge` ${e}<br> `))} </p> `]])} `}};Jt.styles=j`:host{display:block;text-align:left;color:var(--bldn-request-status-font-color,var(--color-dark))}bldn-dropdown.main-section{border:2px solid var(--bldn-action-form-section-border-color,var(--color-dark));border-radius:20px;padding:2.5em}bldn-dropdown.main-section[open]{padding:2.5em 2.5em .5em 2.5em}bldn-dropdown.main-section>span{font-size:var(--bldn-action-form-section-heading-font-size,var(--font-size-medium));color:var(--bldn-action-form-section-heading-font-color,var(--color-dark))}bldn-dropdown bldn-dropdown span{font-size:var(--font-size-small);color:var(--bldn-action-form-subsection-heading-font-color,var(--color-dark))}bldn-dropdown bldn-dropdown>span[slot=heading]{padding-left:0}bldn-dropdown bldn-dropdown>*{padding-left:1.25em}bldn-dropdown{border-bottom:2px solid var(--bldn-action-form-subsection-divider-color,var(--color-lightest))}bldn-dropdown bldn-dropdown:last-child{border-bottom:none}#summary-heading{display:flex;gap:1em}#loading-message{margin:.8em 0}.request-action{color:var(--color-medium)}.granted{color:var(--color-positive)}.denied{color:var(--color-negative)}.partial{color:var(--color-warning)}.canceled{color:var(--color-light)}.cancel-demand{color:var(--color-negative)}`,d([We({type:String})],Jt.prototype,"requestId",void 0),d([He()],Jt.prototype,"_requestDetails",void 0),d([He()],Jt.prototype,"_error",void 0),Jt=d([De("bldn-request-status")],Jt);const qt=new URL(new URL(new URL("7e20d8fc.svg",import.meta.url).href,import.meta.url).href,import.meta.url).href;var Bt;!function(e){e[e.requestsList=0]="requestsList",e[e.requestStatus=1]="requestStatus"}(Bt||(Bt={}));let Qt=class extends(r(Pe)){constructor(){super(...arguments),this._requestFilter="all",this._uiState=Bt.requestsList}handleRequestsCategoryChange(e){e.stopPropagation();const{value:t}=e.detail;this._requestFilter=t}handleRequestClick(e){e.stopPropagation();const{value:t}=e.detail;this._selectedRequest=t,this._uiState=Bt.requestStatus}handleBackClick(){this._uiState=Bt.requestsList,this.getRequests()}getRequests(){i.getInstance().getRequestHistory().then((e=>{var t;this._requests=null!==(t=e.history)&&void 0!==t?t:[]}))}getRequestsToDisplay(){if(void 0!==this._requests)switch(this._requestFilter){case"all":default:return this._requests;case"pending":return this._requests.filter((e=>e.status===a.status.IN_PROCESSING));case"answered":return this._requests.filter((e=>e.status===a.status.COMPLETED));case"canceled":return this._requests.filter((e=>e.status===a.status.CANCELED))}return this._requests}goToStatus(){this._selectedRequest=this.requestId,this._uiState=Bt.requestStatus}willUpdate(e){e.has("apiToken")&&this.apiToken&&this.getRequests(),e.has("requestId")&&this.requestId&&this.goToStatus()}connectedCallback(){super.connectedCallback(),i.getInstance().apiTokenSet()&&this.getRequests()}render(){return ge` ${Fe(this._uiState===Bt.requestsList,(()=>ge` <bldn-horizontal-list .choices="${[{value:"all",display:P("All")},{value:"pending",display:P("Pending")},{value:"answered",display:P("Answered")},{value:"canceled",display:P("Canceled")}]}" @bldn-horizontal-list:choice-change="${this.handleRequestsCategoryChange}"></bldn-horizontal-list> <bldn-submitted-requests-list .requests="${this.getRequestsToDisplay()}" @bldn-submitted-requests-list:request-click="${this.handleRequestClick}"> </bldn-submitted-requests-list> `),(()=>ge` <bldn-button mode="link-icon" underline-mode="none" @bldn-button:click="${this.handleBackClick}"> <img src="${qt}" alt="back to requests"> <span id="back-button"><b>${P("Back to Requests")}</b></span> </bldn-button> <bldn-request-status .requestId="${this._selectedRequest}"></bldn-request-status> `))} `}};Qt.styles=j`:host{display:block}bldn-horizontal-list{margin-bottom:1.75em}#back-button{color:var(--color-darkest)}bldn-request-status{margin-top:1.75em}`,d([We({type:String,attribute:"request-id"})],Qt.prototype,"requestId",void 0),d([He()],Qt.prototype,"_requests",void 0),d([He()],Qt.prototype,"_requestFilter",void 0),d([He()],Qt.prototype,"_uiState",void 0),d([He()],Qt.prototype,"_selectedRequest",void 0),Qt=d([f(),De("bldn-submitted-requests")],Qt);const en=["fr","fr-CA","fr-FR"],{getLocale:tn,setLocale:nn}=(on={sourceLocale:"en-US",targetLocales:en,loadLocale:e=>import(`./generated/locales/${e}.js`)},function(e){if(G)throw new Error("lit-localize can only be configured once");P=e,G=!0}(((e,t)=>E(T,e,t))),N=_=on.sourceLocale,I=new Set(on.targetLocales),I.add(on.sourceLocale),A=on.loadLocale,{getLocale:x,setLocale:$});var on,rn;!function(e){e[e.createRequest=0]="createRequest",e[e.submittedRequests=1]="submittedRequests"}(rn||(rn={}));let sn=class extends(r(Pe)){constructor(){super(),this.actions=[],this.dataCategories=[],this._uiState=rn.createRequest;try{nn(navigator.language)}catch(e){console.log(`Could not set locale to ${navigator.language}.`)}const e=new URL(window.location.href),t=e.searchParams.get("requestId");t&&(this.requestId=t,e.searchParams.delete("requestId"),window.history.replaceState({},"",e.href))}handleRequestIdChange(){this._uiState=rn.submittedRequests}handleRequestSent(e){const{requestId:t}=e.detail;this.requestId=t}handleNavClick(e){const{value:t}=e.detail;"create"===t?this._uiState=rn.createRequest:(this.requestId=void 0,this._uiState=rn.submittedRequests)}handleApiTokenEvent(e){const{token:t}=e.detail;t&&(this.apiToken=t)}willUpdate(e){super.willUpdate(e),e.has("requestId")&&this.handleRequestIdChange()}connectedCallback(){super.connectedCallback(),this.addEventListener("bldn-priv-request-api-token:set",this.handleApiTokenEvent)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("bldn-priv-request-api-token:set",this.handleApiTokenEvent)}render(){return ge` <bldn-nav-toggle .left="${{label:P("Submit a Request"),value:"create",checked:this._uiState===rn.createRequest}}" .right="${{label:P("Submitted Requests"),value:"submitted",checked:this._uiState===rn.submittedRequests}}" @bldn-nav-toggle:click="${this.handleNavClick}"></bldn-nav-toggle> ${Ye(this._uiState,[[rn.createRequest,()=>ge` <bldn-request-builder api-token="${Xe(this.apiToken)}" data-categories="${JSON.stringify(this.dataCategories)}" actions="${JSON.stringify(this.actions)}" @bldn-request-builder:request-sent="${this.handleRequestSent}"></bldn-request-builder> `],[rn.submittedRequests,()=>ge` <bldn-submitted-requests request-id="${Xe(this.requestId)}"></bldn-submitted-requests> `]])} `}};sn.styles=[c,j`:host{display:block;width:100%;background:var(--bldn-privacy-request-background,var(--background))}bldn-request-builder,bldn-submitted-requests{margin-top:2.5em}bldn-submitted-requests{padding:0 10%}`],d([We({type:Array})],sn.prototype,"actions",void 0),d([We({type:Array,attribute:"data-categories"})],sn.prototype,"dataCategories",void 0),d([We({type:Array})],sn.prototype,"requestId",void 0),d([He()],sn.prototype,"_uiState",void 0),sn=d([f(),De("bldn-priv-request")],sn);var an=function(e,t){return an=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},an(e,t)};function cn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}an(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var dn=function(){return dn=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},dn.apply(this,arguments)};function ln(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n}function un(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}function hn(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}}function pn(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function mn(e,t,n){if(n||2===arguments.length)for(var i,o=0,r=t.length;o<r;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))}var fn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function vn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function gn(e,t){return e(t={exports:{}},t.exports),t.exports}var bn,yn,wn=function(e){return e&&e.Math==Math&&e},Sn=wn("object"==typeof globalThis&&globalThis)||wn("object"==typeof window&&window)||wn("object"==typeof self&&self)||wn("object"==typeof fn&&fn)||function(){return this}()||Function("return this")(),Cn=function(e){try{return!!e()}catch(e){return!0}},En=!Cn((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),Rn=!Cn((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),kn=Function.prototype.call,_n=Rn?kn.bind(kn):function(){return kn.apply(kn,arguments)},In={}.propertyIsEnumerable,An=Object.getOwnPropertyDescriptor,Tn=An&&!In.call({1:2},1)?function(e){var t=An(this,e);return!!t&&t.enumerable}:In,Nn={f:Tn},Ln=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},On=Function.prototype,xn=On.bind,$n=On.call,Pn=Rn&&xn.bind($n,$n),Gn=Rn?function(e){return e&&Pn(e)}:function(e){return e&&function(){return $n.apply(e,arguments)}},Dn=Gn({}.toString),Zn=Gn("".slice),Wn=function(e){return Zn(Dn(e),8,-1)},Hn=Object,Un=Gn("".split),jn=Cn((function(){return!Hn("z").propertyIsEnumerable(0)}))?function(e){return"String"==Wn(e)?Un(e,""):Hn(e)}:Hn,Yn=function(e){return null==e},Xn=TypeError,Kn=function(e){if(Yn(e))throw Xn("Can't call method on "+e);return e},Vn=function(e){return jn(Kn(e))},Fn=function(e){return"function"==typeof e},Mn="object"==typeof document&&document.all,zn=void 0===Mn&&void 0!==Mn?function(e){return"object"==typeof e?null!==e:Fn(e)||e===Mn}:function(e){return"object"==typeof e?null!==e:Fn(e)},Jn=function(e){return Fn(e)?e:void 0},qn=function(e,t){return arguments.length<2?Jn(Sn[e]):Sn[e]&&Sn[e][t]},Bn=Gn({}.isPrototypeOf),Qn=qn("navigator","userAgent")||"",ei=Sn.process,ti=Sn.Deno,ni=ei&&ei.versions||ti&&ti.version,ii=ni&&ni.v8;ii&&(yn=(bn=ii.split("."))[0]>0&&bn[0]<4?1:+(bn[0]+bn[1])),!yn&&Qn&&(!(bn=Qn.match(/Edge\/(\d+)/))||bn[1]>=74)&&(bn=Qn.match(/Chrome\/(\d+)/))&&(yn=+bn[1]);var oi=yn,ri=!!Object.getOwnPropertySymbols&&!Cn((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&oi&&oi<41})),si=ri&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ai=Object,ci=si?function(e){return"symbol"==typeof e}:function(e){var t=qn("Symbol");return Fn(t)&&Bn(t.prototype,ai(e))},di=String,li=function(e){try{return di(e)}catch(e){return"Object"}},ui=TypeError,hi=function(e){if(Fn(e))return e;throw ui(li(e)+" is not a function")},pi=function(e,t){var n=e[t];return Yn(n)?void 0:hi(n)},mi=TypeError,fi=Object.defineProperty,vi=function(e,t){try{fi(Sn,e,{value:t,configurable:!0,writable:!0})}catch(n){Sn[e]=t}return t},gi=Sn["__core-js_shared__"]||vi("__core-js_shared__",{}),bi=gn((function(e){(e.exports=function(e,t){return gi[e]||(gi[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.25.1",mode:"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.1/LICENSE",source:"https://github.com/zloirock/core-js"})})),yi=Object,wi=function(e){return yi(Kn(e))},Si=Gn({}.hasOwnProperty),Ci=Object.hasOwn||function(e,t){return Si(wi(e),t)},Ei=0,Ri=Math.random(),ki=Gn(1..toString),_i=function(e){return"Symbol("+(void 0===e?"":e)+")_"+ki(++Ei+Ri,36)},Ii=bi("wks"),Ai=Sn.Symbol,Ti=Ai&&Ai.for,Ni=si?Ai:Ai&&Ai.withoutSetter||_i,Li=function(e){if(!Ci(Ii,e)||!ri&&"string"!=typeof Ii[e]){var t="Symbol."+e;ri&&Ci(Ai,e)?Ii[e]=Ai[e]:Ii[e]=si&&Ti?Ti(t):Ni(t)}return Ii[e]},Oi=TypeError,xi=Li("toPrimitive"),$i=function(e){var t=function(e,t){if(!zn(e)||ci(e))return e;var n,i=pi(e,xi);if(i){if(void 0===t&&(t="default"),n=_n(i,e,t),!zn(n)||ci(n))return n;throw Oi("Can't convert object to primitive value")}return void 0===t&&(t="number"),function(e,t){var n,i;if("string"===t&&Fn(n=e.toString)&&!zn(i=_n(n,e)))return i;if(Fn(n=e.valueOf)&&!zn(i=_n(n,e)))return i;if("string"!==t&&Fn(n=e.toString)&&!zn(i=_n(n,e)))return i;throw mi("Can't convert object to primitive value")}(e,t)}(e,"string");return ci(t)?t:t+""},Pi=Sn.document,Gi=zn(Pi)&&zn(Pi.createElement),Di=function(e){return Gi?Pi.createElement(e):{}},Zi=!En&&!Cn((function(){return 7!=Object.defineProperty(Di("div"),"a",{get:function(){return 7}}).a})),Wi=Object.getOwnPropertyDescriptor,Hi={f:En?Wi:function(e,t){if(e=Vn(e),t=$i(t),Zi)try{return Wi(e,t)}catch(e){}if(Ci(e,t))return Ln(!_n(Nn.f,e,t),e[t])}},Ui=En&&Cn((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),ji=String,Yi=TypeError,Xi=function(e){if(zn(e))return e;throw Yi(ji(e)+" is not an object")},Ki=TypeError,Vi=Object.defineProperty,Fi=Object.getOwnPropertyDescriptor,Mi={f:En?Ui?function(e,t,n){if(Xi(e),t=$i(t),Xi(n),"function"==typeof e&&"prototype"===t&&"value"in n&&"writable"in n&&!n.writable){var i=Fi(e,t);i&&i.writable&&(e[t]=n.value,n={configurable:"configurable"in n?n.configurable:i.configurable,enumerable:"enumerable"in n?n.enumerable:i.enumerable,writable:!1})}return Vi(e,t,n)}:Vi:function(e,t,n){if(Xi(e),t=$i(t),Xi(n),Zi)try{return Vi(e,t,n)}catch(e){}if("get"in n||"set"in n)throw Ki("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},zi=En?function(e,t,n){return Mi.f(e,t,Ln(1,n))}:function(e,t,n){return e[t]=n,e},Ji=Function.prototype,qi=En&&Object.getOwnPropertyDescriptor,Bi=Ci(Ji,"name"),Qi={EXISTS:Bi,PROPER:Bi&&"something"===function(){}.name,CONFIGURABLE:Bi&&(!En||En&&qi(Ji,"name").configurable)},eo=Gn(Function.toString);Fn(gi.inspectSource)||(gi.inspectSource=function(e){return eo(e)});var to,no,io,oo=gi.inspectSource,ro=Sn.WeakMap,so=Fn(ro)&&/native code/.test(String(ro)),ao=bi("keys"),co=function(e){return ao[e]||(ao[e]=_i(e))},lo={},uo=Sn.TypeError,ho=Sn.WeakMap;if(so||gi.state){var po=gi.state||(gi.state=new ho),mo=Gn(po.get),fo=Gn(po.has),vo=Gn(po.set);to=function(e,t){if(fo(po,e))throw uo("Object already initialized");return t.facade=e,vo(po,e,t),t},no=function(e){return mo(po,e)||{}},io=function(e){return fo(po,e)}}else{var go=co("state");lo[go]=!0,to=function(e,t){if(Ci(e,go))throw uo("Object already initialized");return t.facade=e,zi(e,go,t),t},no=function(e){return Ci(e,go)?e[go]:{}},io=function(e){return Ci(e,go)}}var bo={set:to,get:no,has:io,enforce:function(e){return io(e)?no(e):to(e,{})},getterFor:function(e){return function(t){var n;if(!zn(t)||(n=no(t)).type!==e)throw uo("Incompatible receiver, "+e+" required");return n}}},yo=gn((function(e){var t=Qi.CONFIGURABLE,n=bo.enforce,i=bo.get,o=Object.defineProperty,r=En&&!Cn((function(){return 8!==o((function(){}),"length",{value:8}).length})),s=String(String).split("String"),a=e.exports=function(e,i,a){"Symbol("===String(i).slice(0,7)&&(i="["+String(i).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),a&&a.getter&&(i="get "+i),a&&a.setter&&(i="set "+i),(!Ci(e,"name")||t&&e.name!==i)&&(En?o(e,"name",{value:i,configurable:!0}):e.name=i),r&&a&&Ci(a,"arity")&&e.length!==a.arity&&o(e,"length",{value:a.arity});try{a&&Ci(a,"constructor")&&a.constructor?En&&o(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var c=n(e);return Ci(c,"source")||(c.source=s.join("string"==typeof i?i:"")),e};Function.prototype.toString=a((function(){return Fn(this)&&i(this).source||oo(this)}),"toString")})),wo=function(e,t,n,i){i||(i={});var o=i.enumerable,r=void 0!==i.name?i.name:t;if(Fn(n)&&yo(n,r,i),i.global)o?e[t]=n:vi(t,n);else{try{i.unsafe?e[t]&&(o=!0):delete e[t]}catch(e){}o?e[t]=n:Mi.f(e,t,{value:n,enumerable:!1,configurable:!i.nonConfigurable,writable:!i.nonWritable})}return e},So=Math.ceil,Co=Math.floor,Eo=Math.trunc||function(e){var t=+e;return(t>0?Co:So)(t)},Ro=function(e){var t=+e;return t!=t||0===t?0:Eo(t)},ko=Math.max,_o=Math.min,Io=function(e,t){var n=Ro(e);return n<0?ko(n+t,0):_o(n,t)},Ao=Math.min,To=function(e){return e>0?Ao(Ro(e),9007199254740991):0},No=function(e){return To(e.length)},Lo=function(e){return function(t,n,i){var o,r=Vn(t),s=No(r),a=Io(i,s);if(e&&n!=n){for(;s>a;)if((o=r[a++])!=o)return!0}else for(;s>a;a++)if((e||a in r)&&r[a]===n)return e||a||0;return!e&&-1}},Oo={includes:Lo(!0),indexOf:Lo(!1)},xo=Oo.indexOf,$o=Gn([].push),Po=function(e,t){var n,i=Vn(e),o=0,r=[];for(n in i)!Ci(lo,n)&&Ci(i,n)&&$o(r,n);for(;t.length>o;)Ci(i,n=t[o++])&&(~xo(r,n)||$o(r,n));return r},Go=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Do=Go.concat("length","prototype"),Zo={f:Object.getOwnPropertyNames||function(e){return Po(e,Do)}},Wo={f:Object.getOwnPropertySymbols},Ho=Gn([].concat),Uo=qn("Reflect","ownKeys")||function(e){var t=Zo.f(Xi(e)),n=Wo.f;return n?Ho(t,n(e)):t},jo=function(e,t,n){for(var i=Uo(t),o=Mi.f,r=Hi.f,s=0;s<i.length;s++){var a=i[s];Ci(e,a)||n&&Ci(n,a)||o(e,a,r(t,a))}},Yo=/#|\.prototype\./,Xo=function(e,t){var n=Vo[Ko(e)];return n==Mo||n!=Fo&&(Fn(t)?Cn(t):!!t)},Ko=Xo.normalize=function(e){return String(e).replace(Yo,".").toLowerCase()},Vo=Xo.data={},Fo=Xo.NATIVE="N",Mo=Xo.POLYFILL="P",zo=Xo,Jo=Hi.f,qo=function(e,t){var n,i,o,r,s,a=e.target,c=e.global,d=e.stat;if(n=c?Sn:d?Sn[a]||vi(a,{}):(Sn[a]||{}).prototype)for(i in t){if(r=t[i],o=e.dontCallGetSet?(s=Jo(n,i))&&s.value:n[i],!zo(c?i:a+(d?".":"#")+i,e.forced)&&void 0!==o){if(typeof r==typeof o)continue;jo(r,o)}(e.sham||o&&o.sham)&&zi(r,"sham",!0),wo(n,i,r,e)}},Bo={};Bo[Li("toStringTag")]="z";var Qo,er="[object z]"===String(Bo),tr=Li("toStringTag"),nr=Object,ir="Arguments"==Wn(function(){return arguments}()),or=er?Wn:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=nr(e),tr))?n:ir?Wn(t):"Object"==(i=Wn(t))&&Fn(t.callee)?"Arguments":i},rr=String,sr=function(e){if("Symbol"===or(e))throw TypeError("Cannot convert a Symbol value to a string");return rr(e)},ar=Li("match"),cr=TypeError,dr=function(e){if(function(e){var t;return zn(e)&&(void 0!==(t=e[ar])?!!t:"RegExp"==Wn(e))}(e))throw cr("The method doesn't accept regular expressions");return e},lr=Li("match"),ur=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[lr]=!1,"/./"[e](t)}catch(e){}}return!1},hr=Hi.f,pr=Gn("".startsWith),mr=Gn("".slice),fr=Math.min,vr=ur("startsWith"),gr=!(vr||(Qo=hr(String.prototype,"startsWith"),!Qo||Qo.writable));qo({target:"String",proto:!0,forced:!gr&&!vr},{startsWith:function(e){var t=sr(Kn(this));dr(e);var n=To(fr(arguments.length>1?arguments[1]:void 0,t.length)),i=sr(e);return pr?pr(t,i,n):mr(t,n,n+i.length)===i}});var br=function(e,t){return Gn(Sn[e].prototype[t])};br("String","startsWith");var yr=Array.isArray||function(e){return"Array"==Wn(e)},wr=TypeError,Sr=function(e){if(e>9007199254740991)throw wr("Maximum allowed index exceeded");return e},Cr=function(e,t,n){var i=$i(t);i in e?Mi.f(e,i,Ln(0,n)):e[i]=n},Er=function(){},Rr=[],kr=qn("Reflect","construct"),_r=/^\s*(?:class|function)\b/,Ir=Gn(_r.exec),Ar=!_r.exec(Er),Tr=function(e){if(!Fn(e))return!1;try{return kr(Er,Rr,e),!0}catch(e){return!1}},Nr=function(e){if(!Fn(e))return!1;switch(or(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Ar||!!Ir(_r,oo(e))}catch(e){return!0}};Nr.sham=!0;var Lr=!kr||Cn((function(){var e;return Tr(Tr.call)||!Tr(Object)||!Tr((function(){e=!0}))||e}))?Nr:Tr,Or=Li("species"),xr=Array,$r=function(e,t){return new(function(e){var t;return yr(e)&&(t=e.constructor,(Lr(t)&&(t===xr||yr(t.prototype))||zn(t)&&null===(t=t[Or]))&&(t=void 0)),void 0===t?xr:t}(e))(0===t?0:t)},Pr=Li("species"),Gr=Li("isConcatSpreadable"),Dr=oi>=51||!Cn((function(){var e=[];return e[Gr]=!1,e.concat()[0]!==e})),Zr=("concat",oi>=51||!Cn((function(){var e=[];return(e.constructor={})[Pr]=function(){return{foo:1}},1!==e.concat(Boolean).foo}))),Wr=function(e){if(!zn(e))return!1;var t=e[Gr];return void 0!==t?!!t:yr(e)};qo({target:"Array",proto:!0,arity:1,forced:!Dr||!Zr},{concat:function(e){var t,n,i,o,r,s=wi(this),a=$r(s,0),c=0;for(t=-1,i=arguments.length;t<i;t++)if(Wr(r=-1===t?s:arguments[t]))for(o=No(r),Sr(c+o),n=0;n<o;n++,c++)n in r&&Cr(a,c,r[n]);else Sr(c+1),Cr(a,c++,r);return a.length=c,a}});var Hr=er?{}.toString:function(){return"[object "+or(this)+"]"};er||wo(Object.prototype,"toString",Hr,{unsafe:!0});var Ur,jr=Object.keys||function(e){return Po(e,Go)},Yr=En&&!Ui?Object.defineProperties:function(e,t){Xi(e);for(var n,i=Vn(t),o=jr(t),r=o.length,s=0;r>s;)Mi.f(e,n=o[s++],i[n]);return e},Xr={f:Yr},Kr=qn("document","documentElement"),Vr=co("IE_PROTO"),Fr=function(){},Mr=function(e){return"<script>"+e+"<\/script>"},zr=function(e){e.write(Mr("")),e.close();var t=e.parentWindow.Object;return e=null,t},Jr=function(){try{Ur=new ActiveXObject("htmlfile")}catch(e){}var e,t;Jr="undefined"!=typeof document?document.domain&&Ur?zr(Ur):((t=Di("iframe")).style.display="none",Kr.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(Mr("document.F=Object")),e.close(),e.F):zr(Ur);for(var n=Go.length;n--;)delete Jr.prototype[Go[n]];return Jr()};lo[Vr]=!0;var qr=Object.create||function(e,t){var n;return null!==e?(Fr.prototype=Xi(e),n=new Fr,Fr.prototype=null,n[Vr]=e):n=Jr(),void 0===t?n:Xr.f(n,t)},Br=Array,Qr=Math.max,es=Zo.f,ts="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],ns={f:function(e){return ts&&"Window"==Wn(e)?function(e){try{return es(e)}catch(e){return function(e,t,n){for(var i=No(e),o=Io(void 0,i),r=Io(i,i),s=Br(Qr(r-o,0)),a=0;o<r;o++,a++)Cr(s,a,e[o]);return s.length=a,s}(ts)}}(e):es(Vn(e))}},is={f:Li},os=Sn,rs=Mi.f,ss=function(e){var t=os.Symbol||(os.Symbol={});Ci(t,e)||rs(t,e,{value:is.f(e)})},as=function(){var e=qn("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,i=Li("toPrimitive");t&&!t[i]&&wo(t,i,(function(e){return _n(n,this)}),{arity:1})},cs=Mi.f,ds=Li("toStringTag"),ls=function(e,t,n){e&&!n&&(e=e.prototype),e&&!Ci(e,ds)&&cs(e,ds,{configurable:!0,value:t})},us=Gn(Gn.bind),hs=function(e,t){return hi(e),void 0===t?e:Rn?us(e,t):function(){return e.apply(t,arguments)}},ps=Gn([].push),ms=function(e){var t=1==e,n=2==e,i=3==e,o=4==e,r=6==e,s=7==e,a=5==e||r;return function(c,d,l,u){for(var h,p,m=wi(c),f=jn(m),v=hs(d,l),g=No(f),b=0,y=u||$r,w=t?y(c,g):n||s?y(c,0):void 0;g>b;b++)if((a||b in f)&&(p=v(h=f[b],b,m),e))if(t)w[b]=p;else if(p)switch(e){case 3:return!0;case 5:return h;case 6:return b;case 2:ps(w,h)}else switch(e){case 4:return!1;case 7:ps(w,h)}return r?-1:i||o?o:w}},fs=[ms(0),ms(1),ms(2),ms(3),ms(4),ms(5),ms(6),ms(7)][0],vs=co("hidden"),gs=bo.set,bs=bo.getterFor("Symbol"),ys=Object.prototype,ws=Sn.Symbol,Ss=ws&&ws.prototype,Cs=Sn.TypeError,Es=Sn.QObject,Rs=Hi.f,ks=Mi.f,_s=ns.f,Is=Nn.f,As=Gn([].push),Ts=bi("symbols"),Ns=bi("op-symbols"),Ls=bi("wks"),Os=!Es||!Es.prototype||!Es.prototype.findChild,xs=En&&Cn((function(){return 7!=qr(ks({},"a",{get:function(){return ks(this,"a",{value:7}).a}})).a}))?function(e,t,n){var i=Rs(ys,t);i&&delete ys[t],ks(e,t,n),i&&e!==ys&&ks(ys,t,i)}:ks,$s=function(e,t){var n=Ts[e]=qr(Ss);return gs(n,{type:"Symbol",tag:e,description:t}),En||(n.description=t),n},Ps=function(e,t,n){e===ys&&Ps(Ns,t,n),Xi(e);var i=$i(t);return Xi(n),Ci(Ts,i)?(n.enumerable?(Ci(e,vs)&&e[vs][i]&&(e[vs][i]=!1),n=qr(n,{enumerable:Ln(0,!1)})):(Ci(e,vs)||ks(e,vs,Ln(1,{})),e[vs][i]=!0),xs(e,i,n)):ks(e,i,n)},Gs=function(e,t){Xi(e);var n=Vn(t),i=jr(n).concat(Hs(n));return fs(i,(function(t){En&&!_n(Ds,n,t)||Ps(e,t,n[t])})),e},Ds=function(e){var t=$i(e),n=_n(Is,this,t);return!(this===ys&&Ci(Ts,t)&&!Ci(Ns,t))&&(!(n||!Ci(this,t)||!Ci(Ts,t)||Ci(this,vs)&&this[vs][t])||n)},Zs=function(e,t){var n=Vn(e),i=$i(t);if(n!==ys||!Ci(Ts,i)||Ci(Ns,i)){var o=Rs(n,i);return!o||!Ci(Ts,i)||Ci(n,vs)&&n[vs][i]||(o.enumerable=!0),o}},Ws=function(e){var t=_s(Vn(e)),n=[];return fs(t,(function(e){Ci(Ts,e)||Ci(lo,e)||As(n,e)})),n},Hs=function(e){var t=e===ys,n=_s(t?Ns:Vn(e)),i=[];return fs(n,(function(e){!Ci(Ts,e)||t&&!Ci(ys,e)||As(i,Ts[e])})),i};ri||(Ss=(ws=function(){if(Bn(Ss,this))throw Cs("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?sr(arguments[0]):void 0,t=_i(e),n=function(e){this===ys&&_n(n,Ns,e),Ci(this,vs)&&Ci(this[vs],t)&&(this[vs][t]=!1),xs(this,t,Ln(1,e))};return En&&Os&&xs(ys,t,{configurable:!0,set:n}),$s(t,e)}).prototype,wo(Ss,"toString",(function(){return bs(this).tag})),wo(ws,"withoutSetter",(function(e){return $s(_i(e),e)})),Nn.f=Ds,Mi.f=Ps,Xr.f=Gs,Hi.f=Zs,Zo.f=ns.f=Ws,Wo.f=Hs,is.f=function(e){return $s(Li(e),e)},En&&(ks(Ss,"description",{configurable:!0,get:function(){return bs(this).description}}),wo(ys,"propertyIsEnumerable",Ds,{unsafe:!0}))),qo({global:!0,constructor:!0,wrap:!0,forced:!ri,sham:!ri},{Symbol:ws}),fs(jr(Ls),(function(e){ss(e)})),qo({target:"Symbol",stat:!0,forced:!ri},{useSetter:function(){Os=!0},useSimple:function(){Os=!1}}),qo({target:"Object",stat:!0,forced:!ri,sham:!En},{create:function(e,t){return void 0===t?qr(e):Gs(qr(e),t)},defineProperty:Ps,defineProperties:Gs,getOwnPropertyDescriptor:Zs}),qo({target:"Object",stat:!0,forced:!ri},{getOwnPropertyNames:Ws}),as(),ls(ws,"Symbol"),lo[vs]=!0;var Us=ri&&!!Symbol.for&&!!Symbol.keyFor,js=bi("string-to-symbol-registry"),Ys=bi("symbol-to-string-registry");qo({target:"Symbol",stat:!0,forced:!Us},{for:function(e){var t=sr(e);if(Ci(js,t))return js[t];var n=qn("Symbol")(t);return js[t]=n,Ys[n]=t,n}});var Xs=bi("symbol-to-string-registry");qo({target:"Symbol",stat:!0,forced:!Us},{keyFor:function(e){if(!ci(e))throw TypeError(li(e)+" is not a symbol");if(Ci(Xs,e))return Xs[e]}});var Ks=Function.prototype,Vs=Ks.apply,Fs=Ks.call,Ms="object"==typeof Reflect&&Reflect.apply||(Rn?Fs.bind(Vs):function(){return Fs.apply(Vs,arguments)}),zs=Gn([].slice),Js=qn("JSON","stringify"),qs=Gn(/./.exec),Bs=Gn("".charAt),Qs=Gn("".charCodeAt),ea=Gn("".replace),ta=Gn(1..toString),na=/[\uD800-\uDFFF]/g,ia=/^[\uD800-\uDBFF]$/,oa=/^[\uDC00-\uDFFF]$/,ra=!ri||Cn((function(){var e=qn("Symbol")();return"[null]"!=Js([e])||"{}"!=Js({a:e})||"{}"!=Js(Object(e))})),sa=Cn((function(){return'"\\udf06\\ud834"'!==Js("\udf06\ud834")||'"\\udead"'!==Js("\udead")})),aa=function(e,t){var n=zs(arguments),i=t;if((zn(t)||void 0!==e)&&!ci(e))return yr(t)||(t=function(e,t){if(Fn(i)&&(t=_n(i,this,e,t)),!ci(t))return t}),n[1]=t,Ms(Js,null,n)},ca=function(e,t,n){var i=Bs(n,t-1),o=Bs(n,t+1);return qs(ia,e)&&!qs(oa,o)||qs(oa,e)&&!qs(ia,i)?"\\u"+ta(Qs(e,0),16):e};Js&&qo({target:"JSON",stat:!0,arity:3,forced:ra||sa},{stringify:function(e,t,n){var i=zs(arguments),o=Ms(ra?aa:Js,null,i);return sa&&"string"==typeof o?ea(o,na,ca):o}});var da=!ri||Cn((function(){Wo.f(1)}));qo({target:"Object",stat:!0,forced:da},{getOwnPropertySymbols:function(e){var t=Wo.f;return t?t(wi(e)):[]}}),ss("asyncIterator");var la=Mi.f,ua=Sn.Symbol,ha=ua&&ua.prototype;if(En&&Fn(ua)&&(!("description"in ha)||void 0!==ua().description)){var pa={},ma=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:sr(arguments[0]),t=Bn(ha,this)?new ua(e):void 0===e?ua():ua(e);return""===e&&(pa[t]=!0),t};jo(ma,ua),ma.prototype=ha,ha.constructor=ma;var fa="Symbol(test)"==String(ua("test")),va=Gn(ha.valueOf),ga=Gn(ha.toString),ba=/^Symbol\((.*)\)[^)]+$/,ya=Gn("".replace),wa=Gn("".slice);la(ha,"description",{configurable:!0,get:function(){var e=va(this);if(Ci(pa,e))return"";var t=ga(e),n=fa?wa(t,7,-1):ya(t,ba,"$1");return""===n?void 0:n}}),qo({global:!0,constructor:!0,forced:!0},{Symbol:ma})}ss("hasInstance"),ss("isConcatSpreadable"),ss("iterator"),ss("match"),ss("matchAll"),ss("replace"),ss("search"),ss("species"),ss("split"),ss("toPrimitive"),as(),ss("toStringTag"),ls(qn("Symbol"),"Symbol"),ss("unscopables"),ls(Sn.JSON,"JSON",!0),ls(Math,"Math",!0),qo({global:!0},{Reflect:{}}),ls(Sn.Reflect,"Reflect",!0),os.Symbol;var Sa,Ca,Ea,Ra=Gn("".charAt),ka=Gn("".charCodeAt),_a=Gn("".slice),Ia=function(e){return function(t,n){var i,o,r=sr(Kn(t)),s=Ro(n),a=r.length;return s<0||s>=a?e?"":void 0:(i=ka(r,s))<55296||i>56319||s+1===a||(o=ka(r,s+1))<56320||o>57343?e?Ra(r,s):i:e?_a(r,s,s+2):o-56320+(i-55296<<10)+65536}},Aa={codeAt:Ia(!1),charAt:Ia(!0)},Ta=!Cn((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Na=co("IE_PROTO"),La=Object,Oa=La.prototype,xa=Ta?La.getPrototypeOf:function(e){var t=wi(e);if(Ci(t,Na))return t[Na];var n=t.constructor;return Fn(n)&&t instanceof n?n.prototype:t instanceof La?Oa:null},$a=Li("iterator"),Pa=!1;[].keys&&("next"in(Ea=[].keys())?(Ca=xa(xa(Ea)))!==Object.prototype&&(Sa=Ca):Pa=!0);var Ga=!zn(Sa)||Cn((function(){var e={};return Sa[$a].call(e)!==e}));Ga&&(Sa={}),Fn(Sa[$a])||wo(Sa,$a,(function(){return this}));var Da={IteratorPrototype:Sa,BUGGY_SAFARI_ITERATORS:Pa},Za={},Wa=Da.IteratorPrototype,Ha=function(){return this},Ua=String,ja=TypeError,Ya=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Gn(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return Xi(n),function(e){if("object"==typeof e||Fn(e))return e;throw ja("Can't set "+Ua(e)+" as a prototype")}(i),t?e(n,i):n.__proto__=i,n}}():void 0),Xa=Qi.PROPER,Ka=Qi.CONFIGURABLE,Va=Da.IteratorPrototype,Fa=Da.BUGGY_SAFARI_ITERATORS,Ma=Li("iterator"),za=function(){return this},Ja=function(e,t,n,i,o,r,s){!function(e,t,n,i){var o=t+" Iterator";e.prototype=qr(Wa,{next:Ln(1,n)}),ls(e,o,!1),Za[o]=Ha}(n,t,i);var a,c,d,l=function(e){if(e===o&&f)return f;if(!Fa&&e in p)return p[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},u=t+" Iterator",h=!1,p=e.prototype,m=p[Ma]||p["@@iterator"]||o&&p[o],f=!Fa&&m||l(o),v="Array"==t&&p.entries||m;if(v&&(a=xa(v.call(new e)))!==Object.prototype&&a.next&&(xa(a)!==Va&&(Ya?Ya(a,Va):Fn(a[Ma])||wo(a,Ma,za)),ls(a,u,!0)),Xa&&"values"==o&&m&&"values"!==m.name&&(Ka?zi(p,"name","values"):(h=!0,f=function(){return _n(m,this)})),o)if(c={values:l("values"),keys:r?f:l("keys"),entries:l("entries")},s)for(d in c)(Fa||h||!(d in p))&&wo(p,d,c[d]);else qo({target:t,proto:!0,forced:Fa||h},c);return p[Ma]!==f&&wo(p,Ma,f,{name:o}),Za[t]=f,c},qa=function(e,t){return{value:e,done:t}},Ba=Aa.charAt,Qa=bo.set,ec=bo.getterFor("String Iterator");Ja(String,"String",(function(e){Qa(this,{type:"String Iterator",string:sr(e),index:0})}),(function(){var e,t=ec(this),n=t.string,i=t.index;return i>=n.length?qa(void 0,!0):(e=Ba(n,i),t.index+=e.length,qa(e,!1))}));var tc=function(e,t,n){var i,o;Xi(e);try{if(!(i=pi(e,"return"))){if("throw"===t)throw n;return n}i=_n(i,e)}catch(e){o=!0,i=e}if("throw"===t)throw n;if(o)throw i;return Xi(i),n},nc=function(e,t,n,i){try{return i?t(Xi(n)[0],n[1]):t(n)}catch(t){tc(e,"throw",t)}},ic=Li("iterator"),oc=Array.prototype,rc=function(e){return void 0!==e&&(Za.Array===e||oc[ic]===e)},sc=Li("iterator"),ac=function(e){if(!Yn(e))return pi(e,sc)||pi(e,"@@iterator")||Za[or(e)]},cc=TypeError,dc=function(e,t){var n=arguments.length<2?ac(e):t;if(hi(n))return Xi(_n(n,e));throw cc(li(e)+" is not iterable")},lc=Array,uc=Li("iterator"),hc=!1;try{var pc=0,mc={next:function(){return{done:!!pc++}},return:function(){hc=!0}};mc[uc]=function(){return this},Array.from(mc,(function(){throw 2}))}catch(an){}var fc=function(e,t){if(!t&&!hc)return!1;var n=!1;try{var i={};i[uc]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(e){}return n},vc=!fc((function(e){Array.from(e)}));qo({target:"Array",stat:!0,forced:vc},{from:function(e){var t=wi(e),n=Lr(this),i=arguments.length,o=i>1?arguments[1]:void 0,r=void 0!==o;r&&(o=hs(o,i>2?arguments[2]:void 0));var s,a,c,d,l,u,h=ac(t),p=0;if(!h||this===lc&&rc(h))for(s=No(t),a=n?new this(s):lc(s);s>p;p++)u=r?o(t[p],p):t[p],Cr(a,p,u);else for(l=(d=dc(t,h)).next,a=n?new this:[];!(c=_n(l,d)).done;p++)u=r?nc(d,o,[c.value,p],!0):c.value,Cr(a,p,u);return a.length=p,a}}),os.Array.from;var gc,bc,yc,wc="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,Sc=Mi.f,Cc=bo.enforce,Ec=bo.get,Rc=Sn.Int8Array,kc=Rc&&Rc.prototype,_c=Sn.Uint8ClampedArray,Ic=_c&&_c.prototype,Ac=Rc&&xa(Rc),Tc=kc&&xa(kc),Nc=Object.prototype,Lc=Sn.TypeError,Oc=Li("toStringTag"),xc=_i("TYPED_ARRAY_TAG"),$c=wc&&!!Ya&&"Opera"!==or(Sn.opera),Pc=!1,Gc={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Dc={BigInt64Array:8,BigUint64Array:8},Zc=function(e){var t=xa(e);if(zn(t)){var n=Ec(t);return n&&Ci(n,"TypedArrayConstructor")?n.TypedArrayConstructor:Zc(t)}},Wc=function(e){if(!zn(e))return!1;var t=or(e);return Ci(Gc,t)||Ci(Dc,t)};for(gc in Gc)(yc=(bc=Sn[gc])&&bc.prototype)?Cc(yc).TypedArrayConstructor=bc:$c=!1;for(gc in Dc)(yc=(bc=Sn[gc])&&bc.prototype)&&(Cc(yc).TypedArrayConstructor=bc);if((!$c||!Fn(Ac)||Ac===Function.prototype)&&(Ac=function(){throw Lc("Incorrect invocation")},$c))for(gc in Gc)Sn[gc]&&Ya(Sn[gc],Ac);if((!$c||!Tc||Tc===Nc)&&(Tc=Ac.prototype,$c))for(gc in Gc)Sn[gc]&&Ya(Sn[gc].prototype,Tc);if($c&&xa(Ic)!==Tc&&Ya(Ic,Tc),En&&!Ci(Tc,Oc))for(gc in Pc=!0,Sc(Tc,Oc,{get:function(){return zn(this)?this[xc]:void 0}}),Gc)Sn[gc]&&zi(Sn[gc],xc,gc);var Hc={NATIVE_ARRAY_BUFFER_VIEWS:$c,TYPED_ARRAY_TAG:Pc&&xc,aTypedArray:function(e){if(Wc(e))return e;throw Lc("Target is not a typed array")},aTypedArrayConstructor:function(e){if(Fn(e)&&(!Ya||Bn(Ac,e)))return e;throw Lc(li(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n,i){if(En){if(n)for(var o in Gc){var r=Sn[o];if(r&&Ci(r.prototype,e))try{delete r.prototype[e]}catch(n){try{r.prototype[e]=t}catch(e){}}}Tc[e]&&!n||wo(Tc,e,n?t:$c&&kc[e]||t,i)}},exportTypedArrayStaticMethod:function(e,t,n){var i,o;if(En){if(Ya){if(n)for(i in Gc)if((o=Sn[i])&&Ci(o,e))try{delete o[e]}catch(e){}if(Ac[e]&&!n)return;try{return wo(Ac,e,n?t:$c&&Ac[e]||t)}catch(e){}}for(i in Gc)!(o=Sn[i])||o[e]&&!n||wo(o,e,t)}},getTypedArrayConstructor:Zc,isView:function(e){if(!zn(e))return!1;var t=or(e);return"DataView"===t||Ci(Gc,t)||Ci(Dc,t)},isTypedArray:Wc,TypedArray:Ac,TypedArrayPrototype:Tc},Uc=TypeError,jc=Li("species"),Yc=Hc.aTypedArrayConstructor,Xc=Hc.getTypedArrayConstructor,Kc=Hc.aTypedArray;(0,Hc.exportTypedArrayMethod)("slice",(function(e,t){for(var n=zs(Kc(this),e,t),i=Yc(function(e,t){var n,i=Xi(e).constructor;return void 0===i||Yn(n=Xi(i)[jc])?t:function(e){if(Lr(e))return e;throw Uc(li(e)+" is not a constructor")}(n)}(this,Xc(this))),o=0,r=n.length,s=new i(r);r>o;)s[o]=n[o++];return s}),Cn((function(){new Int8Array(1).slice()})));var Vc=Mi.f,Fc=Li("unscopables"),Mc=Array.prototype;null==Mc[Fc]&&Vc(Mc,Fc,{configurable:!0,value:qr(null)});var zc=function(e){Mc[Fc][e]=!0},Jc=Oo.includes,qc=Cn((function(){return!Array(1).includes()}));qo({target:"Array",proto:!0,forced:qc},{includes:function(e){return Jc(this,e,arguments.length>1?arguments[1]:void 0)}}),zc("includes"),br("Array","includes");var Bc=Gn("".indexOf);qo({target:"String",proto:!0,forced:!ur("includes")},{includes:function(e){return!!~Bc(sr(Kn(this)),sr(dr(e)),arguments.length>1?arguments[1]:void 0)}}),br("String","includes");var Qc=Mi.f,ed=bo.set,td=bo.getterFor("Array Iterator");Ja(Array,"Array",(function(e,t){ed(this,{type:"Array Iterator",target:Vn(e),index:0,kind:t})}),(function(){var e=td(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,qa(void 0,!0)):qa("keys"==n?i:"values"==n?t[i]:[i,t[i]],!1)}),"values");var nd=Za.Arguments=Za.Array;if(zc("keys"),zc("values"),zc("entries"),En&&"values"!==nd.name)try{Qc(nd,"name",{value:"values"})}catch(an){}var id=Cn((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}})),od=Object.isExtensible,rd=Cn((function(){od(1)}))||id?function(e){return!!zn(e)&&(!id||"ArrayBuffer"!=Wn(e))&&(!od||od(e))}:od,sd=!Cn((function(){return Object.isExtensible(Object.preventExtensions({}))})),ad=gn((function(e){var t=Mi.f,n=!1,i=_i("meta"),o=0,r=function(e){t(e,i,{value:{objectID:"O"+o++,weakData:{}}})},s=e.exports={enable:function(){s.enable=function(){},n=!0;var e=Zo.f,t=Gn([].splice),o={};o[i]=1,e(o).length&&(Zo.f=function(n){for(var o=e(n),r=0,s=o.length;r<s;r++)if(o[r]===i){t(o,r,1);break}return o},qo({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:ns.f}))},fastKey:function(e,t){if(!zn(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!Ci(e,i)){if(!rd(e))return"F";if(!t)return"E";r(e)}return e[i].objectID},getWeakData:function(e,t){if(!Ci(e,i)){if(!rd(e))return!0;if(!t)return!1;r(e)}return e[i].weakData},onFreeze:function(e){return sd&&n&&rd(e)&&!Ci(e,i)&&r(e),e}};lo[i]=!0}));ad.enable,ad.fastKey,ad.getWeakData,ad.onFreeze;var cd=TypeError,dd=function(e,t){this.stopped=e,this.result=t},ld=dd.prototype,ud=function(e,t,n){var i,o,r,s,a,c,d,l=n&&n.that,u=!(!n||!n.AS_ENTRIES),h=!(!n||!n.IS_RECORD),p=!(!n||!n.IS_ITERATOR),m=!(!n||!n.INTERRUPTED),f=hs(t,l),v=function(e){return i&&tc(i,"normal",e),new dd(!0,e)},g=function(e){return u?(Xi(e),m?f(e[0],e[1],v):f(e[0],e[1])):m?f(e,v):f(e)};if(h)i=e.iterator;else if(p)i=e;else{if(!(o=ac(e)))throw cd(li(e)+" is not iterable");if(rc(o)){for(r=0,s=No(e);s>r;r++)if((a=g(e[r]))&&Bn(ld,a))return a;return new dd(!1)}i=dc(e,o)}for(c=h?e.next:i.next;!(d=_n(c,i)).done;){try{a=g(d.value)}catch(e){tc(i,"throw",e)}if("object"==typeof a&&a&&Bn(ld,a))return a}return new dd(!1)},hd=TypeError,pd=function(e,t){if(Bn(t,e))return e;throw hd("Incorrect invocation")},md=function(e,t,n){for(var i in t)wo(e,i,t[i],n);return e},fd=Li("species"),vd=Mi.f,gd=ad.fastKey,bd=bo.set,yd=bo.getterFor,wd={getConstructor:function(e,t,n,i){var o=e((function(e,o){pd(e,r),bd(e,{type:t,index:qr(null),first:void 0,last:void 0,size:0}),En||(e.size=0),Yn(o)||ud(o,e[i],{that:e,AS_ENTRIES:n})})),r=o.prototype,s=yd(t),a=function(e,t,n){var i,o,r=s(e),a=c(e,t);return a?a.value=n:(r.last=a={index:o=gd(t,!0),key:t,value:n,previous:i=r.last,next:void 0,removed:!1},r.first||(r.first=a),i&&(i.next=a),En?r.size++:e.size++,"F"!==o&&(r.index[o]=a)),e},c=function(e,t){var n,i=s(e),o=gd(t);if("F"!==o)return i.index[o];for(n=i.first;n;n=n.next)if(n.key==t)return n};return md(r,{clear:function(){for(var e=s(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,En?e.size=0:this.size=0},delete:function(e){var t=this,n=s(t),i=c(t,e);if(i){var o=i.next,r=i.previous;delete n.index[i.index],i.removed=!0,r&&(r.next=o),o&&(o.previous=r),n.first==i&&(n.first=o),n.last==i&&(n.last=r),En?n.size--:t.size--}return!!i},forEach:function(e){for(var t,n=s(this),i=hs(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(i(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!c(this,e)}}),md(r,n?{get:function(e){var t=c(this,e);return t&&t.value},set:function(e,t){return a(this,0===e?0:e,t)}}:{add:function(e){return a(this,e=0===e?0:e,e)}}),En&&vd(r,"size",{get:function(){return s(this).size}}),o},setStrong:function(e,t,n){var i=t+" Iterator",o=yd(t),r=yd(i);Ja(e,t,(function(e,t){bd(this,{type:i,target:e,state:o(e),kind:t,last:void 0})}),(function(){for(var e=r(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?qa("keys"==t?n.key:"values"==t?n.value:[n.key,n.value],!1):(e.target=void 0,qa(void 0,!0))}),n?"entries":"values",!n,!0),function(e){var t=qn(e),n=Mi.f;En&&t&&!t[fd]&&n(t,fd,{configurable:!0,get:function(){return this}})}(t)}};function Sd(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))}function Cd(e){return new this((function(t,n){if(!e||void 0===e.length)return n(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);var o=i.length;function r(e,n){if(n&&("object"==typeof n||"function"==typeof n)){var s=n.then;if("function"==typeof s)return void s.call(n,(function(t){r(e,t)}),(function(n){i[e]={status:"rejected",reason:n},0==--o&&t(i)}))}i[e]={status:"fulfilled",value:n},0==--o&&t(i)}for(var s=0;s<i.length;s++)r(s,i[s])}))}!function(e,t,n){var i=-1!==e.indexOf("Map"),o=-1!==e.indexOf("Weak"),r=i?"set":"add",s=Sn[e],a=s&&s.prototype,c=s,d={},l=function(e){var t=Gn(a[e]);wo(a,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(o&&!zn(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return o&&!zn(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(o&&!zn(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(zo(e,!Fn(s)||!(o||a.forEach&&!Cn((function(){(new s).entries().next()})))))c=n.getConstructor(t,e,i,r),ad.enable();else if(zo(e,!0)){var u=new c,h=u[r](o?{}:-0,1)!=u,p=Cn((function(){u.has(1)})),m=fc((function(e){new s(e)})),f=!o&&Cn((function(){for(var e=new s,t=5;t--;)e[r](t,t);return!e.has(-0)}));m||((c=t((function(e,t){pd(e,a);var n=function(e,t,n){var i,o;return Ya&&Fn(i=t.constructor)&&i!==n&&zn(o=i.prototype)&&o!==n.prototype&&Ya(e,o),e}(new s,e,c);return Yn(t)||ud(t,n[r],{that:n,AS_ENTRIES:i}),n}))).prototype=a,a.constructor=c),(p||f)&&(l("delete"),l("has"),i&&l("get")),(f||h)&&l(r),o&&a.clear&&delete a.clear}d[e]=c,qo({global:!0,constructor:!0,forced:c!=s},d),ls(c,e),o||n.setStrong(c,e,i)}("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),wd),os.Set;var Ed=setTimeout;function Rd(e){return Boolean(e&&void 0!==e.length)}function kd(){}function _d(e){if(!(this instanceof _d))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Od(e,this)}function Id(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,_d._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(e){return void Td(t.promise,e)}Ad(t.promise,i)}else(1===e._state?Ad:Td)(t.promise,e._value)}))):e._deferreds.push(t)}function Ad(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof _d)return e._state=3,e._value=t,void Nd(e);if("function"==typeof n)return void Od((i=n,o=t,function(){i.apply(o,arguments)}),e)}e._state=1,e._value=t,Nd(e)}catch(t){Td(e,t)}var i,o}function Td(e,t){e._state=2,e._value=t,Nd(e)}function Nd(e){2===e._state&&0===e._deferreds.length&&_d._immediateFn((function(){e._handled||_d._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)Id(e,e._deferreds[t]);e._deferreds=null}function Ld(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function Od(e,t){var n=!1;try{e((function(e){n||(n=!0,Ad(t,e))}),(function(e){n||(n=!0,Td(t,e))}))}catch(e){if(n)return;n=!0,Td(t,e)}}_d.prototype.catch=function(e){return this.then(null,e)},_d.prototype.then=function(e,t){var n=new this.constructor(kd);return Id(this,new Ld(e,t,n)),n},_d.prototype.finally=Sd,_d.all=function(e){return new _d((function(t,n){if(!Rd(e))return n(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);var o=i.length;function r(e,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,(function(t){r(e,t)}),n)}i[e]=s,0==--o&&t(i)}catch(e){n(e)}}for(var s=0;s<i.length;s++)r(s,i[s])}))},_d.allSettled=Cd,_d.resolve=function(e){return e&&"object"==typeof e&&e.constructor===_d?e:new _d((function(t){t(e)}))},_d.reject=function(e){return new _d((function(t,n){n(e)}))},_d.race=function(e){return new _d((function(t,n){if(!Rd(e))return n(new TypeError("Promise.race accepts an array"));for(var i=0,o=e.length;i<o;i++)_d.resolve(e[i]).then(t,n)}))},_d._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){Ed(e,0)},_d._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var xd=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();"function"!=typeof xd.Promise?xd.Promise=_d:(xd.Promise.prototype.finally||(xd.Promise.prototype.finally=Sd),xd.Promise.allSettled||(xd.Promise.allSettled=Cd)),function(e){function t(e){for(var t=0,n=Math.min(65536,e.length+1),i=new Uint16Array(n),o=[],r=0;;){var s=t<e.length;if(!s||r>=n-1){var a=i.subarray(0,r);if(o.push(String.fromCharCode.apply(null,a)),!s)return o.join("");e=e.subarray(t),t=0,r=0}var c=e[t++];if(0==(128&c))i[r++]=c;else if(192==(224&c)){var d=63&e[t++];i[r++]=(31&c)<<6|d}else if(224==(240&c)){d=63&e[t++];var l=63&e[t++];i[r++]=(31&c)<<12|d<<6|l}else if(240==(248&c)){var u=(7&c)<<18|(d=63&e[t++])<<12|(l=63&e[t++])<<6|63&e[t++];u>65535&&(u-=65536,i[r++]=u>>>10&1023|55296,u=56320|1023&u),i[r++]=u}}}var n="Failed to ",i=function(e,t,i){if(e)throw new Error("".concat(n).concat(t,": the '").concat(i,"' option is unsupported."))},o="function"==typeof Buffer&&Buffer.from,r=o?function(e){return Buffer.from(e)}:function(e){for(var t=0,n=e.length,i=0,o=Math.max(32,n+(n>>>1)+7),r=new Uint8Array(o>>>3<<3);t<n;){var s=e.charCodeAt(t++);if(s>=55296&&s<=56319){if(t<n){var a=e.charCodeAt(t);56320==(64512&a)&&(++t,s=((1023&s)<<10)+(1023&a)+65536)}if(s>=55296&&s<=56319)continue}if(i+4>r.length){o+=8,o=(o*=1+t/e.length*2)>>>3<<3;var c=new Uint8Array(o);c.set(r),r=c}if(0!=(4294967168&s)){if(0==(4294965248&s))r[i++]=s>>>6&31|192;else if(0==(4294901760&s))r[i++]=s>>>12&15|224,r[i++]=s>>>6&63|128;else{if(0!=(4292870144&s))continue;r[i++]=s>>>18&7|240,r[i++]=s>>>12&63|128,r[i++]=s>>>6&63|128}r[i++]=63&s|128}else r[i++]=s}return r.slice?r.slice(0,i):r.subarray(0,i)};function s(){this.encoding="utf-8"}s.prototype.encode=function(e,t){return i(t&&t.stream,"encode","stream"),r(e)};var a=!o&&"function"==typeof Blob&&"function"==typeof URL&&"function"==typeof URL.createObjectURL,c=["utf-8","utf8","unicode-1-1-utf-8"],d=t;o?d=function(e,t){return(e instanceof Buffer?e:Buffer.from(e.buffer,e.byteOffset,e.byteLength)).toString(t)}:a&&(d=function(e){try{return function(e){var t;try{var n=new Blob([e],{type:"text/plain;charset=UTF-8"});t=URL.createObjectURL(n);var i=new XMLHttpRequest;return i.open("GET",t,!1),i.send(),i.responseText}finally{t&&URL.revokeObjectURL(t)}}(e)}catch(n){return t(e)}});var l="construct 'TextDecoder'",u="".concat(n," ").concat(l,": the ");function h(e,t){if(i(t&&t.fatal,l,"fatal"),e=e||"utf-8",!(o?Buffer.isEncoding(e):-1!==c.indexOf(e.toLowerCase())))throw new RangeError("".concat(u," encoding label provided ('").concat(e,"') is invalid."));this.encoding=e,this.fatal=!1,this.ignoreBOM=!1}h.prototype.decode=function(e,t){var n;return i(t&&t.stream,"decode","stream"),n=e instanceof Uint8Array?e:e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer):new Uint8Array(e),d(n,this.encoding)},e.TextEncoder=e.TextEncoder||s,e.TextDecoder=e.TextDecoder||h}("undefined"!=typeof window?window:fn),function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?s(e):t}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=o(e);if(t){var r=o(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return a(this,n)}}function d(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=o(e)););return e}function l(e,t,n){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=d(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}},l(e,t,n||e)}var u=function(){function t(){e(this,t),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return n(t,[{key:"addEventListener",value:function(e,t,n){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push({callback:t,options:n})}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var n=this.listeners[e],i=0,o=n.length;i<o;i++)if(n[i].callback===t)return void n.splice(i,1)}},{key:"dispatchEvent",value:function(e){if(e.type in this.listeners){for(var t=this.listeners[e.type].slice(),n=0,i=t.length;n<i;n++){var o=t[n];try{o.callback.call(this,e)}catch(e){Promise.resolve().then((function(){throw e}))}o.options&&o.options.once&&this.removeEventListener(e.type,o.callback)}return!e.defaultPrevented}}}]),t}(),h=function(t){i(a,t);var r=c(a);function a(){var t;return e(this,a),(t=r.call(this)).listeners||u.call(s(t)),Object.defineProperty(s(t),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(s(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return n(a,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(e){"abort"===e.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,e)),l(o(a.prototype),"dispatchEvent",this).call(this,e)}}]),a}(u),p=function(){function t(){e(this,t),Object.defineProperty(this,"signal",{value:new h,writable:!0,configurable:!0})}return n(t,[{key:"abort",value:function(){var e;try{e=new Event("abort")}catch(t){"undefined"!=typeof document?document.createEvent?(e=document.createEvent("Event")).initEvent("abort",!1,!1):(e=document.createEventObject()).type="abort":e={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(e)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(p.prototype[Symbol.toStringTag]="AbortController",h.prototype[Symbol.toStringTag]="AbortSignal"),function(e){(function(e){return e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof e.Request&&!e.Request.prototype.hasOwnProperty("signal")||!e.AbortController})(e)&&(e.AbortController=p,e.AbortSignal=h)}("undefined"!=typeof self?self:fn)}();var $d=gn((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){var e=this;this.locked=new Map,this.addToLocked=function(t,n){var i=e.locked.get(t);void 0===i?void 0===n?e.locked.set(t,[]):e.locked.set(t,[n]):void 0!==n&&(i.unshift(n),e.locked.set(t,i))},this.isLocked=function(t){return e.locked.has(t)},this.lock=function(t){return new Promise((function(n,i){e.isLocked(t)?e.addToLocked(t,n):(e.addToLocked(t),n())}))},this.unlock=function(t){var n=e.locked.get(t);if(void 0!==n&&0!==n.length){var i=n.pop();e.locked.set(t,n),void 0!==i&&setTimeout(i,0)}else e.locked.delete(t)}}return e.getInstance=function(){return void 0===e.instance&&(e.instance=new e),e.instance},e}();t.default=function(){return n.getInstance()}}));vn($d);var Pd=gn((function(e,t){var n=fn&&fn.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}c((i=i.apply(e,t||[])).next())}))},i=fn&&fn.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var o="browser-tabs-lock-key";function r(e){return new Promise((function(t){return setTimeout(t,e)}))}function s(e){for(var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n="",i=0;i<e;i++)n+=t[Math.floor(Math.random()*t.length)];return n}var a=function(){function e(){this.acquiredIatSet=new Set,this.id=Date.now().toString()+s(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),void 0===e.waiters&&(e.waiters=[])}return e.prototype.acquireLock=function(t,a){return void 0===a&&(a=5e3),n(this,void 0,void 0,(function(){var n,c,d,l,u,h;return i(this,(function(i){switch(i.label){case 0:n=Date.now()+s(4),c=Date.now()+a,d=o+"-"+t,l=window.localStorage,i.label=1;case 1:return Date.now()<c?[4,r(30)]:[3,8];case 2:return i.sent(),null!==l.getItem(d)?[3,5]:(u=this.id+"-"+t+"-"+n,[4,r(Math.floor(25*Math.random()))]);case 3:return i.sent(),l.setItem(d,JSON.stringify({id:this.id,iat:n,timeoutKey:u,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,r(30)];case 4:return i.sent(),null!==(h=l.getItem(d))&&(h=JSON.parse(h)).id===this.id&&h.iat===n?(this.acquiredIatSet.add(n),this.refreshLockWhileAcquired(d,n),[2,!0]):[3,7];case 5:return e.lockCorrector(),[4,this.waitForSomethingToChange(c)];case 6:i.sent(),i.label=7;case 7:return n=Date.now()+s(4),[3,1];case 8:return[2,!1]}}))}))},e.prototype.refreshLockWhileAcquired=function(e,t){return n(this,void 0,void 0,(function(){var o=this;return i(this,(function(r){return setTimeout((function(){return n(o,void 0,void 0,(function(){var n,o;return i(this,(function(i){switch(i.label){case 0:return[4,$d.default().lock(t)];case 1:return i.sent(),this.acquiredIatSet.has(t)?(n=window.localStorage,null===(o=n.getItem(e))?($d.default().unlock(t),[2]):((o=JSON.parse(o)).timeRefreshed=Date.now(),n.setItem(e,JSON.stringify(o)),$d.default().unlock(t),this.refreshLockWhileAcquired(e,t),[2])):($d.default().unlock(t),[2])}}))}))}),1e3),[2]}))}))},e.prototype.waitForSomethingToChange=function(t){return n(this,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n){var i=!1,o=Date.now(),r=!1;function s(){if(r||(window.removeEventListener("storage",s),e.removeFromWaiting(s),clearTimeout(a),r=!0),!i){i=!0;var t=50-(Date.now()-o);t>0?setTimeout(n,t):n()}}window.addEventListener("storage",s),e.addToWaiting(s);var a=setTimeout(s,Math.max(0,t-Date.now()))}))];case 1:return n.sent(),[2]}}))}))},e.addToWaiting=function(t){this.removeFromWaiting(t),void 0!==e.waiters&&e.waiters.push(t)},e.removeFromWaiting=function(t){void 0!==e.waiters&&(e.waiters=e.waiters.filter((function(e){return e!==t})))},e.notifyWaiters=function(){void 0!==e.waiters&&e.waiters.slice().forEach((function(e){return e()}))},e.prototype.releaseLock=function(e){return n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this.releaseLock__private__(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.releaseLock__private__=function(t){return n(this,void 0,void 0,(function(){var n,r,s;return i(this,(function(i){switch(i.label){case 0:return n=window.localStorage,r=o+"-"+t,null===(s=n.getItem(r))?[2]:(s=JSON.parse(s)).id!==this.id?[3,2]:[4,$d.default().lock(s.iat)];case 1:i.sent(),this.acquiredIatSet.delete(s.iat),n.removeItem(r),$d.default().unlock(s.iat),e.notifyWaiters(),i.label=2;case 2:return[2]}}))}))},e.lockCorrector=function(){for(var t=Date.now()-5e3,n=window.localStorage,i=Object.keys(n),r=!1,s=0;s<i.length;s++){var a=i[s];if(a.includes(o)){var c=n.getItem(a);null!==c&&(void 0===(c=JSON.parse(c)).timeRefreshed&&c.timeAcquired<t||void 0!==c.timeRefreshed&&c.timeRefreshed<t)&&(n.removeItem(a),r=!0)}}r&&e.notifyWaiters()},e.waiters=void 0,e}();t.default=a})),Gd=vn(Pd),Dd={timeoutInSeconds:60},Zd=["login_required","consent_required","interaction_required","account_selection_required","access_denied"],Wd={name:"auth0-spa-js",version:"1.22.5"},Hd=function(){return Date.now()},Ud=function(e){function t(n,i){var o=e.call(this,i)||this;return o.error=n,o.error_description=i,Object.setPrototypeOf(o,t.prototype),o}return cn(t,e),t.fromPayload=function(e){return new t(e.error,e.error_description)},t}(Error),jd=function(e){function t(n,i,o,r){void 0===r&&(r=null);var s=e.call(this,n,i)||this;return s.state=o,s.appState=r,Object.setPrototypeOf(s,t.prototype),s}return cn(t,e),t}(Ud),Yd=function(e){function t(){var n=e.call(this,"timeout","Timeout")||this;return Object.setPrototypeOf(n,t.prototype),n}return cn(t,e),t}(Ud),Xd=function(e){function t(n){var i=e.call(this)||this;return i.popup=n,Object.setPrototypeOf(i,t.prototype),i}return cn(t,e),t}(Yd),Kd=function(e){function t(n){var i=e.call(this,"cancelled","Popup closed")||this;return i.popup=n,Object.setPrototypeOf(i,t.prototype),i}return cn(t,e),t}(Ud),Vd=function(e){function t(n,i,o){var r=e.call(this,n,i)||this;return r.mfa_token=o,Object.setPrototypeOf(r,t.prototype),r}return cn(t,e),t}(Ud),Fd=function(e){function t(n,i){var o=e.call(this,"missing_refresh_token","Missing Refresh Token (audience: '".concat(il(n,["default"]),"', scope: '").concat(il(i),"')"))||this;return o.audience=n,o.scope=i,Object.setPrototypeOf(o,t.prototype),o}return cn(t,e),t}(Ud),Md=function(e){return new Promise((function(t,n){var i,o=setInterval((function(){e.popup&&e.popup.closed&&(clearInterval(o),clearTimeout(r),window.removeEventListener("message",i,!1),n(new Kd(e.popup)))}),1e3),r=setTimeout((function(){clearInterval(o),n(new Xd(e.popup)),window.removeEventListener("message",i,!1)}),1e3*(e.timeoutInSeconds||60));i=function(s){if(s.data&&"authorization_response"===s.data.type){if(clearTimeout(r),clearInterval(o),window.removeEventListener("message",i,!1),e.popup.close(),s.data.response.error)return n(Ud.fromPayload(s.data.response));t(s.data.response)}},window.addEventListener("message",i)}))},zd=function(){return window.crypto||window.msCrypto},Jd=function(){var e=zd();return e.subtle||e.webkitSubtle},qd=function(){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.",t="";return Array.from(zd().getRandomValues(new Uint8Array(43))).forEach((function(n){return t+=e[n%e.length]})),t},Bd=function(e){return btoa(e)},Qd=function(e){return Object.keys(e).filter((function(t){return void 0!==e[t]})).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")},el=function(e){return un(void 0,void 0,void 0,(function(){var t;return hn(this,(function(n){switch(n.label){case 0:return t=Jd().digest({name:"SHA-256"},(new TextEncoder).encode(e)),window.msCrypto?[2,new Promise((function(e,n){t.oncomplete=function(t){e(t.target.result)},t.onerror=function(e){n(e.error)},t.onabort=function(){n("The digest operation was aborted")}}))]:[4,t];case 1:return[2,n.sent()]}}))}))},tl=function(e){return function(e){return decodeURIComponent(atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}(e.replace(/_/g,"/").replace(/-/g,"+"))},nl=function(e){var t=new Uint8Array(e);return function(e){var t={"+":"-","/":"_","=":""};return e.replace(/[+/=]/g,(function(e){return t[e]}))}(window.btoa(String.fromCharCode.apply(String,mn([],pn(Array.from(t)),!1))))};function il(e,t){return void 0===t&&(t=[]),e&&!t.includes(e)?e:""}var ol=function(e,t){return un(void 0,void 0,void 0,(function(){var n,i;return hn(this,(function(o){switch(o.label){case 0:return[4,(r=e,s=t,s=s||{},new Promise((function(e,t){var n=new XMLHttpRequest,i=[],o=[],a={},c=function(){return{ok:2==(n.status/100|0),statusText:n.statusText,status:n.status,url:n.responseURL,text:function(){return Promise.resolve(n.responseText)},json:function(){return Promise.resolve(n.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([n.response]))},clone:c,headers:{keys:function(){return i},entries:function(){return o},get:function(e){return a[e.toLowerCase()]},has:function(e){return e.toLowerCase()in a}}}};for(var d in n.open(s.method||"get",r,!0),n.onload=function(){n.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){i.push(t=t.toLowerCase()),o.push([t,n]),a[t]=a[t]?a[t]+","+n:n})),e(c())},n.onerror=t,n.withCredentials="include"==s.credentials,s.headers)n.setRequestHeader(d,s.headers[d]);n.send(s.body||null)})))];case 1:return n=o.sent(),i={ok:n.ok},[4,n.json()];case 2:return[2,(i.json=o.sent(),i)]}var r,s}))}))},rl=function(e,t,n){return un(void 0,void 0,void 0,(function(){var i,o;return hn(this,(function(r){return i=new AbortController,t.signal=i.signal,[2,Promise.race([ol(e,t),new Promise((function(e,t){o=setTimeout((function(){i.abort(),t(new Error("Timeout when executing 'fetch'"))}),n)}))]).finally((function(){clearTimeout(o)}))]}))}))},sl=function(e,t,n,i,o,r,s){return un(void 0,void 0,void 0,(function(){return hn(this,(function(a){return[2,(c={auth:{audience:t,scope:n},timeout:o,fetchUrl:e,fetchOptions:i,useFormData:s},d=r,new Promise((function(e,t){var n=new MessageChannel;n.port1.onmessage=function(n){n.data.error?t(new Error(n.data.error)):e(n.data)},d.postMessage(c,[n.port2])})))];var c,d}))}))},al=function(e,t,n,i,o,r,s){return void 0===s&&(s=1e4),un(void 0,void 0,void 0,(function(){return hn(this,(function(a){return o?[2,sl(e,t,n,i,s,o,r)]:[2,rl(e,i,s)]}))}))};function cl(e,t,n,i,o,r,s){return un(this,void 0,void 0,(function(){var a,c,d,l,u,h,p,m,f;return hn(this,(function(v){switch(v.label){case 0:a=null,d=0,v.label=1;case 1:if(!(d<3))return[3,6];v.label=2;case 2:return v.trys.push([2,4,,5]),[4,al(e,n,i,o,r,s,t)];case 3:return c=v.sent(),a=null,[3,6];case 4:return l=v.sent(),a=l,[3,5];case 5:return d++,[3,1];case 6:if(a)throw a.message=a.message||"Failed to fetch",a;if(u=c.json,h=u.error,p=u.error_description,m=ln(u,["error","error_description"]),!c.ok){if(f=p||"HTTP error. Unable to fetch ".concat(e),"mfa_required"===h)throw new Vd(h,f,m.mfa_token);throw new Ud(h||"request_error",f)}return[2,m]}}))}))}function dl(e,t){var n=e.baseUrl,i=e.timeout,o=e.audience,r=e.scope,s=e.auth0Client,a=e.useFormData,c=ln(e,["baseUrl","timeout","audience","scope","auth0Client","useFormData"]);return un(this,void 0,void 0,(function(){var e;return hn(this,(function(d){switch(d.label){case 0:return e=a?Qd(c):JSON.stringify(c),[4,cl("".concat(n,"/oauth/token"),i,o||"default",r,{method:"POST",body:e,headers:{"Content-Type":a?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(s||Wd))}},t,a)];case 1:return[2,d.sent()]}}))}))}var ll=function(e){return Array.from(new Set(e))},ul=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ll(e.join(" ").trim().split(/\s+/)).join(" ")},hl=function(){function e(e,t){void 0===t&&(t="@@auth0spajs@@"),this.prefix=t,this.client_id=e.client_id,this.scope=e.scope,this.audience=e.audience}return e.prototype.toKey=function(){return"".concat(this.prefix,"::").concat(this.client_id,"::").concat(this.audience,"::").concat(this.scope)},e.fromKey=function(t){var n=pn(t.split("::"),4),i=n[0],o=n[1],r=n[2];return new e({client_id:o,scope:n[3],audience:r},i)},e.fromCacheEntry=function(t){return new e({scope:t.scope,audience:t.audience,client_id:t.client_id})},e}(),pl=function(){function e(){}return e.prototype.set=function(e,t){localStorage.setItem(e,JSON.stringify(t))},e.prototype.get=function(e){var t=window.localStorage.getItem(e);if(t)try{return JSON.parse(t)}catch(e){return}},e.prototype.remove=function(e){localStorage.removeItem(e)},e.prototype.allKeys=function(){return Object.keys(window.localStorage).filter((function(e){return e.startsWith("@@auth0spajs@@")}))},e}(),ml=function(){var e;this.enclosedCache=(e={},{set:function(t,n){e[t]=n},get:function(t){var n=e[t];if(n)return n},remove:function(t){delete e[t]},allKeys:function(){return Object.keys(e)}})},fl=function(){function e(e,t,n){this.cache=e,this.keyManifest=t,this.nowProvider=n,this.nowProvider=this.nowProvider||Hd}return e.prototype.get=function(e,t){var n;return void 0===t&&(t=0),un(this,void 0,void 0,(function(){var i,o,r,s,a;return hn(this,(function(c){switch(c.label){case 0:return[4,this.cache.get(e.toKey())];case 1:return(i=c.sent())?[3,4]:[4,this.getCacheKeys()];case 2:return(o=c.sent())?(r=this.matchExistingCacheKey(e,o))?[4,this.cache.get(r)]:[3,4]:[2];case 3:i=c.sent(),c.label=4;case 4:return i?[4,this.nowProvider()]:[2];case 5:return s=c.sent(),a=Math.floor(s/1e3),i.expiresAt-t<a?i.body.refresh_token?(i.body={refresh_token:i.body.refresh_token},[4,this.cache.set(e.toKey(),i)]):[3,7]:[3,10];case 6:return c.sent(),[2,i.body];case 7:return[4,this.cache.remove(e.toKey())];case 8:return c.sent(),[4,null===(n=this.keyManifest)||void 0===n?void 0:n.remove(e.toKey())];case 9:return c.sent(),[2];case 10:return[2,i.body]}}))}))},e.prototype.set=function(e){var t;return un(this,void 0,void 0,(function(){var n,i;return hn(this,(function(o){switch(o.label){case 0:return n=new hl({client_id:e.client_id,scope:e.scope,audience:e.audience}),[4,this.wrapCacheEntry(e)];case 1:return i=o.sent(),[4,this.cache.set(n.toKey(),i)];case 2:return o.sent(),[4,null===(t=this.keyManifest)||void 0===t?void 0:t.add(n.toKey())];case 3:return o.sent(),[2]}}))}))},e.prototype.clear=function(e){var t;return un(this,void 0,void 0,(function(){var n,i=this;return hn(this,(function(o){switch(o.label){case 0:return[4,this.getCacheKeys()];case 1:return(n=o.sent())?[4,n.filter((function(t){return!e||t.includes(e)})).reduce((function(e,t){return un(i,void 0,void 0,(function(){return hn(this,(function(n){switch(n.label){case 0:return[4,e];case 1:return n.sent(),[4,this.cache.remove(t)];case 2:return n.sent(),[2]}}))}))}),Promise.resolve())]:[2];case 2:return o.sent(),[4,null===(t=this.keyManifest)||void 0===t?void 0:t.clear()];case 3:return o.sent(),[2]}}))}))},e.prototype.clearSync=function(e){var t=this,n=this.cache.allKeys();n&&n.filter((function(t){return!e||t.includes(e)})).forEach((function(e){t.cache.remove(e)}))},e.prototype.wrapCacheEntry=function(e){return un(this,void 0,void 0,(function(){var t,n,i;return hn(this,(function(o){switch(o.label){case 0:return[4,this.nowProvider()];case 1:return t=o.sent(),n=Math.floor(t/1e3)+e.expires_in,i=Math.min(n,e.decodedToken.claims.exp),[2,{body:e,expiresAt:i}]}}))}))},e.prototype.getCacheKeys=function(){var e;return un(this,void 0,void 0,(function(){var t;return hn(this,(function(n){switch(n.label){case 0:return this.keyManifest?[4,this.keyManifest.get()]:[3,2];case 1:return t=null===(e=n.sent())||void 0===e?void 0:e.keys,[3,4];case 2:return[4,this.cache.allKeys()];case 3:t=n.sent(),n.label=4;case 4:return[2,t]}}))}))},e.prototype.matchExistingCacheKey=function(e,t){return t.filter((function(t){var n=hl.fromKey(t),i=new Set(n.scope&&n.scope.split(" ")),o=e.scope.split(" "),r=n.scope&&o.reduce((function(e,t){return e&&i.has(t)}),!0);return"@@auth0spajs@@"===n.prefix&&n.client_id===e.client_id&&n.audience===e.audience&&r}))[0]},e}(),vl=function(){function e(e,t){this.storage=e,this.clientId=t,this.storageKey="".concat("a0.spajs.txs",".").concat(this.clientId),this.transaction=this.storage.get(this.storageKey)}return e.prototype.create=function(e){this.transaction=e,this.storage.save(this.storageKey,e,{daysUntilExpire:1})},e.prototype.get=function(){return this.transaction},e.prototype.remove=function(){delete this.transaction,this.storage.remove(this.storageKey)},e}(),gl=function(e){return"number"==typeof e},bl=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],yl=function(e){if(!e.id_token)throw new Error("ID token is required but missing");var t=function(e){var t=e.split("."),n=pn(t,3),i=n[0],o=n[1],r=n[2];if(3!==t.length||!i||!o||!r)throw new Error("ID token could not be decoded");var s=JSON.parse(tl(o)),a={__raw:e},c={};return Object.keys(s).forEach((function(e){a[e]=s[e],bl.includes(e)||(c[e]=s[e])})),{encoded:{header:i,payload:o,signature:r},header:JSON.parse(tl(i)),claims:a,user:c}}(e.id_token);if(!t.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(t.claims.iss!==e.iss)throw new Error('Issuer (iss) claim mismatch in the ID token; expected "'.concat(e.iss,'", found "').concat(t.claims.iss,'"'));if(!t.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if("RS256"!==t.header.alg)throw new Error('Signature algorithm of "'.concat(t.header.alg,'" is not supported. Expected the ID token to be signed with "RS256".'));if(!t.claims.aud||"string"!=typeof t.claims.aud&&!Array.isArray(t.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e.aud))throw new Error('Audience (aud) claim mismatch in the ID token; expected "'.concat(e.aud,'" but was not one of "').concat(t.claims.aud.join(", "),'"'));if(t.claims.aud.length>1){if(!t.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(t.claims.azp!==e.aud)throw new Error('Authorized Party (azp) claim mismatch in the ID token; expected "'.concat(e.aud,'", found "').concat(t.claims.azp,'"'))}}else if(t.claims.aud!==e.aud)throw new Error('Audience (aud) claim mismatch in the ID token; expected "'.concat(e.aud,'" but found "').concat(t.claims.aud,'"'));if(e.nonce){if(!t.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(t.claims.nonce!==e.nonce)throw new Error('Nonce (nonce) claim mismatch in the ID token; expected "'.concat(e.nonce,'", found "').concat(t.claims.nonce,'"'))}if(e.max_age&&!gl(t.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(!gl(t.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!gl(t.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");var n=e.leeway||60,i=new Date(e.now||Date.now()),o=new Date(0),r=new Date(0),s=new Date(0);if(s.setUTCSeconds(parseInt(t.claims.auth_time)+e.max_age+n),o.setUTCSeconds(t.claims.exp+n),r.setUTCSeconds(t.claims.nbf-n),i>o)throw new Error("Expiration Time (exp) claim error in the ID token; current time (".concat(i,") is after expiration time (").concat(o,")"));if(gl(t.claims.nbf)&&i<r)throw new Error("Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Currrent time (".concat(i,") is before ").concat(r));if(gl(t.claims.auth_time)&&i>s)throw new Error("Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Currrent time (".concat(i,") is after last auth at ").concat(s));if(e.organizationId){if(!t.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(e.organizationId!==t.claims.org_id)throw new Error('Organization ID (org_id) claim mismatch in the ID token; expected "'.concat(e.organizationId,'", found "').concat(t.claims.org_id,'"'))}return t},wl=gn((function(e,t){var n=fn&&fn.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)};function i(e,t){if(!t)return"";var n="; "+e;return!0===t?n:n+"="+t}function o(e,t,n){return encodeURIComponent(e).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(t).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(e){if("number"==typeof e.expires){var t=new Date;t.setMilliseconds(t.getMilliseconds()+864e5*e.expires),e.expires=t}return i("Expires",e.expires?e.expires.toUTCString():"")+i("Domain",e.domain)+i("Path",e.path)+i("Secure",e.secure)+i("SameSite",e.sameSite)}(n)}function r(e){for(var t={},n=e?e.split("; "):[],i=/(%[\dA-F]{2})+/gi,o=0;o<n.length;o++){var r=n[o].split("="),s=r.slice(1).join("=");'"'===s.charAt(0)&&(s=s.slice(1,-1));try{t[r[0].replace(i,decodeURIComponent)]=s.replace(i,decodeURIComponent)}catch(e){}}return t}function s(){return r(document.cookie)}function a(e,t,i){document.cookie=o(e,t,n({path:"/"},i))}t.__esModule=!0,t.encode=o,t.parse=r,t.getAll=s,t.get=function(e){return s()[e]},t.set=a,t.remove=function(e,t){a(e,"",n(n({},t),{expires:-1}))}}));vn(wl),wl.encode,wl.parse,wl.getAll;var Sl=wl.get,Cl=wl.set,El=wl.remove,Rl={get:function(e){var t=Sl(e);if(void 0!==t)return JSON.parse(t)},save:function(e,t,n){var i={};"https:"===window.location.protocol&&(i={secure:!0,sameSite:"none"}),(null==n?void 0:n.daysUntilExpire)&&(i.expires=n.daysUntilExpire),(null==n?void 0:n.cookieDomain)&&(i.domain=n.cookieDomain),Cl(e,JSON.stringify(t),i)},remove:function(e,t){var n={};(null==t?void 0:t.cookieDomain)&&(n.domain=t.cookieDomain),El(e,n)}},kl={get:function(e){return Rl.get(e)||Rl.get("".concat("_legacy_").concat(e))},save:function(e,t,n){var i={};"https:"===window.location.protocol&&(i={secure:!0}),(null==n?void 0:n.daysUntilExpire)&&(i.expires=n.daysUntilExpire),Cl("".concat("_legacy_").concat(e),JSON.stringify(t),i),Rl.save(e,t,n)},remove:function(e,t){var n={};(null==t?void 0:t.cookieDomain)&&(n.domain=t.cookieDomain),El(e,n),Rl.remove(e,t),Rl.remove("".concat("_legacy_").concat(e),t)}},_l={get:function(e){if("undefined"!=typeof sessionStorage){var t=sessionStorage.getItem(e);if(void 0!==t)return JSON.parse(t)}},save:function(e,t){sessionStorage.setItem(e,JSON.stringify(t))},remove:function(e){sessionStorage.removeItem(e)}};var Il,Al=("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIHQ9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gdD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSl9LHQoZSxyKX07ZnVuY3Rpb24gZShlLHIpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByJiZudWxsIT09cil0aHJvdyBuZXcgVHlwZUVycm9yKCJDbGFzcyBleHRlbmRzIHZhbHVlICIrU3RyaW5nKHIpKyIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbCIpO2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9dChlLHIpLGUucHJvdG90eXBlPW51bGw9PT1yP09iamVjdC5jcmVhdGUocik6KG4ucHJvdG90eXBlPXIucHJvdG90eXBlLG5ldyBuKX12YXIgcj1mdW5jdGlvbigpe3JldHVybiByPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxyPTEsbj1hcmd1bWVudHMubGVuZ3RoO3I8bjtyKyspZm9yKHZhciBvIGluIGU9YXJndW1lbnRzW3JdKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG8pJiYodFtvXT1lW29dKTtyZXR1cm4gdH0sci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIG4odCxlLHIsbil7cmV0dXJuIG5ldyhyfHwocj1Qcm9taXNlKSkoKGZ1bmN0aW9uKG8sYyl7ZnVuY3Rpb24gaSh0KXt0cnl7cyhuLm5leHQodCkpfWNhdGNoKHQpe2ModCl9fWZ1bmN0aW9uIGEodCl7dHJ5e3Mobi50aHJvdyh0KSl9Y2F0Y2godCl7Yyh0KX19ZnVuY3Rpb24gcyh0KXt2YXIgZTt0LmRvbmU/byh0LnZhbHVlKTooZT10LnZhbHVlLGUgaW5zdGFuY2VvZiByP2U6bmV3IHIoKGZ1bmN0aW9uKHQpe3QoZSl9KSkpLnRoZW4oaSxhKX1zKChuPW4uYXBwbHkodCxlfHxbXSkpLm5leHQoKSl9KSl9ZnVuY3Rpb24gbyh0LGUpe3ZhciByLG4sbyxjLGk9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmb1swXSl0aHJvdyBvWzFdO3JldHVybiBvWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIGM9e25leHQ6YSgwKSx0aHJvdzphKDEpLHJldHVybjphKDIpfSwiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYoY1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxjO2Z1bmN0aW9uIGEoYyl7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihjKXtpZihyKXRocm93IG5ldyBUeXBlRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy4iKTtmb3IoO2k7KXRyeXtpZihyPTEsbiYmKG89MiZjWzBdP24ucmV0dXJuOmNbMF0/bi50aHJvd3x8KChvPW4ucmV0dXJuKSYmby5jYWxsKG4pLDApOm4ubmV4dCkmJiEobz1vLmNhbGwobixjWzFdKSkuZG9uZSlyZXR1cm4gbztzd2l0Y2gobj0wLG8mJihjPVsyJmNbMF0sby52YWx1ZV0pLGNbMF0pe2Nhc2UgMDpjYXNlIDE6bz1jO2JyZWFrO2Nhc2UgNDpyZXR1cm4gaS5sYWJlbCsrLHt2YWx1ZTpjWzFdLGRvbmU6ITF9O2Nhc2UgNTppLmxhYmVsKyssbj1jWzFdLGM9WzBdO2NvbnRpbnVlO2Nhc2UgNzpjPWkub3BzLnBvcCgpLGkudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEobz1pLnRyeXMsKG89by5sZW5ndGg+MCYmb1tvLmxlbmd0aC0xXSl8fDYhPT1jWzBdJiYyIT09Y1swXSkpe2k9MDtjb250aW51ZX1pZigzPT09Y1swXSYmKCFvfHxjWzFdPm9bMF0mJmNbMV08b1szXSkpe2kubGFiZWw9Y1sxXTticmVha31pZig2PT09Y1swXSYmaS5sYWJlbDxvWzFdKXtpLmxhYmVsPW9bMV0sbz1jO2JyZWFrfWlmKG8mJmkubGFiZWw8b1syXSl7aS5sYWJlbD1vWzJdLGkub3BzLnB1c2goYyk7YnJlYWt9b1syXSYmaS5vcHMucG9wKCksaS50cnlzLnBvcCgpO2NvbnRpbnVlfWM9ZS5jYWxsKHQsaSl9Y2F0Y2godCl7Yz1bNix0XSxuPTB9ZmluYWxseXtyPW89MH1pZig1JmNbMF0pdGhyb3cgY1sxXTtyZXR1cm57dmFsdWU6Y1swXT9jWzFdOnZvaWQgMCxkb25lOiEwfX0oW2MsYV0pfX19ZnVuY3Rpb24gYyh0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1bXSksdCYmIWUuaW5jbHVkZXModCk/dDoiIn12YXIgaT1mdW5jdGlvbih0KXtmdW5jdGlvbiByKGUsbil7dmFyIG89dC5jYWxsKHRoaXMsbil8fHRoaXM7cmV0dXJuIG8uZXJyb3I9ZSxvLmVycm9yX2Rlc2NyaXB0aW9uPW4sT2JqZWN0LnNldFByb3RvdHlwZU9mKG8sci5wcm90b3R5cGUpLG99cmV0dXJuIGUocix0KSxyLmZyb21QYXlsb2FkPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgcih0LmVycm9yLHQuZXJyb3JfZGVzY3JpcHRpb24pfSxyfShFcnJvcik7IWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoZSxuLG8sYyl7dm9pZCAwPT09YyYmKGM9bnVsbCk7dmFyIGk9dC5jYWxsKHRoaXMsZSxuKXx8dGhpcztyZXR1cm4gaS5zdGF0ZT1vLGkuYXBwU3RhdGU9YyxPYmplY3Quc2V0UHJvdG90eXBlT2YoaSxyLnByb3RvdHlwZSksaX1lKHIsdCl9KGkpLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoZSl7dmFyIG49dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLnBvcHVwPWUsT2JqZWN0LnNldFByb3RvdHlwZU9mKG4sci5wcm90b3R5cGUpLG59ZShyLHQpfShmdW5jdGlvbih0KXtmdW5jdGlvbiByKCl7dmFyIGU9dC5jYWxsKHRoaXMsInRpbWVvdXQiLCJUaW1lb3V0Iil8fHRoaXM7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZihlLHIucHJvdG90eXBlKSxlfXJldHVybiBlKHIsdCkscn0oaSkpLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoZSl7dmFyIG49dC5jYWxsKHRoaXMsImNhbmNlbGxlZCIsIlBvcHVwIGNsb3NlZCIpfHx0aGlzO3JldHVybiBuLnBvcHVwPWUsT2JqZWN0LnNldFByb3RvdHlwZU9mKG4sci5wcm90b3R5cGUpLG59ZShyLHQpfShpKSxmdW5jdGlvbih0KXtmdW5jdGlvbiByKGUsbixvKXt2YXIgYz10LmNhbGwodGhpcyxlLG4pfHx0aGlzO3JldHVybiBjLm1mYV90b2tlbj1vLE9iamVjdC5zZXRQcm90b3R5cGVPZihjLHIucHJvdG90eXBlKSxjfWUocix0KX0oaSk7dmFyIGE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gcihlLG4pe3ZhciBvPXQuY2FsbCh0aGlzLCJtaXNzaW5nX3JlZnJlc2hfdG9rZW4iLCJNaXNzaW5nIFJlZnJlc2ggVG9rZW4gKGF1ZGllbmNlOiAnIi5jb25jYXQoYyhlLFsiZGVmYXVsdCJdKSwiJywgc2NvcGU6ICciKS5jb25jYXQoYyhuKSwiJykiKSl8fHRoaXM7cmV0dXJuIG8uYXVkaWVuY2U9ZSxvLnNjb3BlPW4sT2JqZWN0LnNldFByb3RvdHlwZU9mKG8sci5wcm90b3R5cGUpLG99cmV0dXJuIGUocix0KSxyfShpKSxzPXt9LHU9ZnVuY3Rpb24odCxlKXtyZXR1cm4iIi5jb25jYXQodCwifCIpLmNvbmNhdChlKX07YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZGF0YSxjPWUudGltZW91dCxpPWUuYXV0aCxmPWUuZmV0Y2hVcmwsbD1lLmZldGNoT3B0aW9ucyxwPWUudXNlRm9ybURhdGEsaD1mdW5jdGlvbih0LGUpe3ZhciByPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJnRbU3ltYm9sLml0ZXJhdG9yXTtpZighcilyZXR1cm4gdDt2YXIgbixvLGM9ci5jYWxsKHQpLGk9W107dHJ5e2Zvcig7KHZvaWQgMD09PWV8fGUtLSA+MCkmJiEobj1jLm5leHQoKSkuZG9uZTspaS5wdXNoKG4udmFsdWUpfWNhdGNoKHQpe289e2Vycm9yOnR9fWZpbmFsbHl7dHJ5e24mJiFuLmRvbmUmJihyPWMucmV0dXJuKSYmci5jYWxsKGMpfWZpbmFsbHl7aWYobyl0aHJvdyBvLmVycm9yfX1yZXR1cm4gaX0odC5wb3J0cywxKVswXTtyZXR1cm4gbih2b2lkIDAsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxlLG4seSx2LGIsZCx3LE8sXztyZXR1cm4gbyh0aGlzLChmdW5jdGlvbihvKXtzd2l0Y2goby5sYWJlbCl7Y2FzZSAwOm49KGU9aXx8e30pLmF1ZGllbmNlLHk9ZS5zY29wZSxvLmxhYmVsPTE7Y2FzZSAxOmlmKG8udHJ5cy5wdXNoKFsxLDcsLDhdKSwhKHY9cD8obT1sLmJvZHksaz1uZXcgVVJMU2VhcmNoUGFyYW1zKG0pLFA9e30say5mb3JFYWNoKChmdW5jdGlvbih0LGUpe1BbZV09dH0pKSxQKTpKU09OLnBhcnNlKGwuYm9keSkpLnJlZnJlc2hfdG9rZW4mJiJyZWZyZXNoX3Rva2VuIj09PXYuZ3JhbnRfdHlwZSl7aWYoYj1mdW5jdGlvbih0LGUpe3JldHVybiBzW3UodCxlKV19KG4seSksIWIpdGhyb3cgbmV3IGEobix5KTtsLmJvZHk9cD9uZXcgVVJMU2VhcmNoUGFyYW1zKHIocih7fSx2KSx7cmVmcmVzaF90b2tlbjpifSkpLnRvU3RyaW5nKCk6SlNPTi5zdHJpbmdpZnkocihyKHt9LHYpLHtyZWZyZXNoX3Rva2VuOmJ9KSl9ZD12b2lkIDAsImZ1bmN0aW9uIj09dHlwZW9mIEFib3J0Q29udHJvbGxlciYmKGQ9bmV3IEFib3J0Q29udHJvbGxlcixsLnNpZ25hbD1kLnNpZ25hbCksdz12b2lkIDAsby5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gby50cnlzLnB1c2goWzIsNCwsNV0pLFs0LFByb21pc2UucmFjZShbKGc9YyxuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCl7cmV0dXJuIHNldFRpbWVvdXQodCxnKX0pKSksZmV0Y2goZixyKHt9LGwpKV0pXTtjYXNlIDM6cmV0dXJuIHc9by5zZW50KCksWzMsNV07Y2FzZSA0OnJldHVybiBPPW8uc2VudCgpLGgucG9zdE1lc3NhZ2Uoe2Vycm9yOk8ubWVzc2FnZX0pLFsyXTtjYXNlIDU6cmV0dXJuIHc/WzQsdy5qc29uKCldOihkJiZkLmFib3J0KCksaC5wb3N0TWVzc2FnZSh7ZXJyb3I6IlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJyJ9KSxbMl0pO2Nhc2UgNjpyZXR1cm4odD1vLnNlbnQoKSkucmVmcmVzaF90b2tlbj8oZnVuY3Rpb24odCxlLHIpe3NbdShlLHIpXT10fSh0LnJlZnJlc2hfdG9rZW4sbix5KSxkZWxldGUgdC5yZWZyZXNoX3Rva2VuKTpmdW5jdGlvbih0LGUpe2RlbGV0ZSBzW3UodCxlKV19KG4seSksaC5wb3N0TWVzc2FnZSh7b2s6dy5vayxqc29uOnR9KSxbMyw4XTtjYXNlIDc6cmV0dXJuIF89by5zZW50KCksaC5wb3N0TWVzc2FnZSh7b2s6ITEsanNvbjp7ZXJyb3JfZGVzY3JpcHRpb246Xy5tZXNzYWdlfX0pLFszLDhdO2Nhc2UgODpyZXR1cm5bMl19dmFyIGcsbSxrLFB9KSl9KSl9KSl9KCk7Cgo=",null,!1,function(e){return Il=Il||function(e,t,n){var i=void 0===t?null:t,o=function(e,t){var n=atob(e);if(t){for(var i=new Uint8Array(n.length),o=0,r=n.length;o<r;++o)i[o]=n.charCodeAt(o);return String.fromCharCode.apply(null,new Uint16Array(i.buffer))}return n}(e,void 0!==n&&n),r=o.indexOf("\n",10)+1,s=o.substring(r)+(i?"//# sourceMappingURL="+i:""),a=new Blob([s],{type:"application/javascript"});return URL.createObjectURL(a)}("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIHQ9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gdD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSl9LHQoZSxyKX07ZnVuY3Rpb24gZShlLHIpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByJiZudWxsIT09cil0aHJvdyBuZXcgVHlwZUVycm9yKCJDbGFzcyBleHRlbmRzIHZhbHVlICIrU3RyaW5nKHIpKyIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbCIpO2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9dChlLHIpLGUucHJvdG90eXBlPW51bGw9PT1yP09iamVjdC5jcmVhdGUocik6KG4ucHJvdG90eXBlPXIucHJvdG90eXBlLG5ldyBuKX12YXIgcj1mdW5jdGlvbigpe3JldHVybiByPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxyPTEsbj1hcmd1bWVudHMubGVuZ3RoO3I8bjtyKyspZm9yKHZhciBvIGluIGU9YXJndW1lbnRzW3JdKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG8pJiYodFtvXT1lW29dKTtyZXR1cm4gdH0sci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIG4odCxlLHIsbil7cmV0dXJuIG5ldyhyfHwocj1Qcm9taXNlKSkoKGZ1bmN0aW9uKG8sYyl7ZnVuY3Rpb24gaSh0KXt0cnl7cyhuLm5leHQodCkpfWNhdGNoKHQpe2ModCl9fWZ1bmN0aW9uIGEodCl7dHJ5e3Mobi50aHJvdyh0KSl9Y2F0Y2godCl7Yyh0KX19ZnVuY3Rpb24gcyh0KXt2YXIgZTt0LmRvbmU/byh0LnZhbHVlKTooZT10LnZhbHVlLGUgaW5zdGFuY2VvZiByP2U6bmV3IHIoKGZ1bmN0aW9uKHQpe3QoZSl9KSkpLnRoZW4oaSxhKX1zKChuPW4uYXBwbHkodCxlfHxbXSkpLm5leHQoKSl9KSl9ZnVuY3Rpb24gbyh0LGUpe3ZhciByLG4sbyxjLGk9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmb1swXSl0aHJvdyBvWzFdO3JldHVybiBvWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIGM9e25leHQ6YSgwKSx0aHJvdzphKDEpLHJldHVybjphKDIpfSwiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYoY1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxjO2Z1bmN0aW9uIGEoYyl7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihjKXtpZihyKXRocm93IG5ldyBUeXBlRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy4iKTtmb3IoO2k7KXRyeXtpZihyPTEsbiYmKG89MiZjWzBdP24ucmV0dXJuOmNbMF0/bi50aHJvd3x8KChvPW4ucmV0dXJuKSYmby5jYWxsKG4pLDApOm4ubmV4dCkmJiEobz1vLmNhbGwobixjWzFdKSkuZG9uZSlyZXR1cm4gbztzd2l0Y2gobj0wLG8mJihjPVsyJmNbMF0sby52YWx1ZV0pLGNbMF0pe2Nhc2UgMDpjYXNlIDE6bz1jO2JyZWFrO2Nhc2UgNDpyZXR1cm4gaS5sYWJlbCsrLHt2YWx1ZTpjWzFdLGRvbmU6ITF9O2Nhc2UgNTppLmxhYmVsKyssbj1jWzFdLGM9WzBdO2NvbnRpbnVlO2Nhc2UgNzpjPWkub3BzLnBvcCgpLGkudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEobz1pLnRyeXMsKG89by5sZW5ndGg+MCYmb1tvLmxlbmd0aC0xXSl8fDYhPT1jWzBdJiYyIT09Y1swXSkpe2k9MDtjb250aW51ZX1pZigzPT09Y1swXSYmKCFvfHxjWzFdPm9bMF0mJmNbMV08b1szXSkpe2kubGFiZWw9Y1sxXTticmVha31pZig2PT09Y1swXSYmaS5sYWJlbDxvWzFdKXtpLmxhYmVsPW9bMV0sbz1jO2JyZWFrfWlmKG8mJmkubGFiZWw8b1syXSl7aS5sYWJlbD1vWzJdLGkub3BzLnB1c2goYyk7YnJlYWt9b1syXSYmaS5vcHMucG9wKCksaS50cnlzLnBvcCgpO2NvbnRpbnVlfWM9ZS5jYWxsKHQsaSl9Y2F0Y2godCl7Yz1bNix0XSxuPTB9ZmluYWxseXtyPW89MH1pZig1JmNbMF0pdGhyb3cgY1sxXTtyZXR1cm57dmFsdWU6Y1swXT9jWzFdOnZvaWQgMCxkb25lOiEwfX0oW2MsYV0pfX19ZnVuY3Rpb24gYyh0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1bXSksdCYmIWUuaW5jbHVkZXModCk/dDoiIn12YXIgaT1mdW5jdGlvbih0KXtmdW5jdGlvbiByKGUsbil7dmFyIG89dC5jYWxsKHRoaXMsbil8fHRoaXM7cmV0dXJuIG8uZXJyb3I9ZSxvLmVycm9yX2Rlc2NyaXB0aW9uPW4sT2JqZWN0LnNldFByb3RvdHlwZU9mKG8sci5wcm90b3R5cGUpLG99cmV0dXJuIGUocix0KSxyLmZyb21QYXlsb2FkPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgcih0LmVycm9yLHQuZXJyb3JfZGVzY3JpcHRpb24pfSxyfShFcnJvcik7IWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoZSxuLG8sYyl7dm9pZCAwPT09YyYmKGM9bnVsbCk7dmFyIGk9dC5jYWxsKHRoaXMsZSxuKXx8dGhpcztyZXR1cm4gaS5zdGF0ZT1vLGkuYXBwU3RhdGU9YyxPYmplY3Quc2V0UHJvdG90eXBlT2YoaSxyLnByb3RvdHlwZSksaX1lKHIsdCl9KGkpLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoZSl7dmFyIG49dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLnBvcHVwPWUsT2JqZWN0LnNldFByb3RvdHlwZU9mKG4sci5wcm90b3R5cGUpLG59ZShyLHQpfShmdW5jdGlvbih0KXtmdW5jdGlvbiByKCl7dmFyIGU9dC5jYWxsKHRoaXMsInRpbWVvdXQiLCJUaW1lb3V0Iil8fHRoaXM7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZihlLHIucHJvdG90eXBlKSxlfXJldHVybiBlKHIsdCkscn0oaSkpLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoZSl7dmFyIG49dC5jYWxsKHRoaXMsImNhbmNlbGxlZCIsIlBvcHVwIGNsb3NlZCIpfHx0aGlzO3JldHVybiBuLnBvcHVwPWUsT2JqZWN0LnNldFByb3RvdHlwZU9mKG4sci5wcm90b3R5cGUpLG59ZShyLHQpfShpKSxmdW5jdGlvbih0KXtmdW5jdGlvbiByKGUsbixvKXt2YXIgYz10LmNhbGwodGhpcyxlLG4pfHx0aGlzO3JldHVybiBjLm1mYV90b2tlbj1vLE9iamVjdC5zZXRQcm90b3R5cGVPZihjLHIucHJvdG90eXBlKSxjfWUocix0KX0oaSk7dmFyIGE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gcihlLG4pe3ZhciBvPXQuY2FsbCh0aGlzLCJtaXNzaW5nX3JlZnJlc2hfdG9rZW4iLCJNaXNzaW5nIFJlZnJlc2ggVG9rZW4gKGF1ZGllbmNlOiAnIi5jb25jYXQoYyhlLFsiZGVmYXVsdCJdKSwiJywgc2NvcGU6ICciKS5jb25jYXQoYyhuKSwiJykiKSl8fHRoaXM7cmV0dXJuIG8uYXVkaWVuY2U9ZSxvLnNjb3BlPW4sT2JqZWN0LnNldFByb3RvdHlwZU9mKG8sci5wcm90b3R5cGUpLG99cmV0dXJuIGUocix0KSxyfShpKSxzPXt9LHU9ZnVuY3Rpb24odCxlKXtyZXR1cm4iIi5jb25jYXQodCwifCIpLmNvbmNhdChlKX07YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZGF0YSxjPWUudGltZW91dCxpPWUuYXV0aCxmPWUuZmV0Y2hVcmwsbD1lLmZldGNoT3B0aW9ucyxwPWUudXNlRm9ybURhdGEsaD1mdW5jdGlvbih0LGUpe3ZhciByPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJnRbU3ltYm9sLml0ZXJhdG9yXTtpZighcilyZXR1cm4gdDt2YXIgbixvLGM9ci5jYWxsKHQpLGk9W107dHJ5e2Zvcig7KHZvaWQgMD09PWV8fGUtLSA+MCkmJiEobj1jLm5leHQoKSkuZG9uZTspaS5wdXNoKG4udmFsdWUpfWNhdGNoKHQpe289e2Vycm9yOnR9fWZpbmFsbHl7dHJ5e24mJiFuLmRvbmUmJihyPWMucmV0dXJuKSYmci5jYWxsKGMpfWZpbmFsbHl7aWYobyl0aHJvdyBvLmVycm9yfX1yZXR1cm4gaX0odC5wb3J0cywxKVswXTtyZXR1cm4gbih2b2lkIDAsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxlLG4seSx2LGIsZCx3LE8sXztyZXR1cm4gbyh0aGlzLChmdW5jdGlvbihvKXtzd2l0Y2goby5sYWJlbCl7Y2FzZSAwOm49KGU9aXx8e30pLmF1ZGllbmNlLHk9ZS5zY29wZSxvLmxhYmVsPTE7Y2FzZSAxOmlmKG8udHJ5cy5wdXNoKFsxLDcsLDhdKSwhKHY9cD8obT1sLmJvZHksaz1uZXcgVVJMU2VhcmNoUGFyYW1zKG0pLFA9e30say5mb3JFYWNoKChmdW5jdGlvbih0LGUpe1BbZV09dH0pKSxQKTpKU09OLnBhcnNlKGwuYm9keSkpLnJlZnJlc2hfdG9rZW4mJiJyZWZyZXNoX3Rva2VuIj09PXYuZ3JhbnRfdHlwZSl7aWYoYj1mdW5jdGlvbih0LGUpe3JldHVybiBzW3UodCxlKV19KG4seSksIWIpdGhyb3cgbmV3IGEobix5KTtsLmJvZHk9cD9uZXcgVVJMU2VhcmNoUGFyYW1zKHIocih7fSx2KSx7cmVmcmVzaF90b2tlbjpifSkpLnRvU3RyaW5nKCk6SlNPTi5zdHJpbmdpZnkocihyKHt9LHYpLHtyZWZyZXNoX3Rva2VuOmJ9KSl9ZD12b2lkIDAsImZ1bmN0aW9uIj09dHlwZW9mIEFib3J0Q29udHJvbGxlciYmKGQ9bmV3IEFib3J0Q29udHJvbGxlcixsLnNpZ25hbD1kLnNpZ25hbCksdz12b2lkIDAsby5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gby50cnlzLnB1c2goWzIsNCwsNV0pLFs0LFByb21pc2UucmFjZShbKGc9YyxuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCl7cmV0dXJuIHNldFRpbWVvdXQodCxnKX0pKSksZmV0Y2goZixyKHt9LGwpKV0pXTtjYXNlIDM6cmV0dXJuIHc9by5zZW50KCksWzMsNV07Y2FzZSA0OnJldHVybiBPPW8uc2VudCgpLGgucG9zdE1lc3NhZ2Uoe2Vycm9yOk8ubWVzc2FnZX0pLFsyXTtjYXNlIDU6cmV0dXJuIHc/WzQsdy5qc29uKCldOihkJiZkLmFib3J0KCksaC5wb3N0TWVzc2FnZSh7ZXJyb3I6IlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJyJ9KSxbMl0pO2Nhc2UgNjpyZXR1cm4odD1vLnNlbnQoKSkucmVmcmVzaF90b2tlbj8oZnVuY3Rpb24odCxlLHIpe3NbdShlLHIpXT10fSh0LnJlZnJlc2hfdG9rZW4sbix5KSxkZWxldGUgdC5yZWZyZXNoX3Rva2VuKTpmdW5jdGlvbih0LGUpe2RlbGV0ZSBzW3UodCxlKV19KG4seSksaC5wb3N0TWVzc2FnZSh7b2s6dy5vayxqc29uOnR9KSxbMyw4XTtjYXNlIDc6cmV0dXJuIF89by5zZW50KCksaC5wb3N0TWVzc2FnZSh7b2s6ITEsanNvbjp7ZXJyb3JfZGVzY3JpcHRpb246Xy5tZXNzYWdlfX0pLFszLDhdO2Nhc2UgODpyZXR1cm5bMl19dmFyIGcsbSxrLFB9KSl9KSl9KSl9KCk7Cgo=",null,false),new Worker(Il,e)}),Tl={},Nl=function(){function e(e,t){this.cache=e,this.clientId=t,this.manifestKey=this.createManifestKeyFrom(this.clientId)}return e.prototype.add=function(e){var t;return un(this,void 0,void 0,(function(){var n,i;return hn(this,(function(o){switch(o.label){case 0:return i=Set.bind,[4,this.cache.get(this.manifestKey)];case 1:return(n=new(i.apply(Set,[void 0,(null===(t=o.sent())||void 0===t?void 0:t.keys)||[]]))).add(e),[4,this.cache.set(this.manifestKey,{keys:mn([],pn(n),!1)})];case 2:return o.sent(),[2]}}))}))},e.prototype.remove=function(e){return un(this,void 0,void 0,(function(){var t,n;return hn(this,(function(i){switch(i.label){case 0:return[4,this.cache.get(this.manifestKey)];case 1:return(t=i.sent())?((n=new Set(t.keys)).delete(e),n.size>0?[4,this.cache.set(this.manifestKey,{keys:mn([],pn(n),!1)})]:[3,3]):[3,5];case 2:case 4:return[2,i.sent()];case 3:return[4,this.cache.remove(this.manifestKey)];case 5:return[2]}}))}))},e.prototype.get=function(){return this.cache.get(this.manifestKey)},e.prototype.clear=function(){return this.cache.remove(this.manifestKey)},e.prototype.createManifestKeyFrom=function(e){return"".concat("@@auth0spajs@@","::").concat(e)},e}(),Ll=new Gd,Ol={memory:function(){return(new ml).enclosedCache},localstorage:function(){return new pl}},xl=function(e){return Ol[e]},$l=function(){function e(e){var t,n,i,o,r=this;if(this.options=e,this._releaseLockOnPageHide=function(){return un(r,void 0,void 0,(function(){return hn(this,(function(e){switch(e.label){case 0:return[4,Ll.releaseLock("auth0.lock.getTokenSilently")];case 1:return e.sent(),window.removeEventListener("pagehide",this._releaseLockOnPageHide),[2]}}))}))},"undefined"!=typeof window&&function(){if(!zd())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(void 0===Jd())throw new Error("\n      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/master/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.\n    ")}(),e.cache&&e.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),e.cache)i=e.cache;else{if(this.cacheLocation=e.cacheLocation||"memory",!xl(this.cacheLocation))throw new Error('Invalid cache location "'.concat(this.cacheLocation,'"'));i=xl(this.cacheLocation)()}this.httpTimeoutMs=e.httpTimeoutInSeconds?1e3*e.httpTimeoutInSeconds:1e4,this.cookieStorage=!1===e.legacySameSiteCookie?Rl:kl,this.orgHintCookieName=(o=this.options.client_id,"auth0.".concat(o,".organization_hint")),this.isAuthenticatedCookieName=function(e){return"auth0.".concat(e,".is.authenticated")}(this.options.client_id),this.sessionCheckExpiryDays=e.sessionCheckExpiryDays||1;var s,a=e.useCookiesForTransactions?this.cookieStorage:_l;this.scope=this.options.scope,this.transactionManager=new vl(a,this.options.client_id),this.nowProvider=this.options.nowProvider||Hd,this.cacheManager=new fl(i,i.allKeys?null:new Nl(i,this.options.client_id),this.nowProvider),this.domainUrl=(s=this.options.domain,/^https?:\/\//.test(s)?s:"https://".concat(s)),this.tokenIssuer=function(e,t){return e?e.startsWith("https://")?e:"https://".concat(e,"/"):"".concat(t,"/")}(this.options.issuer,this.domainUrl),this.defaultScope=ul("openid",void 0!==(null===(n=null===(t=this.options)||void 0===t?void 0:t.advancedOptions)||void 0===n?void 0:n.defaultScope)?this.options.advancedOptions.defaultScope:"openid profile email"),this.options.useRefreshTokens&&(this.scope=ul(this.scope,"offline_access")),"undefined"!=typeof window&&window.Worker&&this.options.useRefreshTokens&&"memory"===this.cacheLocation&&!/Trident.*rv:11\.0/.test(navigator.userAgent)&&(this.worker=new Al),this.customOptions=function(e){return e.advancedOptions,e.audience,e.auth0Client,e.authorizeTimeoutInSeconds,e.cacheLocation,e.cache,e.client_id,e.domain,e.issuer,e.leeway,e.max_age,e.nowProvider,e.redirect_uri,e.scope,e.useRefreshTokens,e.useRefreshTokensFallback,e.useCookiesForTransactions,e.useFormData,ln(e,["advancedOptions","audience","auth0Client","authorizeTimeoutInSeconds","cacheLocation","cache","client_id","domain","issuer","leeway","max_age","nowProvider","redirect_uri","scope","useRefreshTokens","useRefreshTokensFallback","useCookiesForTransactions","useFormData"])}(e),this.useRefreshTokensFallback=!1!==this.options.useRefreshTokensFallback}return e.prototype._url=function(e){var t=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||Wd)));return"".concat(this.domainUrl).concat(e,"&auth0Client=").concat(t)},e.prototype._getParams=function(e,t,n,i,o){var r=this.options;r.useRefreshTokens,r.useCookiesForTransactions,r.useFormData,r.auth0Client,r.cacheLocation,r.advancedOptions,r.detailedResponse,r.nowProvider,r.authorizeTimeoutInSeconds,r.legacySameSiteCookie,r.sessionCheckExpiryDays,r.domain,r.leeway,r.httpTimeoutInSeconds;var s=ln(r,["useRefreshTokens","useCookiesForTransactions","useFormData","auth0Client","cacheLocation","advancedOptions","detailedResponse","nowProvider","authorizeTimeoutInSeconds","legacySameSiteCookie","sessionCheckExpiryDays","domain","leeway","httpTimeoutInSeconds"]);return dn(dn(dn({},s),e),{scope:ul(this.defaultScope,this.scope,e.scope),response_type:"code",response_mode:"query",state:t,nonce:n,redirect_uri:o||this.options.redirect_uri,code_challenge:i,code_challenge_method:"S256"})},e.prototype._authorizeUrl=function(e){return this._url("/authorize?".concat(Qd(e)))},e.prototype._verifyIdToken=function(e,t,n){return un(this,void 0,void 0,(function(){var i;return hn(this,(function(o){switch(o.label){case 0:return[4,this.nowProvider()];case 1:return i=o.sent(),[2,yl({iss:this.tokenIssuer,aud:this.options.client_id,id_token:e,nonce:t,organizationId:n,leeway:this.options.leeway,max_age:this._parseNumber(this.options.max_age),now:i})]}}))}))},e.prototype._parseNumber=function(e){return"string"!=typeof e?e:parseInt(e,10)||void 0},e.prototype._processOrgIdHint=function(e){e?this.cookieStorage.save(this.orgHintCookieName,e,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})},e.prototype.buildAuthorizeUrl=function(e){return void 0===e&&(e={}),un(this,void 0,void 0,(function(){var t,n,i,o,r,s,a,c,d,l,u,h;return hn(this,(function(p){switch(p.label){case 0:return t=e.redirect_uri,n=e.appState,i=ln(e,["redirect_uri","appState"]),o=Bd(qd()),r=Bd(qd()),s=qd(),[4,el(s)];case 1:return a=p.sent(),c=nl(a),d=e.fragment?"#".concat(e.fragment):"",l=this._getParams(i,o,r,c,t),u=this._authorizeUrl(l),h=e.organization||this.options.organization,this.transactionManager.create(dn({nonce:r,code_verifier:s,appState:n,scope:l.scope,audience:l.audience||"default",redirect_uri:l.redirect_uri,state:o},h&&{organizationId:h})),[2,u+d]}}))}))},e.prototype.loginWithPopup=function(e,t){return un(this,void 0,void 0,(function(){var n,i,o,r,s,a,c,d,l,u,h,p,m;return hn(this,(function(f){switch(f.label){case 0:if(e=e||{},!(t=t||{}).popup&&(t.popup=function(e){var t=window.screenX+(window.innerWidth-400)/2,n=window.screenY+(window.innerHeight-600)/2;return window.open("","auth0:authorize:popup","left=".concat(t,",top=").concat(n,",width=").concat(400,",height=").concat(600,",resizable,scrollbars=yes,status=1"))}(),!t.popup))throw new Error("Unable to open a popup for loginWithPopup - window.open returned `null`");return n=ln(e,[]),i=Bd(qd()),o=Bd(qd()),r=qd(),[4,el(r)];case 1:return s=f.sent(),a=nl(s),c=this._getParams(n,i,o,a,this.options.redirect_uri||window.location.origin),d=this._authorizeUrl(dn(dn({},c),{response_mode:"web_message"})),t.popup.location.href=d,[4,Md(dn(dn({},t),{timeoutInSeconds:t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}))];case 2:if(l=f.sent(),i!==l.state)throw new Error("Invalid state");return[4,dl({audience:c.audience,scope:c.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:r,code:l.code,grant_type:"authorization_code",redirect_uri:c.redirect_uri,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs},this.worker)];case 3:return u=f.sent(),h=e.organization||this.options.organization,[4,this._verifyIdToken(u.id_token,o,h)];case 4:return p=f.sent(),m=dn(dn({},u),{decodedToken:p,scope:c.scope,audience:c.audience||"default",client_id:this.options.client_id}),[4,this.cacheManager.set(m)];case 5:return f.sent(),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgIdHint(p.claims.org_id),[2]}}))}))},e.prototype.getUser=function(e){return void 0===e&&(e={}),un(this,void 0,void 0,(function(){var t,n,i;return hn(this,(function(o){switch(o.label){case 0:return t=e.audience||this.options.audience||"default",n=ul(this.defaultScope,this.scope,e.scope),[4,this.cacheManager.get(new hl({client_id:this.options.client_id,audience:t,scope:n}))];case 1:return[2,(i=o.sent())&&i.decodedToken&&i.decodedToken.user]}}))}))},e.prototype.getIdTokenClaims=function(e){return void 0===e&&(e={}),un(this,void 0,void 0,(function(){var t,n,i;return hn(this,(function(o){switch(o.label){case 0:return t=e.audience||this.options.audience||"default",n=ul(this.defaultScope,this.scope,e.scope),[4,this.cacheManager.get(new hl({client_id:this.options.client_id,audience:t,scope:n}))];case 1:return[2,(i=o.sent())&&i.decodedToken&&i.decodedToken.claims]}}))}))},e.prototype.loginWithRedirect=function(e){return void 0===e&&(e={}),un(this,void 0,void 0,(function(){var t,n,i;return hn(this,(function(o){switch(o.label){case 0:return t=e.redirectMethod,n=ln(e,["redirectMethod"]),[4,this.buildAuthorizeUrl(n)];case 1:return i=o.sent(),window.location[t||"assign"](i),[2]}}))}))},e.prototype.handleRedirectCallback=function(e){return void 0===e&&(e=window.location.href),un(this,void 0,void 0,(function(){var t,n,i,o,r,s,a,c,d,l;return hn(this,(function(u){switch(u.label){case 0:if(0===(t=e.split("?").slice(1)).length)throw new Error("There are no query params available for parsing.");if(n=function(e){e.indexOf("#")>-1&&(e=e.substr(0,e.indexOf("#")));var t=e.split("&"),n={};return t.forEach((function(e){var t=pn(e.split("="),2),i=t[0],o=t[1];n[i]=decodeURIComponent(o)})),n.expires_in&&(n.expires_in=parseInt(n.expires_in)),n}(t.join("")),i=n.state,o=n.code,r=n.error,s=n.error_description,!(a=this.transactionManager.get()))throw new Error("Invalid state");if(this.transactionManager.remove(),r)throw new jd(r,s,i,a.appState);if(!a.code_verifier||a.state&&a.state!==i)throw new Error("Invalid state");return c={audience:a.audience,scope:a.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:a.code_verifier,grant_type:"authorization_code",code:o,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs},void 0!==a.redirect_uri&&(c.redirect_uri=a.redirect_uri),[4,dl(c,this.worker)];case 1:return d=u.sent(),[4,this._verifyIdToken(d.id_token,a.nonce,a.organizationId)];case 2:return l=u.sent(),[4,this.cacheManager.set(dn(dn(dn(dn({},d),{decodedToken:l,audience:a.audience,scope:a.scope}),d.scope?{oauthTokenScope:d.scope}:null),{client_id:this.options.client_id}))];case 3:return u.sent(),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgIdHint(l.claims.org_id),[2,{appState:a.appState}]}}))}))},e.prototype.checkSession=function(e){return un(this,void 0,void 0,(function(){var t;return hn(this,(function(n){switch(n.label){case 0:if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get("auth0.is.authenticated"))return[2];this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove("auth0.is.authenticated")}n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.getTokenSilently(e)];case 2:return n.sent(),[3,4];case 3:if(t=n.sent(),!Zd.includes(t.error))throw t;return[3,4];case 4:return[2]}}))}))},e.prototype.getTokenSilently=function(e){return void 0===e&&(e={}),un(this,void 0,void 0,(function(){var t,n,i,o,r=this;return hn(this,(function(s){switch(s.label){case 0:return t=dn(dn({audience:this.options.audience,ignoreCache:!1},e),{scope:ul(this.defaultScope,this.scope,e.scope)}),n=t.ignoreCache,i=ln(t,["ignoreCache"]),[4,(a=function(){return r._getTokenSilently(dn({ignoreCache:n},i))},c="".concat(this.options.client_id,"::").concat(i.audience,"::").concat(i.scope),d=Tl[c],d||(d=a().finally((function(){delete Tl[c],d=null})),Tl[c]=d),d)];case 1:return o=s.sent(),[2,e.detailedResponse?o:o.access_token]}var a,c,d}))}))},e.prototype._getTokenSilently=function(e){return void 0===e&&(e={}),un(this,void 0,void 0,(function(){var t,n,i,o,r,s,a,c,d;return hn(this,(function(l){switch(l.label){case 0:return t=e.ignoreCache,n=ln(e,["ignoreCache"]),t?[3,2]:[4,this._getEntryFromCache({scope:n.scope,audience:n.audience||"default",client_id:this.options.client_id})];case 1:if(i=l.sent())return[2,i];l.label=2;case 2:return[4,(u=function(){return Ll.acquireLock("auth0.lock.getTokenSilently",5e3)},h=10,void 0===h&&(h=3),un(void 0,void 0,void 0,(function(){var e;return hn(this,(function(t){switch(t.label){case 0:e=0,t.label=1;case 1:return e<h?[4,u()]:[3,4];case 2:if(t.sent())return[2,!0];t.label=3;case 3:return e++,[3,1];case 4:return[2,!1]}}))})))];case 3:if(!l.sent())return[3,15];l.label=4;case 4:return l.trys.push([4,,12,14]),window.addEventListener("pagehide",this._releaseLockOnPageHide),t?[3,6]:[4,this._getEntryFromCache({scope:n.scope,audience:n.audience||"default",client_id:this.options.client_id})];case 5:if(i=l.sent())return[2,i];l.label=6;case 6:return this.options.useRefreshTokens?[4,this._getTokenUsingRefreshToken(n)]:[3,8];case 7:return r=l.sent(),[3,10];case 8:return[4,this._getTokenFromIFrame(n)];case 9:r=l.sent(),l.label=10;case 10:return o=r,[4,this.cacheManager.set(dn({client_id:this.options.client_id},o))];case 11:return l.sent(),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),s=o.id_token,a=o.access_token,c=o.oauthTokenScope,d=o.expires_in,[2,dn(dn({id_token:s,access_token:a},c?{scope:c}:null),{expires_in:d})];case 12:return[4,Ll.releaseLock("auth0.lock.getTokenSilently")];case 13:return l.sent(),window.removeEventListener("pagehide",this._releaseLockOnPageHide),[7];case 14:return[3,16];case 15:throw new Yd;case 16:return[2]}var u,h}))}))},e.prototype.getTokenWithPopup=function(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),un(this,void 0,void 0,(function(){return hn(this,(function(n){switch(n.label){case 0:return e.audience=e.audience||this.options.audience,e.scope=ul(this.defaultScope,this.scope,e.scope),t=dn(dn({},Dd),t),[4,this.loginWithPopup(e,t)];case 1:return n.sent(),[4,this.cacheManager.get(new hl({scope:e.scope,audience:e.audience||"default",client_id:this.options.client_id}))];case 2:return[2,n.sent().access_token]}}))}))},e.prototype.isAuthenticated=function(){return un(this,void 0,void 0,(function(){return hn(this,(function(e){switch(e.label){case 0:return[4,this.getUser()];case 1:return[2,!!e.sent()]}}))}))},e.prototype.buildLogoutUrl=function(e){void 0===e&&(e={}),null!==e.client_id?e.client_id=e.client_id||this.options.client_id:delete e.client_id;var t=e.federated,n=ln(e,["federated"]),i=t?"&federated":"";return this._url("/v2/logout?".concat(Qd(n)))+i},e.prototype.logout=function(e){var t=this;void 0===e&&(e={});var n=e.localOnly,i=ln(e,["localOnly"]);if(n&&i.federated)throw new Error("It is invalid to set both the `federated` and `localOnly` options to `true`");var o=function(){if(t.cookieStorage.remove(t.orgHintCookieName,{cookieDomain:t.options.cookieDomain}),t.cookieStorage.remove(t.isAuthenticatedCookieName,{cookieDomain:t.options.cookieDomain}),!n){var e=t.buildLogoutUrl(i);window.location.assign(e)}};if(this.options.cache)return this.cacheManager.clear().then((function(){return o()}));this.cacheManager.clearSync(),o()},e.prototype._getTokenFromIFrame=function(e){return un(this,void 0,void 0,(function(){var t,n,i,o,r,s,a,c,d,l,u,h,p,m,f,v,g;return hn(this,(function(b){switch(b.label){case 0:return t=Bd(qd()),n=Bd(qd()),i=qd(),[4,el(i)];case 1:o=b.sent(),r=nl(o),s=ln(e,["detailedResponse"]),a=this._getParams(s,t,n,r,e.redirect_uri||this.options.redirect_uri||window.location.origin),(c=this.cookieStorage.get(this.orgHintCookieName))&&!a.organization&&(a.organization=c),d=this._authorizeUrl(dn(dn({},a),{prompt:"none",response_mode:"web_message"})),b.label=2;case 2:if(b.trys.push([2,6,,7]),window.crossOriginIsolated)throw new Ud("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");return l=e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,[4,(y=d,w=this.domainUrl,S=l,void 0===S&&(S=60),new Promise((function(e,t){var n=window.document.createElement("iframe");n.setAttribute("width","0"),n.setAttribute("height","0"),n.style.display="none";var i,o=function(){window.document.body.contains(n)&&(window.document.body.removeChild(n),window.removeEventListener("message",i,!1))},r=setTimeout((function(){t(new Yd),o()}),1e3*S);i=function(n){if(n.origin==w&&n.data&&"authorization_response"===n.data.type){var s=n.source;s&&s.close(),n.data.response.error?t(Ud.fromPayload(n.data.response)):e(n.data.response),clearTimeout(r),window.removeEventListener("message",i,!1),setTimeout(o,2e3)}},window.addEventListener("message",i,!1),window.document.body.appendChild(n),n.setAttribute("src",y)})))];case 3:if(u=b.sent(),t!==u.state)throw new Error("Invalid state");return h=e.scope,p=e.audience,m=ln(e,["scope","audience","redirect_uri","ignoreCache","timeoutInSeconds","detailedResponse"]),[4,dl(dn(dn(dn({},this.customOptions),m),{scope:h,audience:p,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:i,code:u.code,grant_type:"authorization_code",redirect_uri:a.redirect_uri,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:m.timeout||this.httpTimeoutMs}),this.worker)];case 4:return f=b.sent(),[4,this._verifyIdToken(f.id_token,n)];case 5:return v=b.sent(),this._processOrgIdHint(v.claims.org_id),[2,dn(dn({},f),{decodedToken:v,scope:a.scope,oauthTokenScope:f.scope,audience:a.audience||"default"})];case 6:throw"login_required"===(g=b.sent()).error&&this.logout({localOnly:!0}),g;case 7:return[2]}var y,w,S}))}))},e.prototype._getTokenUsingRefreshToken=function(e){return un(this,void 0,void 0,(function(){var t,n,i,o,r,s,a,c,d;return hn(this,(function(l){switch(l.label){case 0:return e.scope=ul(this.defaultScope,this.options.scope,e.scope),[4,this.cacheManager.get(new hl({scope:e.scope,audience:e.audience||"default",client_id:this.options.client_id}))];case 1:return(t=l.sent())&&t.refresh_token||this.worker?[3,4]:this.useRefreshTokensFallback?[4,this._getTokenFromIFrame(e)]:[3,3];case 2:return[2,l.sent()];case 3:throw new Fd(e.audience||"default",e.scope);case 4:n=e.redirect_uri||this.options.redirect_uri||window.location.origin,o=e.scope,r=e.audience,s=ln(e,["scope","audience","ignoreCache","timeoutInSeconds","detailedResponse"]),a="number"==typeof e.timeoutInSeconds?1e3*e.timeoutInSeconds:null,l.label=5;case 5:return l.trys.push([5,7,,10]),[4,dl(dn(dn(dn(dn(dn({},this.customOptions),s),{audience:r,scope:o,baseUrl:this.domainUrl,client_id:this.options.client_id,grant_type:"refresh_token",refresh_token:t&&t.refresh_token,redirect_uri:n}),a&&{timeout:a}),{auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs}),this.worker)];case 6:return i=l.sent(),[3,10];case 7:return((c=l.sent()).message.indexOf("Missing Refresh Token")>-1||c.message&&c.message.indexOf("invalid refresh token")>-1)&&this.useRefreshTokensFallback?[4,this._getTokenFromIFrame(e)]:[3,9];case 8:return[2,l.sent()];case 9:throw c;case 10:return[4,this._verifyIdToken(i.id_token)];case 11:return d=l.sent(),[2,dn(dn({},i),{decodedToken:d,scope:e.scope,oauthTokenScope:i.scope,audience:e.audience||"default"})]}}))}))},e.prototype._getEntryFromCache=function(e){var t=e.scope,n=e.audience,i=e.client_id;return un(this,void 0,void 0,(function(){var e,o,r,s,a;return hn(this,(function(c){switch(c.label){case 0:return[4,this.cacheManager.get(new hl({scope:t,audience:n,client_id:i}),60)];case 1:return(e=c.sent())&&e.access_token?(o=e.id_token,r=e.access_token,s=e.oauthTokenScope,a=e.expires_in,[2,dn(dn({id_token:o,access_token:r},s?{scope:s}:null),{expires_in:a})]):[2]}}))}))},e}();export{$l as A};
