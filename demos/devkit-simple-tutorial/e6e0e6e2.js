import{A as e,D as t,P as n,T as i,C as r,a as o,b as s,c as a,d as c}from"./6d7ab533.js";function d(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */}const l=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,u=Symbol(),p=new WeakMap;class h{constructor(e,t,n){if(this._$cssResult$=!0,n!==u)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(l&&void 0===e){const n=void 0!==t&&1===t.length;n&&(e=p.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&p.set(t,e))}return e}toString(){return this.cssText}}const f=(e,...t)=>{const n=1===e.length?e[0]:t.reduce(((t,n,i)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+e[i+1]),e[0]);return new h(n,e,u)},m=l?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(const n of e.cssRules)t+=n.cssText;return(e=>new h("string"==typeof e?e:e+"",void 0,u))(t)})(e):e
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */;var v;const b=window.trustedTypes,y=b?b.emptyScript:"",g=window.reactiveElementPolyfillSupport,w={toAttribute(e,t){switch(t){case Boolean:e=e?y:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=null!==e;break;case Number:n=null===e?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch(e){n=null}}return n}},S=(e,t)=>t!==e&&(t==t||e==e),E={attribute:!0,type:String,converter:w,reflect:!1,hasChanged:S};class A extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(e){var t;null!==(t=this.h)&&void 0!==t||(this.h=[]),this.h.push(e)}static get observedAttributes(){this.finalize();const e=[];return this.elementProperties.forEach(((t,n)=>{const i=this._$Ep(n,t);void 0!==i&&(this._$Ev.set(i,n),e.push(i))})),e}static createProperty(e,t=E){if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){const n="symbol"==typeof e?Symbol():"__"+e,i=this.getPropertyDescriptor(e,n,t);void 0!==i&&Object.defineProperty(this.prototype,e,i)}}static getPropertyDescriptor(e,t,n){return{get(){return this[t]},set(i){const r=this[e];this[t]=i,this.requestUpdate(e,r,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||E}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const e=Object.getPrototypeOf(this);if(e.finalize(),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const e=this.properties,t=[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)];for(const n of t)this.createProperty(n,e[n])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const e of n)t.unshift(m(e))}else void 0!==e&&t.push(m(e));return t}static _$Ep(e,t){const n=t.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof e?e.toLowerCase():void 0}u(){var e;this._$E_=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(e=this.constructor.h)||void 0===e||e.forEach((e=>e(this)))}addController(e){var t,n;(null!==(t=this._$ES)&&void 0!==t?t:this._$ES=[]).push(e),void 0!==this.renderRoot&&this.isConnected&&(null===(n=e.hostConnected)||void 0===n||n.call(e))}removeController(e){var t;null===(t=this._$ES)||void 0===t||t.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach(((e,t)=>{this.hasOwnProperty(t)&&(this._$Ei.set(t,this[t]),delete this[t])}))}createRenderRoot(){var e;const t=null!==(e=this.shadowRoot)&&void 0!==e?e:this.attachShadow(this.constructor.shadowRootOptions);return((e,t)=>{l?e.adoptedStyleSheets=t.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet)):t.forEach((t=>{const n=document.createElement("style"),i=window.litNonce;void 0!==i&&n.setAttribute("nonce",i),n.textContent=t.cssText,e.appendChild(n)}))})(t,this.constructor.elementStyles),t}connectedCallback(){var e;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostConnected)||void 0===t?void 0:t.call(e)}))}enableUpdating(e){}disconnectedCallback(){var e;null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostDisconnected)||void 0===t?void 0:t.call(e)}))}attributeChangedCallback(e,t,n){this._$AK(e,n)}_$EO(e,t,n=E){var i,r;const o=this.constructor._$Ep(e,n);if(void 0!==o&&!0===n.reflect){const s=(null!==(r=null===(i=n.converter)||void 0===i?void 0:i.toAttribute)&&void 0!==r?r:w.toAttribute)(t,n.type);this._$El=e,null==s?this.removeAttribute(o):this.setAttribute(o,s),this._$El=null}}_$AK(e,t){var n,i;const r=this.constructor,o=r._$Ev.get(e);if(void 0!==o&&this._$El!==o){const e=r.getPropertyOptions(o),s=e.converter,a=null!==(i=null!==(n=null==s?void 0:s.fromAttribute)&&void 0!==n?n:"function"==typeof s?s:null)&&void 0!==i?i:w.fromAttribute;this._$El=o,this[o]=a(t,e.type),this._$El=null}}requestUpdate(e,t,n){let i=!0;void 0!==e&&(((n=n||this.constructor.getPropertyOptions(e)).hasChanged||S)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),!0===n.reflect&&this._$El!==e&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(e,n))):i=!1),!this.isUpdatePending&&i&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(e){Promise.reject(e)}const e=this.scheduleUpdate();return null!=e&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach(((e,t)=>this[t]=e)),this._$Ei=void 0);let t=!1;const n=this._$AL;try{t=this.shouldUpdate(n),t?(this.willUpdate(n),null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostUpdate)||void 0===t?void 0:t.call(e)})),this.update(n)):this._$Ek()}catch(e){throw t=!1,this._$Ek(),e}t&&this._$AE(n)}willUpdate(e){}_$AE(e){var t;null===(t=this._$ES)||void 0===t||t.forEach((e=>{var t;return null===(t=e.hostUpdated)||void 0===t?void 0:t.call(e)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){void 0!==this._$EC&&(this._$EC.forEach(((e,t)=>this._$EO(t,this[t],e))),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var R;A.finalized=!0,A.elementProperties=new Map,A.elementStyles=[],A.shadowRootOptions={mode:"open"},null==g||g({ReactiveElement:A}),(null!==(v=globalThis.reactiveElementVersions)&&void 0!==v?v:globalThis.reactiveElementVersions=[]).push("1.3.4");const C=globalThis.trustedTypes,I=C?C.createPolicy("lit-html",{createHTML:e=>e}):void 0,T=`lit$${(Math.random()+"").slice(9)}$`,k="?"+T,_=`<${k}>`,x=document,N=(e="")=>x.createComment(e),O=e=>null===e||"object"!=typeof e&&"function"!=typeof e,L=Array.isArray,$=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,P=/-->/g,D=/>/g,G=RegExp(">|[ \t\n\f\r](?:([^\\s\"'>=/]+)([ \t\n\f\r]*=[ \t\n\f\r]*(?:[^ \t\n\f\r\"'`<>=]|(\"|')|))|$)","g"),W=/'/g,Z=/"/g,U=/^(?:script|style|textarea|title)$/i,Y=(e=>(t,...n)=>({_$litType$:e,strings:t,values:n}))(1),H=Symbol.for("lit-noChange"),j=Symbol.for("lit-nothing"),X=new WeakMap,K=x.createTreeWalker(x,129,null,!1);class V{constructor({strings:e,_$litType$:t},n){let i;this.parts=[];let r=0,o=0;const s=e.length-1,a=this.parts,[c,d]=((e,t)=>{const n=e.length-1,i=[];let r,o=2===t?"<svg>":"",s=$;for(let t=0;t<n;t++){const n=e[t];let a,c,d=-1,l=0;for(;l<n.length&&(s.lastIndex=l,c=s.exec(n),null!==c);)l=s.lastIndex,s===$?"!--"===c[1]?s=P:void 0!==c[1]?s=D:void 0!==c[2]?(U.test(c[2])&&(r=RegExp("</"+c[2],"g")),s=G):void 0!==c[3]&&(s=G):s===G?">"===c[0]?(s=null!=r?r:$,d=-1):void 0===c[1]?d=-2:(d=s.lastIndex-c[2].length,a=c[1],s=void 0===c[3]?G:'"'===c[3]?Z:W):s===Z||s===W?s=G:s===P||s===D?s=$:(s=G,r=void 0);const u=s===G&&e[t+1].startsWith("/>")?" ":"";o+=s===$?n+_:d>=0?(i.push(a),n.slice(0,d)+"$lit$"+n.slice(d)+T+u):n+T+(-2===d?(i.push(void 0),t):u)}const a=o+(e[n]||"<?>")+(2===t?"</svg>":"");if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==I?I.createHTML(a):a,i]})(e,t);if(this.el=V.createElement(c,n),K.currentNode=this.el.content,2===t){const e=this.el.content,t=e.firstChild;t.remove(),e.append(...t.childNodes)}for(;null!==(i=K.nextNode())&&a.length<s;){if(1===i.nodeType){if(i.hasAttributes()){const e=[];for(const t of i.getAttributeNames())if(t.endsWith("$lit$")||t.startsWith(T)){const n=d[o++];if(e.push(t),void 0!==n){const e=i.getAttribute(n.toLowerCase()+"$lit$").split(T),t=/([.?@])?(.*)/.exec(n);a.push({type:1,index:r,name:t[2],strings:e,ctor:"."===t[1]?B:"?"===t[1]?Q:"@"===t[1]?ee:J})}else a.push({type:6,index:r})}for(const t of e)i.removeAttribute(t)}if(U.test(i.tagName)){const e=i.textContent.split(T),t=e.length-1;if(t>0){i.textContent=C?C.emptyScript:"";for(let n=0;n<t;n++)i.append(e[n],N()),K.nextNode(),a.push({type:2,index:++r});i.append(e[t],N())}}}else if(8===i.nodeType)if(i.data===k)a.push({type:2,index:r});else{let e=-1;for(;-1!==(e=i.data.indexOf(T,e+1));)a.push({type:7,index:r}),e+=T.length-1}r++}}static createElement(e,t){const n=x.createElement("template");return n.innerHTML=e,n}}function F(e,t,n=e,i){var r,o,s,a;if(t===H)return t;let c=void 0!==i?null===(r=n._$Cl)||void 0===r?void 0:r[i]:n._$Cu;const d=O(t)?void 0:t._$litDirective$;return(null==c?void 0:c.constructor)!==d&&(null===(o=null==c?void 0:c._$AO)||void 0===o||o.call(c,!1),void 0===d?c=void 0:(c=new d(e),c._$AT(e,n,i)),void 0!==i?(null!==(s=(a=n)._$Cl)&&void 0!==s?s:a._$Cl=[])[i]=c:n._$Cu=c),void 0!==c&&(t=F(e,c._$AS(e,t.values),c,i)),t}class M{constructor(e,t){this.v=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(e){var t;const{el:{content:n},parts:i}=this._$AD,r=(null!==(t=null==e?void 0:e.creationScope)&&void 0!==t?t:x).importNode(n,!0);K.currentNode=r;let o=K.nextNode(),s=0,a=0,c=i[0];for(;void 0!==c;){if(s===c.index){let t;2===c.type?t=new z(o,o.nextSibling,this,e):1===c.type?t=new c.ctor(o,c.name,c.strings,this,e):6===c.type&&(t=new te(o,this,e)),this.v.push(t),c=i[++a]}s!==(null==c?void 0:c.index)&&(o=K.nextNode(),s++)}return r}m(e){let t=0;for(const n of this.v)void 0!==n&&(void 0!==n.strings?(n._$AI(e,n,t),t+=n.strings.length-2):n._$AI(e[t])),t++}}class z{constructor(e,t,n,i){var r;this.type=2,this._$AH=j,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=n,this.options=i,this._$C_=null===(r=null==i?void 0:i.isConnected)||void 0===r||r}get _$AU(){var e,t;return null!==(t=null===(e=this._$AM)||void 0===e?void 0:e._$AU)&&void 0!==t?t:this._$C_}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return void 0!==t&&11===e.nodeType&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=F(this,e,t),O(e)?e===j||null==e||""===e?(this._$AH!==j&&this._$AR(),this._$AH=j):e!==this._$AH&&e!==H&&this.T(e):void 0!==e._$litType$?this.$(e):void 0!==e.nodeType?this.k(e):(e=>L(e)||"function"==typeof(null==e?void 0:e[Symbol.iterator]))(e)?this.S(e):this.T(e)}j(e,t=this._$AB){return this._$AA.parentNode.insertBefore(e,t)}k(e){this._$AH!==e&&(this._$AR(),this._$AH=this.j(e))}T(e){this._$AH!==j&&O(this._$AH)?this._$AA.nextSibling.data=e:this.k(x.createTextNode(e)),this._$AH=e}$(e){var t;const{values:n,_$litType$:i}=e,r="number"==typeof i?this._$AC(e):(void 0===i.el&&(i.el=V.createElement(i.h,this.options)),i);if((null===(t=this._$AH)||void 0===t?void 0:t._$AD)===r)this._$AH.m(n);else{const e=new M(r,this),t=e.p(this.options);e.m(n),this.k(t),this._$AH=e}}_$AC(e){let t=X.get(e.strings);return void 0===t&&X.set(e.strings,t=new V(e)),t}S(e){L(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let n,i=0;for(const r of e)i===t.length?t.push(n=new z(this.j(N()),this.j(N()),this,this.options)):n=t[i],n._$AI(r),i++;i<t.length&&(this._$AR(n&&n._$AB.nextSibling,i),t.length=i)}_$AR(e=this._$AA.nextSibling,t){var n;for(null===(n=this._$AP)||void 0===n||n.call(this,!1,!0,t);e&&e!==this._$AB;){const t=e.nextSibling;e.remove(),e=t}}setConnected(e){var t;void 0===this._$AM&&(this._$C_=e,null===(t=this._$AP)||void 0===t||t.call(this,e))}}class J{constructor(e,t,n,i,r){this.type=1,this._$AH=j,this._$AN=void 0,this.element=e,this.name=t,this._$AM=i,this.options=r,n.length>2||""!==n[0]||""!==n[1]?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=j}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,n,i){const r=this.strings;let o=!1;if(void 0===r)e=F(this,e,t,0),o=!O(e)||e!==this._$AH&&e!==H,o&&(this._$AH=e);else{const i=e;let s,a;for(e=r[0],s=0;s<r.length-1;s++)a=F(this,i[n+s],t,s),a===H&&(a=this._$AH[s]),o||(o=!O(a)||a!==this._$AH[s]),a===j?e=j:e!==j&&(e+=(null!=a?a:"")+r[s+1]),this._$AH[s]=a}o&&!i&&this.P(e)}P(e){e===j?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=e?e:"")}}class B extends J{constructor(){super(...arguments),this.type=3}P(e){this.element[this.name]=e===j?void 0:e}}const q=C?C.emptyScript:"";class Q extends J{constructor(){super(...arguments),this.type=4}P(e){e&&e!==j?this.element.setAttribute(this.name,q):this.element.removeAttribute(this.name)}}class ee extends J{constructor(e,t,n,i,r){super(e,t,n,i,r),this.type=5}_$AI(e,t=this){var n;if((e=null!==(n=F(this,e,t,0))&&void 0!==n?n:j)===H)return;const i=this._$AH,r=e===j&&i!==j||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,o=e!==j&&(i===j||r);r&&this.element.removeEventListener(this.name,this,i),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,n;"function"==typeof this._$AH?this._$AH.call(null!==(n=null===(t=this.options)||void 0===t?void 0:t.host)&&void 0!==n?n:this.element,e):this._$AH.handleEvent(e)}}class te{constructor(e,t,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){F(this,e)}}const ne=window.litHtmlPolyfillSupport;
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var ie,re;null==ne||ne(V,z),(null!==(R=globalThis.litHtmlVersions)&&void 0!==R?R:globalThis.litHtmlVersions=[]).push("2.2.7");class oe extends A{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,t;const n=super.createRenderRoot();return null!==(e=(t=this.renderOptions).renderBefore)&&void 0!==e||(t.renderBefore=n.firstChild),n}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=((e,t,n)=>{var i,r;const o=null!==(i=null==n?void 0:n.renderBefore)&&void 0!==i?i:t;let s=o._$litPart$;if(void 0===s){const e=null!==(r=null==n?void 0:n.renderBefore)&&void 0!==r?r:null;o._$litPart$=s=new z(t.insertBefore(N(),e),e,void 0,null!=n?n:{})}return s._$AI(e),s})(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),null===(e=this._$Do)||void 0===e||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),null===(e=this._$Do)||void 0===e||e.setConnected(!1)}render(){return H}}oe.finalized=!0,oe._$litElement$=!0,null===(ie=globalThis.litElementHydrateSupport)||void 0===ie||ie.call(globalThis,{LitElement:oe});const se=globalThis.litElementPolyfillSupport;null==se||se({LitElement:oe}),(null!==(re=globalThis.litElementVersions)&&void 0!==re?re:globalThis.litElementVersions=[]).push("3.2.2");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const ae=e=>t=>"function"==typeof t?((e,t)=>(window.customElements.define(e,t),t))(e,t):((e,t)=>{const{kind:n,elements:i}=t;return{kind:n,elements:i,finisher(t){window.customElements.define(e,t)}}})(e,t)
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */,ce=(e,t)=>"method"===t.kind&&t.descriptor&&!("value"in t.descriptor)?{...t,finisher(n){n.createProperty(t.key,e)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher(n){n.createProperty(t.key,e)}};function de(e){return(t,n)=>void 0!==n?((e,t,n)=>{t.constructor.createProperty(n,e)})(e,t,n):ce(e,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function le(e){return de({...e,state:!0})}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var ue;null===(ue=window.HTMLSlotElement)||void 0===ue||ue.prototype.assignedElements;
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const pe=(e,t,n)=>{for(const n of t)if(n[0]===e)return(0,n[1])();return null==n?void 0:n()};
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function*he(e,t){if(void 0!==e){let n=0;for(const i of e)yield t(i,n++)}}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const fe=(e,...t)=>({strTag:!0,strings:e,values:t});
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
class me{constructor(e){this.__litLocalizeEventHandler=e=>{"ready"===e.detail.status&&this.host.requestUpdate()},this.host=e}hostConnected(){window.addEventListener("lit-localize-status",this.__litLocalizeEventHandler)}hostDisconnected(){window.removeEventListener("lit-localize-status",this.__litLocalizeEventHandler)}}const ve=e=>e.addController(new me(e)),be=()=>e=>"function"==typeof e?ge(e):ye(e),ye=({kind:e,elements:t})=>({kind:e,elements:t,finisher(e){e.addInitializer(ve)}}),ge=e=>(e.addInitializer(ve),e);
/**
 * @license
 * Copyright 2014 Travis Webb
 * SPDX-License-Identifier: MIT
 */
for(let e=0;e<256;e++)(e>>4&15).toString(16),(15&e).toString(16);
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */(new
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
class{constructor(){this.settled=!1,this.promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t}))}resolve(e){this.settled=!0,this._resolve(e)}reject(e){this.settled=!0,this._reject(e)}}).resolve();
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
let we=e=>{return"string"!=typeof(t=e)&&"strTag"in t?((e,t,n)=>{let i=e[0];for(let r=1;r<e.length;r++)i+=t[n?n[r-1]:r-1],i+=e[r];return i})(e.strings,e.values):e;
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var t};var Se,Ee,Ae,Re;!function(e){e[e.MENU=0]="MENU",e[e.EDIT=1]="EDIT",e[e.REVIEW=2]="REVIEW",e[e.REQUESTS=3]="REQUESTS",e[e.SUBMITTED=4]="SUBMITTED",e[e.STATUS=5]="STATUS",e[e.AUTH=6]="AUTH"}(Se||(Se={})),function(e){e[e.BUILD=0]="BUILD",e[e.REVIEW=1]="REVIEW",e[e.SENT=2]="SENT"}(Ee||(Ee={})),function(e){e[e.SELECT_ACTION=0]="SELECT_ACTION",e[e.AUTH=1]="AUTH",e[e.EDIT_OPEN=2]="EDIT_OPEN",e[e.EDIT_COLLAPSED=3]="EDIT_COLLAPSED",e[e.REVIEW=4]="REVIEW"}(Ae||(Ae={})),function(e){e[e.CLOSED=0]="CLOSED",e[e.PARTIAL=1]="PARTIAL",e[e.OPEN=2]="OPEN"}(Re||(Re={}));const Ce=new Map([[e.ACCESS,!0],[e.DELETE,!0],[e.MODIFY,!1],[e.OBJECT,!1],[e.PORTABILITY,!1],[e.RESTRICT,!1],[e.REVOKE,!0],[e.TRANSPARENCY,!0],[e["TRANSPARENCY.DATA.CATEGORIES"],!0],[e["TRANSPARENCY.DPO"],!0],[e["TRANSPARENCY.KNOWN"],!0],[e["TRANSPARENCY.LEGAL.BASES"],!0],[e["TRANSPARENCY.ORGANIZATION"],!0],[e["TRANSPARENCY.POLICY"],!0],[e["TRANSPARENCY.PROCESSING.CATEGORIES"],!0],[e["TRANSPARENCY.PURPOSE"],!0],[e["TRANSPARENCY.PROVENANCE"],!0],[e["TRANSPARENCY.RETENTION"],!0],[e["TRANSPARENCY.WHERE"],!0],[e["TRANSPARENCY.WHO"],!0],[e["OTHER.DEMAND"],!0]]),Ie={"access-allowed-data-categories":[t.CONTACT,t.NAME,t.UID,t["OTHER-DATA"]],"delete-allowed-data-categories":[t.CONTACT,t.NAME,t.UID,t["OTHER-DATA"]]},Te={ACCESS:()=>we("ACCESS"),DELETE:()=>we("DELETE"),MODIFY:()=>we("MODIFY"),OBJECT:()=>we("OBJECT"),PORTABILITY:()=>we("PORTABILITY"),RESTRICT:()=>we("RESTRICT"),"REVOKE-CONSENT":()=>we("REVOKE-CONSENT"),TRANSPARENCY:()=>we("TRANSPARENCY"),"TRANSPARENCY.DATA-CATEGORIES":()=>we("TRANSPARENCY.DATA-CATEGORIES"),"TRANSPARENCY.DPO":()=>we("TRANSPARENCY.DPO"),"TRANSPARENCY.KNOWN":()=>we("TRANSPARENCY.KNOWN"),"TRANSPARENCY.LEGAL-BASES":()=>we("TRANSPARENCY.LEGAL-BASES"),"TRANSPARENCY.ORGANIZATION":()=>we("TRANSPARENCY.ORGANIZATION"),"TRANSPARENCY.POLICY":()=>we("TRANSPARENCY.POLICY"),"TRANSPARENCY.PROCESSING-CATEGORIES":()=>we("TRANSPARENCY.PROCESSING-CATEGORIES"),"TRANSPARENCY.PROVENANCE":()=>we("TRANSPARENCY.PROVENANCE"),"TRANSPARENCY.PURPOSE":()=>we("TRANSPARENCY.PURPOSE"),"TRANSPARENCY.RETENTION":()=>we("TRANSPARENCY.RETENTION"),"TRANSPARENCY.WHERE":()=>we("TRANSPARENCY.WHERE"),"TRANSPARENCY.WHO":()=>we("TRANSPARENCY.WHO"),"OTHER-DEMAND":()=>we("OTHER-DEMAND")},ke={ACCESS:()=>we("Access my data"),DELETE:()=>we("Have my data deleted"),MODIFY:()=>we("Modify or complement my data"),OBJECT:()=>we("Object to processing of my data"),PORTABILITY:()=>we("Take my data and have it transfered somewhere else"),RESTRICT:()=>we("Restrict processing of my data to a particular scope"),"REVOKE-CONSENT":()=>we("Revoke previously given consent for data processing"),TRANSPARENCY:()=>we("Demand information related to data processing practices and know if the system has data on me"),"OTHER-DEMAND":()=>we("Do or know something else"),"TRANSPARENCY.DATA-CATEGORIES":()=>we("The categories of the data the organization has on me"),"TRANSPARENCY.DPO":()=>we("The contact details of the data protection officer"),"TRANSPARENCY.KNOWN":()=>we("If the organization has data on me"),"TRANSPARENCY.LEGAL-BASES":()=>we("The legal bases for processing my data (including legitimate interests)"),"TRANSPARENCY.ORGANIZATION":()=>we("The identity and contact details of the organization processing my data"),"TRANSPARENCY.POLICY":()=>we("The policies applied to processing of data concerning me"),"TRANSPARENCY.PROCESSING-CATEGORIES":()=>we("The cateogories of processing being done on the data the organization has on me"),"TRANSPARENCY.PROVENANCE":()=>we("The sources that the data concerning me come from"),"TRANSPARENCY.PURPOSE":()=>we("The purpose of the processing of the data the organization has on me"),"TRANSPARENCY.RETENTION":()=>we("For how long the data concerning me kept"),"TRANSPARENCY.WHERE":()=>we("Where the data about me is stored"),"TRANSPARENCY.WHO":()=>we("Who can access the data that the organization has on me")},_e={"*":()=>we("All provenances"),USER:()=>we("The data provided by a user of the system (potentially the Data Subject)"),"USER.DATA-SUBJECT":()=>we("The data is provided by the Data Subject"),DERIVED:()=>we("The data derived from user actions, extracted from other data or inferred"),TRANSFERRED:()=>we("The data obtained by transfer from another System")},xe={"*":()=>we(""),AFFILIATION:()=>we("affiliation"),"AFFILIATION.MEMBERSHIP":()=>we("affiliation membership"),"AFFILIATION.MEMBERSHIP.UNION":()=>we(""),"AFFILIATION.SCHOOL":()=>we(""),"AFFILIATION.WORKPLACE":()=>we(""),BEHAVIOR:()=>we("behavior"),"BEHAVIOR.ACTIVITY":()=>we(""),"BEHAVIOR.CONNECTION":()=>we(""),"BEHAVIOR.PREFERENCE":()=>we(""),"BEHAVIOR.TELEMETRY":()=>we(""),BIOMETRIC:()=>we("biometric"),CONTACT:()=>we("contact"),"CONTACT.EMAIL":()=>we(""),"CONTACT.ADDRESS":()=>we(""),"CONTACT.PHONE":()=>we(""),DEMOGRAPHIC:()=>we("demographic"),"DEMOGRAPHIC.AGE":()=>we(""),"DEMOGRAPHIC.BELIEFS":()=>we(""),"DEMOGRAPHIC.GENDER":()=>we(""),"DEMOGRAPHIC.ORIGIN":()=>we(""),"DEMOGRAPHIC.RACE":()=>we(""),"DEMOGRAPHIC.SEXUAL-ORIENTATION":()=>we(""),DEVICE:()=>we("device"),FINANCIAL:()=>we("financial"),"FINANCIAL.BANK-ACCOUNT":()=>we("finacial bank account"),GENETIC:()=>we("genetic"),HEALTH:()=>we("health"),IMAGE:()=>we("image"),LOCATION:()=>we("location"),NAME:()=>we("name"),PROFILING:()=>we("profiling"),RELATIONSHIPS:()=>we("relationships"),UID:()=>we("uid"),"UID.ID":()=>we(""),"UID.IP":()=>we(""),"UID.USER-ACCOUNT":()=>we(""),"UID.SOCIAL-MEDIA":()=>we(""),"OTHER-DATA":()=>we("other data")},Ne={"*":()=>we(Y`<b>ALL information related to data processing practices and know if the organization has data on me</b>`),AFFILIATION:()=>we(Y`<b>AFFILIATION data:</b> Groups and Organisations I am linked to through work, studies, or membership`),"AFFILIATION.MEMBERSHIP":()=>we(Y``),"AFFILIATION.MEMBERSHIP.UNION":()=>we(Y``),"AFFILIATION.SCHOOL":()=>we(Y``),"AFFILIATION.WORKPLACE":()=>we(Y``),BEHAVIOR:()=>we(Y`<b>BEHAVIOR data:</b> Data about my behavior`),"BEHAVIOR.ACTIVITY":()=>we(Y``),"BEHAVIOR.CONNECTION":()=>we(Y``),"BEHAVIOR.PREFERENCE":()=>we(Y``),"BEHAVIOR.TELEMETRY":()=>we(Y``),BIOMETRIC:()=>we(Y`<b>BIOMETRIC data</b>`),CONTACT:()=>we(Y`<b>CONTACT data:</b> Data allowing to contact me `),"CONTACT.EMAIL":()=>we(Y``),"CONTACT.ADDRESS":()=>we(Y``),"CONTACT.PHONE":()=>we(Y``),DEMOGRAPHIC:()=>we(Y`<b>DEMOGRAPHIC data:</b> All information allowing to class me in a demographic category`),"DEMOGRAPHIC.AGE":()=>we(Y``),"DEMOGRAPHIC.BELIEFS":()=>we(Y``),"DEMOGRAPHIC.GENDER":()=>we(Y``),"DEMOGRAPHIC.ORIGIN":()=>we(Y``),"DEMOGRAPHIC.RACE":()=>we(Y``),"DEMOGRAPHIC.SEXUAL-ORIENTATION":()=>we(Y``),DEVICE:()=>we(Y`<b>DEVICE data:</b> Data about the device I used`),FINANCIAL:()=>we(Y`<b>FINANCIAL data:</b> Payment data, financial history and data about my financial situation`),"FINANCIAL.BANK-ACCOUNT":()=>we(Y``),GENETIC:()=>we(Y`<b>GENETIC data</b>`),HEALTH:()=>we(Y`<b>HEALTH data:</b> Data about my health`),IMAGE:()=>we(Y`<b>IMAGE data:</b> Any graphic representation (e.g., image, video) of me`),LOCATION:()=>we(Y`<b>LOCATION data:</b> Geographic location`),NAME:()=>we(Y`<b>NAME data:</b> First names, last names, nicknames, and other names`),PROFILING:()=>we(Y`<b>PROFILING data:</b> Any data establishing a degree of similarity of with others (e.g., clusters, user-profiles)`),RELATIONSHIPS:()=>we(Y`<b>RELATIONSHIPS data:</b> Data about relationships I have with others, social activity and interaction`),UID:()=>we(Y`<b>UID data:</b> Any data that uniquely identifies me`),"UID.ID":()=>we(Y``),"UID.IP":()=>we(Y``),"UID.USER-ACCOUNT":()=>we(Y``),"UID.SOCIAL-MEDIA":()=>we(Y``),"OTHER-DATA":()=>we(Y`<b>OTHER DATA:</b> Any other categories or forms of data`)},Oe={"*":()=>we(Y`All targets`),SYSTEM:()=>we(Y`This system`),ORGANIZATION:()=>we(Y`This system and all systems within this organization`),PARTNERS:()=>we(Y`This system, all systems within this organization, and all partners systems where data has been <b>shared or obtained</b>`),"PARTNERS.DOWNWARD":()=>we(Y`This system, all systems within this organization, and all partners systems with which data has been <b>shared</b>`),"PARTNERS.UPWARD":()=>we(Y`This system, all systems within this organization, and all partners systems from which data has been <b>obtained</b>`)},Le={IN_PROCESSING:()=>we(Y`In processing`),PARTIALLY_COMPLETED:()=>we(Y`Partially completed`),COMPLETED:()=>we(Y`Completed`),CANCELED:()=>we(Y`Canceled`)},$e={GRANTED:()=>we("granted"),DENIED:()=>we("denied"),"PARTIALLY-GRANTED":()=>we("partially granted"),"UNDER-REVIEW":()=>we("under review"),CANCELED:()=>we("canceled")},Pe={"NO-LONGER-THAN":()=>we("no longer than"),"NO-LESS-THAN":()=>we("no less than")},De={"CAPTURE-DATE":()=>we("capture date"),"RELATIONSHIP-START":()=>we("relationship start"),"RELATIONSHIP-END":()=>we("relationship end"),"SERVICE-START":()=>we("service start"),"SERVICE-END":()=>we("service end")};function Ge(){return Object.values(e).filter((e=>!e.includes("TRANSPARENCY.")))}function We(){return Object.values(t).filter((e=>!e.includes(".")))}function Ze(e){const t=new URL(document.URL);t.searchParams.delete(e),window.history.pushState({},"",t)}const Ue=f`.border--light{border:1px solid;border-color:var(--prci-border-light-color,#c4c4c4)}.border--medium{border:1px solid;border-color:var(--prci-border-medium-color,#5b5b5b)}.border--dark{border:1px solid;border-color:var(--prci-border-dark-color,#000)}.border--rounded{border-radius:10px}.border--thin{border-width:var(--prci-border-thin,1px)}.border--thick{border-width:var(--prci-border-thick,2px)}button{font-family:var(
      --prci-font-family,
      -apple-system,
      BlinkMacSystemFont,
      'Segoe UI',
      Roboto,
      Oxygen,
      Ubuntu,
      Cantarell,
      'Open Sans',
      'Helvetica Neue',
      sans-serif
    );font-size:16px}.svg-btn{border:none;padding:0;margin:0;background:0 0}.link-btn{display:grid;grid-auto-flow:column;font-size:16px;column-gap:7.5px;background:0 0;border:none;width:fit-content;align-items:center;padding:0}.nav-btn{height:50px;background-color:#18a0fb;border-width:0;border-radius:6px;font-size:18px;color:#fff;margin:0 0 -200px 0;padding:0 25px}.btn--centered{justify-self:center;justify-content:center}.btn--curved{border-radius:8px}.btn--clickable{box-shadow:0 5px 10px 0 rgba(0,0,0,.1),0 2px 4px rgba(0,0,0,.2),0 4px 8px rgba(0,0,0,.2),0 8px 16px rgba(0,0,0,.2)}.btn--clickable:not([disabled]):hover{transform:translateY(-2px);transition:.2s;box-shadow:0 7px 10px 0 rgba(0,0,0,.3),0 4px 4px rgba(0,0,0,.2),0 6px 8px rgba(0,0,0,.2),0 10px 16px rgba(0,0,0,.2)}.btn--clickable:not([disabled]):active{transform:translateY(2px);transition:.2s;box-shadow:0 5px 10px 0 rgba(0,0,0,.1),0 2px 4px rgba(0,0,0,.2),0 4px 8px rgba(0,0,0,.2),0 8px 16px rgba(0,0,0,.2)}p{font-family:var(
      --prci-font-family,
      -apple-system,
      BlinkMacSystemFont,
      'Segoe UI',
      Roboto,
      Oxygen,
      Ubuntu,
      Cantarell,
      'Open Sans',
      'Helvetica Neue',
      sans-serif
    );font-size:16px;padding:0;margin:0}span{font-family:var(
      --prci-font-family,
      -apple-system,
      BlinkMacSystemFont,
      'Segoe UI',
      Roboto,
      Oxygen,
      Ubuntu,
      Cantarell,
      'Open Sans',
      'Helvetica Neue',
      sans-serif
    );font-size:16px}textarea{font-family:var(
      --prci-font-family,
      -apple-system,
      BlinkMacSystemFont,
      'Segoe UI',
      Roboto,
      Oxygen,
      Ubuntu,
      Cantarell,
      'Open Sans',
      'Helvetica Neue',
      sans-serif
    );font-size:16px;background:#f8f8fc;border:1px solid #e5e5e5;border-radius:8px}.text--underline{text-decoration:underline}.text--italic{font-style:italic}.text--center-vertical{align-items:center;justify-content:center}.view-ctr{padding:60px}.provenance-restriction{border:none;padding:0;margin:0}.provenance-restriction input{margin:20px 0 20px 30px}.provenance-restriction input:nth-last-child(3){margin:20px 0 0 30px}.provenance-restriction input:first-child{margin:35px 0 20px 30px}.date-restriction{display:grid;row-gap:35px}.date-restriction div{padding:0 0 0 30px}`;let Ye=class extends oe{render(){return Y``}};
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
function He(e,t,n){return e?t():null==n?void 0:n()}Ye.styles=f``,Ye=d([ae("frequent-requests-menu")],Ye);const je=new URL(new URL(new URL("5bdc633f.svg",import.meta.url).href,import.meta.url).href,import.meta.url).href,Xe=new URL(new URL(new URL("9a788507.svg",import.meta.url).href,import.meta.url).href,import.meta.url).href;let Ke=class extends oe{constructor(){super(...arguments),this.demandGroupId="",this.demands=[],this.demand={action:e.ACCESS},this.confirmDelete=!1,this.target=i.PARTNERS,this._action=e.ACCESS}getAccessReviewTemplate(){var e,r,o,s,a,c;const d=null===(r=null===(e=this.demand.restrictions)||void 0===e?void 0:e.date_range)||void 0===r?void 0:r.from,l=null===(s=null===(o=this.demand.restrictions)||void 0===o?void 0:o.date_range)||void 0===s?void 0:s.to,u=null===(a=this.demand.restrictions)||void 0===a?void 0:a.provenance,p=null===(c=this.demand.restrictions)||void 0===c?void 0:c.privacy_scope;return Y` <h4>${we("I want to access:")}</h4> <ul id="access-review-list" class="review-list"> ${He(p&&Object.values(t).filter((e=>!e.includes(".")&&e!==t.ALL)).every((e=>p.map((e=>e.dc)).includes(e))),(()=>Y` <li>${Ne[t.ALL]()}</li> `),(()=>{var e;return Y` ${he(null===(e=this.demand.restrictions)||void 0===e?void 0:e.privacy_scope,(e=>Y`<li>${Ne[e.dc]()}</li> `))} `}))} </ul> ${He(d||l,(()=>Y`<p>${this.getDateRangeReviewTemplate(d,l)}</p>`))} ${He((null==u?void 0:u.term)!==n.ALL,(()=>Y` <p> ${we("For:")} <b>${_e[u.term]()}</b> </p> `))} ${He((null==u?void 0:u.target)!==i.SYSTEM,(()=>Y` <p> ${we("From:")} <b>${Oe[u.target]()}</b> </p> `))} ${He(this.demand.message,(()=>Y` <h4>${we("Plus additional info:")}</h4> <span class="extra-msg-txt"><i>${this.demand.message}</i></span> `))} `}getDeleteReviewTemplate(){var e,r,o,s,a,c;const d=null===(r=null===(e=this.demand.restrictions)||void 0===e?void 0:e.date_range)||void 0===r?void 0:r.from,l=null===(s=null===(o=this.demand.restrictions)||void 0===o?void 0:o.date_range)||void 0===s?void 0:s.to,u=null===(a=this.demand.restrictions)||void 0===a?void 0:a.provenance,p=null===(c=this.demand.restrictions)||void 0===c?void 0:c.privacy_scope;return Y` <h4>${we("I want to delete:")}</h4> <ul id="delete-review-list" class="review-list"> ${He(p&&Object.values(t).filter((e=>!e.includes(".")&&e!==t.ALL)).every((e=>p.map((e=>e.dc)).includes(e))),(()=>Y` <li>${Ne[t.ALL]()}</li> `),(()=>{var e;return Y` ${he(null===(e=this.demand.restrictions)||void 0===e?void 0:e.privacy_scope,(e=>Y`<li>${Ne[e.dc]()}</li> `))} `}))} </ul> ${He(d||l,(()=>Y`<p>${this.getDateRangeReviewTemplate(d,l)}</p>`))} ${He((null==u?void 0:u.term)!==n.ALL,(()=>Y` <p> ${we("For:")} <b>${_e[u.term]()}</b> </p> `))} ${He((null==u?void 0:u.target)!==i.SYSTEM,(()=>Y` <p> ${we("From:")} <b>${Oe[u.target]()}</b> </p> `))} ${He(this.demand.message,(()=>Y` <h4>${we("Plus additional info:")}</h4> <span class="extra-msg-txt"><i>${this.demand.message}</i></span> `))} `}getModifyReviewTemplate(){return Y``}getObjectReviewTemplate(){return Y``}getPortabilityReviewTemplate(){return Y``}getRestrictReviewTemplate(){return Y``}getRevokeReviewTemplate(){return Y` <h4>${we("I no longer consent to:")}</h4> <ul class="review-list"> ${he(this.demands,(()=>Y` <li> The storage and processing of my data for the purposes of the prize draw </li> `))} </ul> ${He(this.demands[0].message,(()=>Y` <span>${we("Plus additional info:")}</span> <span class="extra-msg-txt"><i>${this.demands[0].message}</i></span> `))} `}getTransparencyReviewTemplate(){var e;const t=null===(e=this.demands[0].restrictions)||void 0===e?void 0:e.provenance;return Y` <h4>${we("I want to know:")}</h4> <ul id="transparency-review-list" class="review-list"> ${he(this.demands,(e=>Y` <li><b>${ke[e.action]()}</b></li> `))} </ul> ${He((null==t?void 0:t.term)!==n.ALL,(()=>Y` <p> ${we("For:")} <b>${_e[t.term]()}</b> </p> `))} ${He(this.demands[0].message,(()=>Y` <h4>${we("Plus additional info:")}</h4> <span class="extra-msg-txt"><i>${this.demands[0].message}</i></span> `))} `}getOtherDemandReviewTemplate(){return Y``}getDateRangeReviewTemplate(e,t){return e&&t?Y`${we("From")} <b>${null==e?void 0:e.toLocaleDateString("en-GB")}</b> to <b>${null==t?void 0:t.toLocaleDateString("en-GB")}</b>`:e?Y`${we("Since")} <b>${null==e?void 0:e.toLocaleDateString("en-GB")}</b>`:t?Y`${we("Up to")} <b>${null==t?void 0:t.toLocaleDateString("en-GB")}</b>`:Y``}handleEditClick(){this.dispatchEvent(new CustomEvent("component-state-change",{bubbles:!0,composed:!0,detail:{newState:Se.EDIT,newAction:this.demands[0].action.includes("TRANSPARENCY")?e.TRANSPARENCY:this.demands[0].action,demandGroupId:this.demandGroupId}}))}handleDeleteClick(){this.confirmDelete=!0}handleConfirmDeleteClick(){this.dispatchEvent(new CustomEvent("demand-delete",{bubbles:!0,composed:!0,detail:{demandGroupId:this.demandGroupId}})),this.dispatchEvent(new CustomEvent("component-state-change",{bubbles:!0,composed:!0,detail:{newState:Se.MENU}}))}handleCancelDeleteClick(){this.confirmDelete=!1}handleTargetClick(e){const{id:t}=e.target;this.target=t,this.dispatchEvent(new CustomEvent("request-target-change",{bubbles:!0,composed:!0,detail:{id:t}}))}handleSubmitClick(){this.dispatchEvent(new Event("submit-request",{bubbles:!0,composed:!0}))}willUpdate(t){t.has("demands")&&this.demands.length>0&&(this._action=this.demands[0].action,this._action.includes("TRANSPARENCY")?this._action=e.TRANSPARENCY:[this.demand]=this.demands)}render(){return Y`
      <h2><b>${we("My demand(s):")}</b></h2>

      <div class="dmd-review-ctr border--light border--rounded">
        <div id="review-heading-row">
          <h3 id="review-action-heading">${Te[this._action]()} Demand</h3>
          <div id="review-btns">
            <button class='svg-btn' @click=${this.handleEditClick}>
              <img src=${je} alt='edit'/>
            </button>
            <button class='svg-btn' @click=${this.handleDeleteClick}>
              <img src=${Xe} alt='delete'/>
            </button>
          </div>
        </div>
        <div id="review-content">
          ${pe(this._action,[[e.ACCESS,()=>this.getAccessReviewTemplate()],[e.DELETE,()=>this.getDeleteReviewTemplate()],[e.MODIFY,()=>this.getModifyReviewTemplate()],[e.OBJECT,()=>this.getObjectReviewTemplate()],[e.PORTABILITY,()=>this.getPortabilityReviewTemplate()],[e.RESTRICT,()=>this.getRestrictReviewTemplate()],[e.REVOKE,()=>this.getRevokeReviewTemplate()],[e.TRANSPARENCY,()=>this.getTransparencyReviewTemplate()],[e["OTHER.DEMAND"],()=>this.getOtherDemandReviewTemplate()]])}
        </div>
        ${He(this.confirmDelete,(()=>Y` <div id="delete-confirm-popup" class="border--rounded"> <span class="popup-txt">${we("You are about to remove a demand")}</span> <span class="popup-txt">${we(Y`Do you confirm <b>deleting this demand</b>?`)}</span> <div id="popup-btns-ctr"> <button id="confirm-delete-btn" class="btn--curved popup-btn" @click="${this.handleConfirmDeleteClick}"> ${we("Delete")} </button> <button id="cancel-delete-btn" class="btn--curved popup-btn" @click="${this.handleCancelDeleteClick}"> ${we("Cancel")} </button> </div> </div> `))}
        </div>

      </div>
      <!-- Uncomment when supporting multiple demands -->
      <!-- <div id="new-dmd-ctr" class="border--medium border--rounded">
        <span><b>${we("I want to add another demand")}</b></span>
        <button class="svg-btn">
          <img src="packages/prci/src/assets/icons/add-circle.svg" alt="add icon"></img>
        </button>
      </div> -->
      <!-- Submit button -->
      <slotted-dropdown
        id='request-settings'
        .header=${we("Privacy Request Advanced settings")}
        include-buttons
      >
        <div>
          <span> ${we("I address my Privacy Request to:")} </span>
          <fieldset class="provenance-restriction">
            ${Object.values(i).filter((e=>e!==i.ALL)).map((e=>Y` <input id="${e}" name="provenance-target" type="radio" ?checked="${this.target===e}" @click="${this.handleTargetClick}">  <label for="${e}">${Oe[e]()}</label><br> `))}
          </fieldset>
        </div>
      </slotted-dropdown>
      <button
        id="submit-btn"
        class="nav-btn btn--centered  btn--clickable"
        @click=${this.handleSubmitClick}
      >
        ${we("Submit Privacy Request")}
      </button>
    `}};Ke.styles=[Ue,f`:host{display:grid}:host([confirm-delete]) .dmd-review-ctr{background:#c4c4c4;opacity:.7}#review-heading-row{display:grid;grid-area:1/1/2/2;grid-template-columns:repeat(2,1fr);z-index:2}.dmd-review-ctr{display:grid;padding:40px}#review-btns{display:flex;flex-direction:row;justify-content:flex-end;column-gap:20px}.review-btn{width:24px;height:24px}#review-content{display:grid;grid-area:2/1/3/2;z-index:1}.extra-msg-txt{padding:0 0 0 20px}.review-list li:not(:last-child){margin:0 0 20px 0}.review-list{margin:0}#request-settings{margin:20px 0 0 0}#delete-confirm-popup{display:grid;row-gap:20px;background:#fff;padding:40px;z-index:2;grid-area:1/1/3/2;justify-self:center;align-self:center;width:40%;height:150px}.popup-txt{text-align:center}#popup-btns-ctr{display:flex;column-gap:50px;justify-content:center}.popup-btn{min-width:30%;max-width:200px;font-size:18px}#confirm-delete-btn{background:red;color:#fff;border:none}#cancel-delete-btn{background:#fff;color:#000;border:2px solid #18a0fb}#submit-btn{transform:translateY(35px)}h2,h3{margin-top:0}h4{font-weight:400}`],d([de({attribute:!1})],Ke.prototype,"demandGroupId",void 0),d([de({attribute:!1})],Ke.prototype,"demands",void 0),d([de({attribute:!1})],Ke.prototype,"demand",void 0),d([de({type:Boolean,reflect:!0,attribute:"confirm-delete"})],Ke.prototype,"confirmDelete",void 0),d([de({attribute:!1})],Ke.prototype,"target",void 0),d([le()],Ke.prototype,"_action",void 0),Ke=d([ae("review-view")],Ke);let Ve=class extends oe{constructor(){super(...arguments),this.action=e.ACCESS,this.disabled=!1}handleClick(){const e=new CustomEvent("component-state-change",{bubbles:!0,composed:!0,detail:{newState:Se.EDIT,newAction:this.action}});this.dispatchEvent(e)}render(){return Y` <button class="action-button btn--clickable" @click="${this.handleClick}" ?disabled="${this.disabled}"> <strong>${Te[this.action]()}:</strong> ${ke[this.action]()} </button> `}};Ve.styles=[Ue,f`.action-button{border-radius:15px;border:.5px solid #5b5b5b;background-color:#fafafa;padding:10px 40px;height:120px;width:100%;max-width:400px;text-align:left;overflow:hidden;text-overflow:ellipsis}.btn-txt{overflow:hidden}.bolder{font-weight:700}`],d([de({attribute:!1})],Ve.prototype,"action",void 0),d([de({type:Boolean})],Ve.prototype,"disabled",void 0),Ve=d([ae("action-item"),be()],Ve);const Fe=new URL(new URL(new URL("c4caf5d8.svg",import.meta.url).href,import.meta.url).href,import.meta.url).href;let Me=class extends oe{constructor(){super(...arguments),this.prompt="Type of demand I want to submit:",this.includedActions=[]}handleRequestsClick(){this.dispatchEvent(new CustomEvent("component-state-change",{bubbles:!0,composed:!0,detail:{newState:Se.REQUESTS}}))}render(){return Y` <div class="view-ctr border--medium border--rounded"> <div class="prompt-heading"><b>${this.prompt}</b></div> <div class="actions-container"> ${this.includedActions.filter((t=>t!==e["OTHER.DEMAND"])).map((e=>Y`<action-item .action="${e}" ?disabled="${!Ce.get(e)}"></action-item>`))} </div> </div> <div id="below-menu-btns-ctr"> <button id="other-dmd-btn" class="link-btn text--underline"> ${we("Click here if you want to make some other demand (please note that it might take longer to be answered)")} </button> <button id="requests-btn" class="btn--curved border--medium border--rounded btn--clickable" @click="${this.handleRequestsClick}"> <span>${we("Access my submitted Privacy Requests")}</span> <img src="${Fe}" alt=""> </button> </div> `}};Me.styles=[Ue,f`.actions-container{display:grid;grid-template-columns:repeat(3,1fr);gap:50px}.prompt-heading{font-size:16px;text-align:left;padding:0;margin:0 0 35px 0}#other-dmd-btn{margin:20px 0 0 0;justify-self:right;color:#5b5b5b}#below-menu-btns-ctr{display:grid;row-gap:50px;max-width:1170px}#requests-btn{display:flex;justify-content:center;justify-self:center;align-items:center;column-gap:20px;background:0 0;padding:20px;width:35%;font-size:18px;border-radius:15px}#requests-btn img{float:right}`],d([de({type:String})],Me.prototype,"prompt",void 0),d([de({attribute:!1})],Me.prototype,"includedActions",void 0),Me=d([be(),ae("action-menu-view")],Me);let ze=class extends oe{constructor(){super(...arguments),this._requests=[]}connectedCallback(){super.connectedCallback(),r.getInstance().getRequestHistory().then((e=>{this._requests=e.history}))}handleRequestClick(e){this.dispatchEvent(new CustomEvent("component-state-change",{bubbles:!0,composed:!0,detail:{newState:Se.STATUS,requestId:e.target.id}}))}handleNewRequestClick(){this.dispatchEvent(new CustomEvent("component-state-change",{bubbles:!0,composed:!0,detail:{newState:Se.MENU}}))}render(){return Y` <div id="table-ctr"> <div id="requests-list"> <div class="list__row--header"> <span><b>${we("Created")}</b></span> <span><b>${we("Status")}</b></span> <span><b>${we("Demands")}</b></span> <span></span> </div> ${he(this._requests,(e=>Y` <div class="list__row"> <span class="list__field">${new Date(e.date).toLocaleString()}</span> <span class="list__field">${Le[e.status]()}</span> <span class="list__field">${e.demands}</span> <button id="${e.id}" class="link-btn dark-font text--underline list__field" @click="${this.handleRequestClick}"> ${we("See Details")} </button> </div> `))} </div> </div> <div id="new-request-ctr"> <button id="new-request-btn" class="link-btn dark-font text--underline" @click="${this.handleNewRequestClick}"> ${we("Submit a new Privacy Request")} </button> </div> `}};ze.styles=[Ue,f`:host{display:grid;max-width:1000px;margin:auto;row-gap:40px;justify-items:center}#table-ctr{width:100%}#requests-list{display:grid;row-gap:30px}.list__row--header{display:grid;padding:0 10px;grid-column-gap:5px;grid-template-columns:3fr 2fr 1fr 2fr;text-align:center}.list__row{display:grid;grid-template-columns:3fr 2fr 1fr 2fr;grid-column-gap:5px;padding:20px 10px;border:2px solid #5b5b5b;border-radius:10px;box-shadow:0 5px 10px 0 rgba(0,0,0,.5)}.list__field{display:inline-flex;justify-items:center;text-align:center;justify-self:center;align-items:center}.list__field:last-child{padding:0 20px 0 0}#new-request-btn{font-size:18px}`],d([le()],ze.prototype,"_requests",void 0),ze=d([ae("requests-view")],ze);let Je=class extends oe{constructor(){super(...arguments),this.demand={demand_id:"",date:"",requested_action:e.ACCESS,status:o.GRANTED,includes:[],system:""},this.demands=[],this.open=!1}accessResponseTemplate(e){return Y` ${He([o.GRANTED,o["PARTIALLY-GRANTED"]].includes(e.status),(()=>e.data?Y` <div> ${we(Y`Click <a href="${e.data}.json">here</a> to download your data.`)} </div> `:Y`${we("Obtaining data, please wait and refresh the page later.")}`))} `}deleteResponseTemplate(){return Y``}transparencyResponseTemplate(e){return Y` <p> <b>Requested info:</b> ${ke[e.requested_action]()} </p> ${e.answer} `}transparencyDcTemplate(e){return Y` <p> <b>Requested info:</b> ${ke[e.requested_action]()} </p> ${he(e.answer,(e=>Y` ${e}<br> `))} `}transparencyDpoTemplate(e){return Y` <p> <b>Requested info:</b> ${ke[e.requested_action]()} </p> ${e.answer} `}transparencyKnownTemplate(e){return Y` <p> <b>Requested info:</b> ${ke[e.requested_action]()} </p> ${e.answer} `}transparencyLbTemplate(e){return Y` <p> <b>Requested info:</b> ${ke[e.requested_action]()} </p> ${he(e.answer,(e=>Y` Type: ${e.lb_type}<br> Name: ${e.name}<br> Description: ${e.description}<br><br> `))} `}transparencyOrgTemplate(e){return Y` <p> <b>Requested info:</b> ${ke[e.requested_action]()} </p> ${e.answer} `}transparencyPolicyTemplate(e){return Y` <p> <b>Requested info:</b> ${ke[e.requested_action]()} </p> ${e.answer} `}transparencyPcTemplate(e){return Y` <p> <b>Requested info:</b> ${ke[e.requested_action]()} </p> ${he(e.answer,(e=>Y` ${e}<br> `))} `}transparencyProvTemplate(e){const t=e.answer;return Y` <p> <b>Requested info:</b> ${ke[e.requested_action]()} </p> ${he(Object.entries(e.answer),(([e,t])=>{const i=e;return Y` ${he(t,(e=>Y` <p> <i>${i}</i> data: ${pe(e.provenance,[[n.ALL,()=>we(Y``)],[n.USER,()=>we(Y`Provided by a user of the <i>${e.system}</i> system`)],[n["USER.DATA-SUBJECT"],()=>we(Y`Provided by you as a user of the <i>${e.system}</i> system`)],[n.TRANSFERRED,()=>we(Y`Derived by user actions, extracted from other data, or inferred by the <i>${e.system}</i> system`)],[n.DERIVED,()=>we(Y`Obtained by transfer from the <i>${e.system}</i> system`)]])} </p> `))} `}))} ${he(t["AFFILIATION.selector_1"],(e=>Y` Provenance: ${e.provenance}<br> System: ${e.system}<br><br> `))} `}transparencyPurposeTemplate(e){return Y` <p> <b>Requested info:</b> ${ke[e.requested_action]()} </p> ${he(e.answer,(e=>Y` ${e}<br> `))} `}transparencyRetTemplate(e){const n=e.answer;return Y` <p> <b>Requested info:</b> ${ke[e.requested_action]()} </p> ${he(n.NAME,(e=>{return Y`<p> ${n=t.NAME,i=e.policy_type,r=e.duration,o=e.after,Y`<i>${xe[n]().toLocaleUpperCase()}</i> data is kept <i>${Pe[i]().toLocaleUpperCase()}</i> <i>${r}</i> months after <i>${De[o]().toLocaleUpperCase()}</i>`} </p>`;var n,i,r,o}))} `}transparencyWhereTemplate(e){return Y` <p> <b>Requested info:</b> ${ke[e.requested_action]()} </p> ${he(e.answer,(e=>Y` ${e}<br> `))} `}transparencyWhoTemplate(e){return Y` <p> <b>Requested info:</b> ${ke[e.requested_action]()} </p> ${he(e.answer,(e=>Y` ${e}<br> `))} `}handleConfirmCancelClick(){r.getInstance().cancelDemand(this.demand.demand_id)}render(){return Y` <div class="demand-status-ctr ${this.demand.status.toLowerCase()}-dmd border--medium border--rounded"> <span class="status-type-ctr"><b>${this.demand.status}</b></span> <div class="dmd-action-ctr ${this.open?"":"round-bottom"}"> <p class="action-title"> <b>${Te[this.demand.requested_action]()} ${we("Demand")}</b> </p> ${He([o.GRANTED,o["PARTIALLY-GRANTED"],o.DENIED].includes(this.demand.status),(()=>Y` <button class="status-btn ${this.demand.status.toLowerCase()}-${this.open?"open":"closed"}-btn details-btn btn--curved btn--clickable" @click="${()=>{this.open=!this.open}}"> ${we("Details")} </button> `))} ${He(this.demand.status===o["UNDER-REVIEW"],(()=>Y` ${He(this.open,(()=>Y` <button class="status-btn cancel-btn btn--curved btn--clickable" @click="${()=>{this.open=!this.open}}" disabled="disabled"> ${we("Cancel Demand")} </button> `),(()=>Y` <button class="status-btn cancel-btn btn--curved btn--clickable" @click="${()=>{this.open=!this.open}}"> ${we("Cancel Demand")} </button> `))} `))} </div> ${He(this.open,(()=>Y` <div id="${this.demand.demand_id}-details-ctr" class="dmd-details-ctr round-bottom"> ${He(this.demand.status===o["UNDER-REVIEW"],(()=>Y` <span>${we(Y`Do you confirm <strong>canceling your demand?</strong>`)}</span> <div id="cancel-btns-ctr"> <button id="keep-dmd-btn" class="cancel-confirm-btn btn--curved btn--clickable" @click="${()=>{this.open=!this.open}}"> ${we("Keep Demand")} </button> <button id="cancel-dmd-btn" class="cancel-confirm-btn btn--curved btn--clickable" @click="${this.handleConfirmCancelClick}"> <strong>${we("Confirm")}</strong> </button> </div> `),(()=>Y` ${He([o.GRANTED,o["PARTIALLY-GRANTED"],o.DENIED].includes(this.demand.status),(()=>Y` <strong>${we("Your demand has been ")} ${$e[this.demand.status]()}.</strong> `),(()=>Y``))} `))} ${pe(this.demand.requested_action,[[e.ACCESS,()=>this.accessResponseTemplate(this.demand)],[e.TRANSPARENCY,()=>this.transparencyResponseTemplate(this.demand)],[e["TRANSPARENCY.DATA.CATEGORIES"],()=>this.transparencyDcTemplate(this.demand)],[e["TRANSPARENCY.DPO"],()=>this.transparencyDpoTemplate(this.demand)],[e["TRANSPARENCY.KNOWN"],()=>this.transparencyKnownTemplate(this.demand)],[e["TRANSPARENCY.LEGAL.BASES"],()=>this.transparencyLbTemplate(this.demand)],[e["TRANSPARENCY.ORGANIZATION"],()=>this.transparencyOrgTemplate(this.demand)],[e["TRANSPARENCY.POLICY"],()=>this.transparencyPolicyTemplate(this.demand)],[e["TRANSPARENCY.PROCESSING.CATEGORIES"],()=>this.transparencyPcTemplate(this.demand)],[e["TRANSPARENCY.PROVENANCE"],()=>this.transparencyProvTemplate(this.demand)],[e["TRANSPARENCY.PURPOSE"],()=>this.transparencyPurposeTemplate(this.demand)],[e["TRANSPARENCY.RETENTION"],()=>this.transparencyRetTemplate(this.demand)],[e["TRANSPARENCY.WHERE"],()=>this.transparencyWhereTemplate(this.demand)],[e["TRANSPARENCY.WHO"],()=>this.transparencyWhoTemplate(this.demand)]])} ${He(this.demand.message,(()=>Y` <p>Included message:</p> <i>${this.demand.message}</i> `))} </div> `))} </div> `}};Je.styles=[Ue,f`.demand-status-ctr{display:flex;flex-direction:column;border-radius:15px;border:2px solid #e6e6e6;box-shadow:0 5px 10px 0 rgba(0,0,0,.5)}.status-type-ctr{font-size:16px}.demand-status-ctr span{padding:10px 0}.dmd-action-ctr{display:grid;grid-template-columns:repeat(2,1fr);align-items:center;justify-items:center;column-gap:20px;padding:20px 20px;background:#fff}.granted-dmd{background-color:#51d214;border-color:#51d214}.granted-dmd button{border:2px solid #51d214}:host([open]) .granted-dmd button{background-color:#51d214}.denied-dmd{background-color:#f90707;border-color:#f90707}.denied-dmd button{border:2px solid #f90707}:host([open]) .denied-dmd button{background-color:#f90707}.partially-granted-dmd{background-color:#ff7a00;border-color:#ff7a00}.partially-granted-dmd button{border:2px solid #ff7a00}:host([open]) .partially-granted-dmd button{background-color:#ff7a00}:host([open]) .details-btn{color:#fff}.status-btn{background:0 0;padding:10px 40px;width:100%;justify-self:center;align-self:flex-end;float:right;font-size:16px;font-weight:700}.details-btn{background-color:#fff;color:#000}.cancel-btn{border:2px solid #f90707}.cancel-confirm-btn{background:0 0;padding:10px 40px}#cancel-dmd-btn{border-color:#f90707}.round-bottom{border-bottom-left-radius:15px;border-bottom-right-radius:15px}.granted-dmd span{color:#fff}.denied-dmd span{color:#fff}.partially-granted-dmd span{color:#fff}.under-review-dmd{background-color:#e6e6e6;border-color:#e6e6e6}.canceled-dmd{background-color:#ffc1bd;border-color:#f90707}.canceled-dmd .status-type-ctr{border-bottom:2px solid #f90707}.canceled-dmd .dmd-action-ctr{grid-template-columns:1fr}#cancel-btns-ctr{display:flex;justify-content:center;column-gap:10px}.action-title{justify-self:center}.dmd-details-ctr{display:grid;background-color:#fff;row-gap:20px;padding:10px 20px 30px 20px}p{margin:0;padding:0}`],d([de({attribute:!1})],Je.prototype,"demand",void 0),d([de({attribute:!1})],Je.prototype,"demands",void 0),d([de({type:Boolean,reflect:!0})],Je.prototype,"open",void 0),Je=d([ae("status-view-item")],Je);const Be=new URL(new URL(new URL("7c73c056.svg",import.meta.url).href,import.meta.url).href,import.meta.url).href;let qe=class extends oe{constructor(){super(...arguments),this.requestId="",this.newRequest=!1,this._requestDate=new Date,this._completedDemands=[],this._processingDemands=[],this._cancelledDemands=[],this._intervalId=void 0}reloadRequest(){r.getInstance().hasApiToken()?r.getInstance().getRequest(this.requestId).then((t=>{t.length>0&&(this._requestDate=new Date(t[0].date),this._completedDemands=t.filter((e=>[o.GRANTED,o["PARTIALLY-GRANTED"],o.DENIED].includes(e.status))),this._processingDemands=t.filter((e=>e.status===o["UNDER-REVIEW"])),this._cancelledDemands=t.filter((e=>e.status===o.CANCELED))),0===this._processingDemands.length&&this._intervalId&&!this._completedDemands.some((t=>t.requested_action===e.ACCESS&&!t.data))?(clearInterval(this._intervalId),this._intervalId=void 0):this._intervalId||0===this._processingDemands.length||(this._intervalId=setInterval((()=>this.reloadRequest()),3e3))})):this._intervalId=setInterval((()=>this.reloadRequest()),3e3)}willUpdate(e){e.has("requestId")&&""!==this.requestId&&this.reloadRequest()}handleCopyIdClick(){navigator.clipboard.writeText(this.requestId)}handleCopyLinkClick(){navigator.clipboard.writeText(function(e){const t=new URL(document.URL);return t.searchParams.set("requestId",e),t}(this.requestId).toString())}handleBackClick(){Ze("requestId"),this.dispatchEvent(new CustomEvent("component-state-change",{bubbles:!0,composed:!0,detail:{newState:Se.REQUESTS}}))}handleNewRequestClick(){Ze("requestId"),this.dispatchEvent(new CustomEvent("component-state-change",{bubbles:!0,composed:!0,detail:{newState:Se.MENU}}))}disconnectedCallback(){this._intervalId&&clearInterval(this._intervalId)}render(){return Y` ${He(this._processingDemands.length>0,(()=>Y` <p> ${we(fe`Your Privacy Request, sent on
              ${this._requestDate.toLocaleDateString("en-gb")}, is currently
              being processed.`)} </p> ${He(this._completedDemands.length>0,(()=>Y` <div class="req-progress-ctr"> <p>${we("At the moment:")}</p> <p> <b>${we(Y`${this._completedDemands.length} demand(s) have been completed${He(this._cancelledDemands.length>0,(()=>Y` and ${this._cancelledDemands.length} demand(s) have been cancelled`))}`)}</b> </p> <p> ${we(Y`${this._processingDemands.length} demand(s) are being processed`)} </p> </div> `))} `),(()=>Y` <p> ${we(Y`Your Privacy Request, sent on ${this._requestDate.toLocaleDateString("en-gb")}, has been processed.`)} </p> `))} <div> <button class="svg-btn" @click="${this.handleCopyLinkClick}"> <img src="${Be}" alt="Copy status page link">&nbsp; <span class="text--underline">${we("Copy link to this page")}</span> </button> </div> ${He(this._completedDemands.length>0,(()=>Y` <div id="completed-dmds-ctr" class="dmds-ctr border--medium border--rounded"> <span><b>${we("Completed Demand(s)")}</b></span> ${he(this._completedDemands,(e=>Y`<status-view-item .demand="${e}"></status-view-item>`))} </div> `))} ${He(this._processingDemands.length>0,(()=>Y` <div id="processing-dmds-ctr" class="dmds-ctr border--medium border--rounded"> <span><b>${we("Processing Demand(s)")}</b></span> ${he(this._processingDemands,(e=>Y`<status-view-item .demand="${e}"></status-view-item>`))} </div> `))} ${He(this._cancelledDemands.length>0,(()=>Y` <div id="cancelled-dmds-ctr" class="dmds-ctr border--medium border--rounded"> <span><b>${we("Cancelled Demand(s)")}</b></span> ${he(this._cancelledDemands,(e=>Y`<status-view-item .demand="${e}"></status-view-item>`))} </div> `))} <div id="nav-btns-ctr"> <button class="status-nav-btn link-btn dark-font text--underline" @click="${this.handleBackClick}"> ${we("Back to my Requests")} </button> <button class="status-nav-btn link-btn dark-font text--underline" @click="${this.handleNewRequestClick}"> ${we("Submit a new Privacy Request")} </button> </div> `}};qe.styles=[Ue,f`:host{display:grid;row-gap:20px;max-width:900px;text-align:center;margin:auto}.req-progress-ctr{display:grid;row-gap:10px}.dmds-ctr{display:grid;row-gap:20px;padding:30px 40px 40px 40px}.dmds-ctr span{padding:0 0 20px 0}#completed-dmds-ctr{border:1px solid #18a0fb;background:rgba(24,160,251,.11)}#nav-btns-ctr{display:flex;column-gap:20px;justify-content:center;justify-items:center}.status-nav-btn{font-size:18px}p{display:flex;align-items:center;justify-content:center}button{display:inline-flex;align-items:center}`],d([de({type:String,attribute:"request-id"})],qe.prototype,"requestId",void 0),d([de({type:Boolean})],qe.prototype,"newRequest",void 0),d([le()],qe.prototype,"_requestDate",void 0),d([le()],qe.prototype,"_completedDemands",void 0),d([le()],qe.prototype,"_processingDemands",void 0),d([le()],qe.prototype,"_cancelledDemands",void 0),d([le()],qe.prototype,"_intervalId",void 0),qe=d([ae("status-view")],qe);class Qe extends oe{constructor(){super(...arguments),this.demandState=Ae.EDIT_OPEN,this.demandGroupId=self.crypto.randomUUID(),this.demands=[]}setDemand(e){this.demands.push(e)}deleteDemand(e){this.demands.splice(this.demands.findIndex((t=>t.action===e)),1)}addToPrivacyRequest(e,t){this.dispatchEvent(new CustomEvent("demand-set-multiple",{bubbles:!0,composed:!0,detail:{demandGroupId:e,demands:t}}))}handleBackClick(){this.dispatchEvent(new CustomEvent("component-state-change",{bubbles:!0,composed:!0,detail:{newState:Se.MENU}}))}handleAddClick(){this.validate()&&(this.demands=this.buildDemands(),this.addToPrivacyRequest(this.demandGroupId,this.demands),this.dispatchEvent(new CustomEvent("component-state-change",{bubbles:!0,composed:!0,detail:{newState:Se.REVIEW}})))}render(){return Y` ${pe(this.demandState,[[Ae.EDIT_OPEN,()=>this.getFormTemplate()]])} <div class="btns-ctr"> <button id="back-btn" class="nav-btn btn--centered btn--clickable" @click="${this.handleBackClick}"> ${we("Back")} </button> <button id="add-btn" class="nav-btn btn--centered btn--clickable" @click="${this.handleAddClick}"> ${we("Next")} </button> </div> `}}Qe.styles=[Ue,f`:host{margin:0}.btns-ctr{display:grid;grid-template-columns:1fr auto 1fr;padding:0;margin:0;transform:translateY(35px)}#back-btn{grid-column:1/2;min-width:60%;max-width:300px}#add-btn{grid-column:3/4;min-width:60%;max-width:300px}h1,h2,h3,h4,h5,h6{padding:0;margin:0}h2{font-size:20px}h3{font-size:16px;font-weight:400}`],d([de({type:Number,attribute:"demand-state"})],Qe.prototype,"demandState",void 0),d([de({type:String})],Qe.prototype,"demandGroupId",void 0),d([de({attribute:!1})],Qe.prototype,"demands",void 0);const et=new URL(new URL(new URL("4ab96fc4.svg",import.meta.url).href,import.meta.url).href,import.meta.url).href,tt=new URL(new URL(new URL("33bddcd8.svg",import.meta.url).href,import.meta.url).href,import.meta.url).href,nt=new URL(new URL(new URL("6ae513a6.svg",import.meta.url).href,import.meta.url).href,import.meta.url).href,it=new URL(new URL(new URL("a302f28e.svg",import.meta.url).href,import.meta.url).href,import.meta.url).href,rt=new URL(new URL(new URL("b39eb360.svg",import.meta.url).href,import.meta.url).href,import.meta.url).href;var ot;!function(e){e[e.ALL=0]="ALL",e[e.SOME=1]="SOME",e[e.NONE=2]="NONE"}(ot||(ot={}));let st=class extends oe{constructor(){super(...arguments),this.choices=[],this.selectionState=ot.ALL,this.componentMode=Re.CLOSED,this.includeAll=!0,this.allChecked=!0,this.allMessage=we("Select all"),this.eventPrefix="checklist-click",this.includeButtons=!1,this.includeOther=!1,this.selectedChoices=new Set}selectChoice(e){this.selectedChoices.add(e);const t=new CustomEvent(`${this.eventPrefix}-select`,{bubbles:!0,composed:!0,detail:{id:e,"first-selection":1===this.selectedChoices.size}});this.dispatchEvent(t),this.updateSelectionState()}deleteChoice(e){this.selectedChoices.delete(e);const t=new CustomEvent(`${this.eventPrefix}-deselect`,{bubbles:!0,composed:!0,detail:{id:e,"none-selected":0===this.selectedChoices.size}});this.dispatchEvent(t),this.updateSelectionState()}handleChoiceClick(e){var t,n,i;const{id:r,checked:o}=e.target;if("all-checkbox"===r){const e=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelectorAll(".choice-checkbox");o?(this.allChecked=!0,null==e||e.forEach((e=>{const t=e;t.checked||(t.checked=!0,this.selectChoice(t.id))}))):(this.allChecked=!1,null==e||e.forEach((e=>{const t=e;t.checked&&(t.checked=!1,this.deleteChoice(t.id))})))}else if(o){this.selectChoice(r);(null===(n=this.shadowRoot)||void 0===n?void 0:n.getElementById("all-checkbox")).checked=!0}else if(this.deleteChoice(r),0===this.selectedChoices.size){(null===(i=this.shadowRoot)||void 0===i?void 0:i.getElementById("all-checkbox")).checked=!1}}handleOtherClick(e){this.dispatchEvent(new CustomEvent(`${this.eventPrefix}-other-click`,{bubbles:!0,composed:!0,detail:{checked:e.target.checked}}))}handleOtherInput(e){this.dispatchEvent(new CustomEvent(`${this.eventPrefix}-other-input`,{bubbles:!0,composed:!0,detail:{text:e.target.value}}))}updateSelectionState(){switch(this.selectedChoices.size){case 0:this.selectionState=ot.NONE;break;case this.choices.length:this.selectionState=ot.ALL;break;default:this.selectionState=ot.SOME}}getDisplayChoices(){switch(this.componentMode){case Re.CLOSED:return[];case Re.OPEN:return Array.from(this.choices);case Re.PARTIAL:return Array.from(this.choices).filter((e=>this.selectedChoices.has(e.id)));default:return[]}}handleButtonClick(){this.componentMode===Re.CLOSED||this.componentMode===Re.PARTIAL?this.componentMode=Re.OPEN:this.componentMode=Re.CLOSED}willUpdate(e){e.has("choices")&&(this.choices.forEach((e=>{e.checked&&this.selectedChoices.add(e.id)})),this.updateSelectionState())}render(){return Y` <div class="choices-list"> ${He(this.includeAll&&!(this.componentMode===Re.PARTIAL&&this.selectionState===ot.SOME),(()=>Y` <div class="all-ctr"> <input id="all-checkbox" type="checkbox" @click="${this.handleChoiceClick}" ?checked="${this.allChecked}"> <label for="all-checkbox"> ${pe(this.selectionState,[[ot.NONE,()=>Y`<img src="${nt}" alt="empty checkbox">`],[ot.SOME,()=>Y`<img src="${tt}" alt="dash checkbox">`],[ot.ALL,()=>Y`<img src="${et}" alt="checked checkbox">`]])} </label> <span class="all-prefix">${this.allMessage}</span> </div> `))} ${this.getDisplayChoices().map((e=>Y` <div class="choice-ctr"> <input id="${e.id}" class="choice-checkbox" type="checkbox" ?checked="${e.checked}" ?disabled="${e.disabled}" @change="${this.handleChoiceClick}"> <label>${e.description}</label> </div> `))} ${He(this.includeOther&&this.componentMode===Re.OPEN,(()=>Y` <div id="other-data-ctr"> <div class="choice-ctr"> <input id="other-checkbox" type="checkbox" @change="${this.handleOtherClick}"> <label>${we(Y`<b>OTHER-DATA:</b> Specify another type of data`)}</label> </div> <div id="other-data-input-ctr"> <span>${we("Other data type:")}</span> <input id="other-data-input" type="text"> </div> </div> `))} </div> ${He(this.includeButtons,(()=>Y` <button class="svg-btn" @click="${this.handleButtonClick}"> ${He(this.componentMode===Re.OPEN,(()=>Y`<img src="${it}" alt="close arrow">`),(()=>Y`<img src="${rt}" alt="open arrow">`))} </button> `))} `}};st.styles=[Ue,f`:host{display:grid}:host([selection-state='0']) .choice-checkbox{opacity:.5}:host([selection-state='0']) #all-checkbox:checked+label{opacity:1}:host([selection-state='1']) #all-checkbox+label{opacity:1}:host([selection-state='2']) .choice-checkbox{opacity:1}.choices-list{display:grid;overflow:hidden;grid-template-columns:1fr;row-gap:35px;padding:35px 0 25px 0}.choice-ctr{padding:0 30px}.all-ctr{display:flex;align-items:center;padding:0 30px}.all-prefix{padding:0 0 0 4px}#all-checkbox{display:none}#all-checkbox+label{height:13px;width:13px;display:inline-block;margin:3px 3px 3px 4px}#other-data-input-ctr{display:flex;column-gap:5px;padding:20px 55px;align-items:center}#other-data-input input{height:30px;width:100%;background:#f8f8fc;border:1px solid #e5e5e5;border-radius:4px}#other-data-input span{flex-shrink:0}`],d([de({type:Array})],st.prototype,"choices",void 0),d([de({type:Number,reflect:!0,attribute:"selection-state"})],st.prototype,"selectionState",void 0),d([de({type:Number,reflect:!0,attribute:"component-mode"})],st.prototype,"componentMode",void 0),d([de({type:Boolean})],st.prototype,"includeAll",void 0),d([de({type:Boolean,reflect:!0})],st.prototype,"allChecked",void 0),d([de({type:String,attribute:"all-message"})],st.prototype,"allMessage",void 0),d([de({type:String,attribute:"event-prefix"})],st.prototype,"eventPrefix",void 0),d([de({type:Boolean,attribute:"include-buttons"})],st.prototype,"includeButtons",void 0),d([de({type:Boolean,attribute:"include-other"})],st.prototype,"includeOther",void 0),d([le()],st.prototype,"selectedChoices",void 0),st=d([ae("all-checklist")],st);let at=class extends Qe{constructor(){super(),this.transparencyActions=Object.values(e).filter((e=>e.includes("TRANSPARENCY."))),this.advancedSettings=[],this.restrictions={},this._additionalMessage="",this.addEventListener("transparency-action-select",(e=>{const t={action:e.detail.id,message:this._additionalMessage,restrictions:this.restrictions};this.setDemand(t)})),this.addEventListener("transparency-action-deselect",(e=>{const{id:t}=e.detail;this.deleteDemand(t)}))}handleProvenanceTermClick(e){const{id:t}=e.target;this.restrictions.provenance={term:t},this.demands.forEach((e=>{e.restrictions.provenance.term=t}))}handleAdditionalMessageInput(e){this._additionalMessage=e.target.value,this.demands.forEach((e=>{e.message=this._additionalMessage}))}buildDemands(){return this.demands}validate(){return!0}getFormTemplate(){var e;const t=Object.values(this.demands).map((e=>e.action));return Y` <p id="edit-heading-1"> <b>${we("Details of my TRANSPARENCY Demand")}</b> </p> <div class="border--light border--rounded transparency-options"> <span slot="prompt"><b>${we("I want to know:")}</b></span> <all-checklist .choices="${this.transparencyActions.map((e=>{var n;return{id:e,description:ke[e](),checked:t.includes(e),disabled:null===(n=!Ce.get(e))||void 0===n||n}}))}" all-message="${we("ALL information related to data processing practices and know if the organization has data on me")}" component-mode="${Re.CLOSED}" event-prefix="transparency-action" include-buttons></all-checklist> </div> <slotted-dropdown header="${we("Advanced settings")}" include-buttons> <div> <span> ${we("My demand applies to data from the following provenance:")} </span> <fieldset class="provenance-restriction"> ${Object.values(n).map((e=>{var t,n;return Y` <input id="${e}" name="provenance-term" type="radio" ?checked="${(null===(n=null===(t=this.demands[0].restrictions)||void 0===t?void 0:t.provenance)||void 0===n?void 0:n.term)===e}" @click="${this.handleProvenanceTermClick}">  <label for="${e}">${_e[e]()}</label><br> `}))} </fieldset> </div> </slotted-dropdown> <slotted-dropdown header="${we("Additional message (optional)")}" include-buttons> <div class="additional-msg-ctr"> <span class="">${we("My additional message:")}</span> <span><i>${we("Please note that adding a personalized message might lead to the demand taking longer to be processed")}</i></span> <textarea id="additional-msg" class="std-txt-area" name="paragraph_text" cols="50" rows="10" @input="${this.handleAdditionalMessageInput}" .value="${0!==this.demands.length&&null!==(e=this.demands[0].message)&&void 0!==e?e:""}"></textarea> </div> </slotted-dropdown> `}};at.styles=[Qe.styles,Ue,f`:host{display:grid;row-gap:35px;align-content:flex-start;margin:0}.transparency-options{padding:40px 40px 20px 40px}#dmd-ctr{display:grid;row-gap:20px}#dmd-ctr ul{margin:0}#dmd-ctr li:not(:last-child){margin-bottom:15px}#edit-heading-1{font-weight:700;grid-column:1/2;padding:0}p{margin:0}.additional-msg-ctr{display:grid;row-gap:20px;margin:0 0 25px 0}`],d([de({type:Array,attribute:!1})],at.prototype,"transparencyActions",void 0),d([de({type:Array})],at.prototype,"advancedSettings",void 0),d([de({attribute:!1})],at.prototype,"restrictions",void 0),d([le()],at.prototype,"_additionalMessage",void 0),at=d([ae("transparency-form")],at);class ct extends oe{constructor(){super(...arguments),this.demandState=Ae.EDIT_OPEN,this.demand={action:e.ACCESS},this.demandGroupId=self.crypto.randomUUID(),this.default=!1}addToPrivacyRequest(e,t){this.dispatchEvent(new CustomEvent("demand-set",{bubbles:!0,composed:!0,detail:{demandGroupId:e,demand:t}}))}handleBackClick(){this.dispatchEvent(new CustomEvent("component-state-change",{bubbles:!0,composed:!0,detail:{newState:Se.MENU}}))}handleAddClick(){this.validate()&&(this.addToPrivacyRequest(this.demandGroupId,this.demand),this.dispatchEvent(new CustomEvent("component-state-change",{bubbles:!0,composed:!0,detail:{newState:Se.REVIEW}})))}willUpdate(e){e.has("default")&&this.default&&(this.demand=this.getDefaultDemand())}render(){return Y` <div> ${pe(this.demandState,[[Ae.EDIT_OPEN,()=>this.getFormTemplate(this.demand)]])} </div> <div class="btns-ctr"> <button id="back-btn" class="nav-btn btn--centered btn--clickable" @click="${this.handleBackClick}"> ${we("Back")} </button> <button id="add-btn" class="nav-btn btn--centered btn--clickable" @click="${this.handleAddClick}"> ${we("Next")} </button> </div> `}}ct.styles=[Ue,f`:host{margin:0}.btns-ctr{display:grid;grid-template-columns:1fr auto 1fr;padding:0;margin:0;transform:translateY(35px)}#back-btn{grid-column:1/2;min-width:60%;max-width:300px}#add-btn{grid-column:3/4;min-width:60%;max-width:300px}`],d([de({type:Number,attribute:"demand-state"})],ct.prototype,"demandState",void 0),d([de({attribute:!1})],ct.prototype,"demand",void 0),d([de({type:String})],ct.prototype,"demandGroupId",void 0),d([de({type:Boolean})],ct.prototype,"default",void 0);let dt=class extends ct{constructor(){super(),this.allowedDataCategories=[],this.addEventListener("access-option-select",(e=>{const{id:t}=e.detail;this.demand.restrictions.privacy_scope.push({dc:t,pc:s.ALL,pp:a.ALL})})),this.addEventListener("access-option-deselect",(e=>{const{id:t}=e.detail;this.demand.restrictions.privacy_scope.splice(this.demand.restrictions.privacy_scope.findIndex((e=>e.dc===t)),1)}))}handleAdditionalMessageInput(e){const{value:t}=e.target;this.demand.message=t}handleProvenanceTermClick(e){const{id:t}=e.target;this.demand.restrictions.provenance.term=t}handleProvenanceTargetClick(e){const{id:t}=e.target;this.demand.restrictions.provenance.target=t}handleDateRestrictionInput(e){var t,n,i,r;const{id:o,value:s}=e.target;"date-start"===o?s?this.demand.restrictions.date_range.from=new Date(s):null===(n=null===(t=this.demand.restrictions)||void 0===t?void 0:t.date_range)||void 0===n||delete n.from:"date-end"===o&&(s?this.demand.restrictions.date_range.to=new Date(s):null===(r=null===(i=this.demand.restrictions)||void 0===i?void 0:i.date_range)||void 0===r||delete r.to)}validate(){return!0}getDefaultDemand(){return{action:e.ACCESS,restrictions:{privacy_scope:this.allowedDataCategories.map((e=>({dc:e,pc:s.ALL,pp:a.ALL}))),provenance:{term:n.ALL,target:i.SYSTEM},date_range:{}}}}getFormTemplate(e){var t,r,o,s,a,c,d,l,u;return Y` <div id="access-form"> <p id="edit-heading-1"> <b>${we("Details of my ACCESS Demand")}</b> </p> <div class="border--light border--rounded access-options"> <span slot="prompt">${we("I want to access:")}</span> <all-checklist .choices="${this.allowedDataCategories.map((t=>{var n,i;return{id:t,description:Ne[t](),checked:-1!==(null===(i=null===(n=e.restrictions)||void 0===n?void 0:n.privacy_scope)||void 0===i?void 0:i.findIndex((e=>e.dc===t))),disabled:!1}}))}" all-message="${we("ALL categories of data the organization has data on me")}" component-mode="${Re.CLOSED}" event-prefix="access-option" include-buttons></all-checklist> </div> <slotted-dropdown header="${we("Advanced settings")}" include-buttons> <div class="date-restriction"> <p> ${we("Specify a date range for the selected category(ies) of data:")} </p> <div> <span>${we("From")}</span> <input id="date-start" type="date" .value="${(null===(r=null===(t=e.restrictions)||void 0===t?void 0:t.date_range)||void 0===r?void 0:r.from)?null===(s=null===(o=e.restrictions)||void 0===o?void 0:o.date_range)||void 0===s?void 0:s.from.toISOString().split("T")[0]:""}" @input="${this.handleDateRestrictionInput}"> <span>${we("to")}</span> <input id="date-end" type="date" .value="${(null===(c=null===(a=e.restrictions)||void 0===a?void 0:a.date_range)||void 0===c?void 0:c.to)?null===(l=null===(d=e.restrictions)||void 0===d?void 0:d.date_range)||void 0===l?void 0:l.to.toISOString().split("T")[0]:""}" @input="${this.handleDateRestrictionInput}"> </div> </div> <div> <span> ${we("My demand applies to data from the following provenance:")} </span> <fieldset class="provenance-restriction"> ${Object.values(n).map((t=>{var n,i;return Y` <input id="${t}" name="provenance-term" type="radio" ?checked="${(null===(i=null===(n=e.restrictions)||void 0===n?void 0:n.provenance)||void 0===i?void 0:i.term)===t}" @click="${this.handleProvenanceTermClick}">  <label for="${t}">${_e[t]()}</label><br> `}))} </fieldset> </div> <div> <span> ${we("I address my demand to:")} </span> <fieldset class="provenance-restriction"> ${Object.values(i).filter((e=>e!==i.ALL)).map((t=>{var n,i;return Y` <input id="${t}" name="provenance-target" type="radio" ?checked="${(null===(i=null===(n=e.restrictions)||void 0===n?void 0:n.provenance)||void 0===i?void 0:i.target)===t}" @click="${this.handleProvenanceTargetClick}">  <label for="${t}">${Oe[t]()}</label><br> `}))} </fieldset> </div> </slotted-dropdown> <slotted-dropdown header="${we("Additional message (optional)")}" include-buttons> <div class="additional-msg-ctr"> <span class="">${we("My additional message:")}</span> <span><i>${we("Please note that adding a personalized message might lead to the demand taking longer to be processed")}</i></span> <textarea id="additional-msg" class="std-txt-area" name="paragraph_text" cols="50" rows="10" @input="${this.handleAdditionalMessageInput}" .value="${null!==(u=e.message)&&void 0!==u?u:""}"></textarea> </div> </slotted-dropdown> </div> `}};dt.styles=[ct.styles,Ue,f`#access-form{display:grid;row-gap:35px;align-content:flex-start;margin:0}.access-options{padding:40px 40px 20px 40px}#dmd-ctr{display:grid;row-gap:20px}#dmd-ctr ul{margin:0}#dmd-ctr li:not(:last-child){margin-bottom:15px}#edit-heading-1{font-weight:700;grid-column:1/2;padding:0}p{margin:0}.additional-msg-ctr{display:grid;row-gap:20px;margin:0 0 25px 0}`],d([de({type:Array,attribute:!1})],dt.prototype,"allowedDataCategories",void 0),dt=d([ae("access-form")],dt);let lt=class extends ct{constructor(){super(),this.allowedDataCategories=[],this.addEventListener("delete-option-select",(e=>{const{id:t}=e.detail;this.demand.restrictions.privacy_scope.push({dc:t,pc:s.ALL,pp:a.ALL})})),this.addEventListener("delete-option-deselect",(e=>{const{id:t}=e.detail;this.demand.restrictions.privacy_scope.splice(this.demand.restrictions.privacy_scope.findIndex((e=>e.dc===t)),1)}))}handleAdditionalMessageInput(e){const{value:t}=e.target;this.demand.message=t}handleProvenanceTermClick(e){const{id:t}=e.target;this.demand.restrictions.provenance.term=t}handleProvenanceTargetClick(e){const{id:t}=e.target;this.demand.restrictions.provenance.target=t}handleDateRestrictionInput(e){var t,n,i,r;const{id:o,value:s}=e.target;"date-start"===o?s?this.demand.restrictions.date_range.from=new Date(s):null===(n=null===(t=this.demand.restrictions)||void 0===t?void 0:t.date_range)||void 0===n||delete n.from:"date-end"===o&&(s?this.demand.restrictions.date_range.to=new Date(s):null===(r=null===(i=this.demand.restrictions)||void 0===i?void 0:i.date_range)||void 0===r||delete r.to)}validate(){return!0}getDefaultDemand(){return{action:e.DELETE,restrictions:{privacy_scope:this.allowedDataCategories.map((e=>({dc:e,pc:s.ALL,pp:a.ALL}))),provenance:{term:n.ALL,target:i.SYSTEM},date_range:{}}}}getFormTemplate(e){var t,r,o,s,a,c,d,l,u;return Y` <div id="delete-form"> <p id="edit-heading-1"> <b>${we("Details of my DELETE Demand")}</b> </p> <div class="border--light border--rounded delete-options"> <span slot="prompt">${we("I want to delete:")}</span> <all-checklist .choices="${this.allowedDataCategories.map((t=>{var n,i;return{id:t,description:Ne[t](),checked:-1!==(null===(i=null===(n=e.restrictions)||void 0===n?void 0:n.privacy_scope)||void 0===i?void 0:i.findIndex((e=>e.dc===t))),disabled:!1}}))}" all-message="${we("ALL categories of data the organization has data on me")}" component-mode="${Re.CLOSED}" event-prefix="delete-option" include-buttons></all-checklist> </div> <slotted-dropdown header="${we("Advanced settings")}" include-buttons> <div class="date-restriction"> <p> ${we("Specify a date range for the selected category(ies) of data:")} </p> <div> <span>${we("From")}</span> <input id="date-start" type="date" .value="${(null===(r=null===(t=e.restrictions)||void 0===t?void 0:t.date_range)||void 0===r?void 0:r.from)?null===(s=null===(o=e.restrictions)||void 0===o?void 0:o.date_range)||void 0===s?void 0:s.from.toISOString().split("T")[0]:""}" @input="${this.handleDateRestrictionInput}"> <span>${we("to")}</span> <input id="date-end" type="date" .value="${(null===(c=null===(a=e.restrictions)||void 0===a?void 0:a.date_range)||void 0===c?void 0:c.to)?null===(l=null===(d=e.restrictions)||void 0===d?void 0:d.date_range)||void 0===l?void 0:l.to.toISOString().split("T")[0]:""}" @input="${this.handleDateRestrictionInput}"> </div> </div> <div> <span> ${we("My demand applies to data from the following provenance:")} </span> <fieldset class="provenance-restriction"> ${Object.values(n).map((t=>{var n,i;return Y` <input id="${t}" name="provenance-term" type="radio" ?checked="${(null===(i=null===(n=e.restrictions)||void 0===n?void 0:n.provenance)||void 0===i?void 0:i.term)===t}" @click="${this.handleProvenanceTermClick}">  <label for="${t}">${_e[t]()}</label><br> `}))} </fieldset> </div> <div> <span> ${we("I address my demand to:")} </span> <fieldset class="provenance-restriction"> ${Object.values(i).filter((e=>e!==i.ALL)).map((t=>{var n,i;return Y` <input id="${t}" name="provenance-target" type="radio" ?checked="${(null===(i=null===(n=e.restrictions)||void 0===n?void 0:n.provenance)||void 0===i?void 0:i.target)===t}" @click="${this.handleProvenanceTargetClick}">  <label for="${t}">${Oe[t]()}</label><br> `}))} </fieldset> </div> </slotted-dropdown> <slotted-dropdown header="${we("Additional message (optional)")}" include-buttons> <div class="additional-msg-ctr"> <span class="">${we("My additional message:")}</span> <span><i>${we("Please note that adding a personalized message might lead to the demand taking longer to be processed")}</i></span> <textarea id="additional-msg" class="std-txt-area" name="paragraph_text" cols="50" rows="10" @input="${this.handleAdditionalMessageInput}" .value="${null!==(u=e.message)&&void 0!==u?u:""}"></textarea> </div> </slotted-dropdown> </div> `}};lt.styles=[ct.styles,Ue,f`#delete-form{display:grid;row-gap:35px;align-content:flex-start;margin:0}.delete-options{padding:40px 40px 20px 40px}#dmd-ctr{display:grid;row-gap:20px}#dmd-ctr ul{margin:0}#dmd-ctr li:not(:last-child){margin-bottom:15px}#edit-heading-1{font-weight:700;grid-column:1/2;padding:0}p{margin:0}.additional-msg-ctr{display:grid;row-gap:20px;margin:0 0 25px 0}`],d([de({type:Array,attribute:!1})],lt.prototype,"allowedDataCategories",void 0),lt=d([ae("delete-form")],lt);let ut=class extends Qe{constructor(){super(),this._additionalMessage="",this._revokeAll=!0,this._allConsentIds=[],this._selectedConsentIds=new Set,this._allConsentIds=["28b5bee0-9db8-40ec-840e-64eafbfb9ddd"]}handleAdditionalMessageInput(e){this._additionalMessage=e.target.value,this.demands.forEach((e=>{e.message=this._additionalMessage}))}handleRevokeAllClick(){this._revokeAll=!0,this._selectedConsentIds=new Set(this._allConsentIds)}handleRevokeSomeClick(){this._revokeAll=!1,this._selectedConsentIds.clear()}handleConsentClick(e){const{id:t,checked:n}=e.target;t&&n?this._selectedConsentIds.add(t):t&&this._selectedConsentIds.delete(t)}validate(){return!0}buildDemands(){return Array.from(this._selectedConsentIds).map((t=>({action:e.REVOKE,restrictions:{consent:{id:t}}})))}willUpdate(e){e.has("demands")&&(this._selectedConsentIds.clear(),this.demands.forEach((e=>{e.restrictions&&e.restrictions.consent&&this._selectedConsentIds.add(e.restrictions.consent.id)})),this._selectedConsentIds.size>0?this._revokeAll=this._allConsentIds.every((e=>this._selectedConsentIds.has(e))):(this._revokeAll=!0,this._selectedConsentIds=new Set(this._allConsentIds)))}getFormTemplate(){return Y` <div id="revoke-consent-form-ctr"> <h2>${we("Details of my REVOKE CONSENT Demand")}</h2> ${He(this._allConsentIds.length>0,(()=>Y` <fieldset id="revoke-type-btns"> <input id="revoke-all-radio" name="revoke-type" type="radio" ?checked="${this._revokeAll}" @click="${this.handleRevokeAllClick}"> <label for="revoke-all-radio">${we(Y`Revoke <strong>all</strong> consents`)}</label><br> <input id="revoke-some-radio" name="revoke-type" type="radio" ?checked="${!this._revokeAll}" @click="${this.handleRevokeSomeClick}"> <label for="revoke-some-radio">${we(Y`Revoke <strong>some</strong> consents`)}</label> </fieldset> ${He(!this._revokeAll,(()=>Y` <div id="consents-ctr" class="border--light border--rounded"> <h3> ${we(Y`Check the consents you wish to <strong>revoke</strong>:`)} </h3> <ul> ${he(this._allConsentIds,(e=>Y` <li><input id="${e}" type="checkbox" @click="${this.handleConsentClick}" ?checked="${this._selectedConsentIds.has(e)}"><label for="${e}"><strong>I no longer consent to</strong> the storage and processing of my data for the purposes of the prize draw.</label></li> `))} </ul> </div> `))} <slotted-dropdown header="${we("Additional message (optional)")}" include-buttons> <div class="additional-msg-ctr"> <span class="">${we("My additional message:")}</span> <span><i>${we("Please note that adding a personalized message might lead to the demand taking longer to be processed")}</i></span> <textarea id="additional-msg" class="std-txt-area" name="paragraph_text" cols="50" rows="10" @input="${this.handleAdditionalMessageInput}" .value="${this._additionalMessage}"></textarea> </div> </slotted-dropdown> `))} </div> `}};ut.styles=[Qe.styles,Ue,f`#revoke-consent-form-ctr{display:grid;row-gap:40px}#revoke-type-btns{border:none;padding:0;margin:0}#revoke-type-btns input[type=radio]{-ms-transform:scale(1.5);-webkit-transform:scale(1.5);transform:scale(1.5);margin:3px 10px 0 5px}#revoke-type-btns input:not(:nth-last-child(2)){margin-bottom:25px}#consents-ctr{padding:40px}#consents-ctr ul{list-style-type:none;margin-bottom:0}#consents-ctr ul li input{margin:3px 10px 3px 4px}.revoke-options{padding:40px 40px 20px 40px}.additional-msg-ctr{display:grid;row-gap:20px}`],d([le()],ut.prototype,"_additionalMessage",void 0),d([le()],ut.prototype,"_revokeAll",void 0),d([le()],ut.prototype,"_allConsentIds",void 0),d([le()],ut.prototype,"_selectedConsentIds",void 0),ut=d([ae("revoke-consent-form")],ut);let pt=class extends(c(oe)){constructor(){super(),this.actions="",this.dataCategories="",this.requestId="",this._includedActions=Ge(),this._includedDataCategories=We(),this._currentRequestId="",this._currentDemandGroupId="",this._currentAction=e.TRANSPARENCY,this._privacyRequest={demands:[],email:"",target:i.PARTNERS},this._demands=new Map,this._config=Ie,this._componentState=Se.MENU,this.setMultipleDemands=e=>{if(e instanceof CustomEvent){const{demandGroupId:t,demands:n}=e.detail;this._demands.set(t,n)}},this.setDemand=e=>{if(e instanceof CustomEvent){const{demandGroupId:t,demand:n}=e.detail;this._demands.set(t,[n])}},this.deleteDemand=e=>{if(e instanceof CustomEvent){const{demandGroupId:t}=e.detail;this._demands.delete(t),this.requestUpdate()}},this.changeRequestTarget=e=>{if(e instanceof CustomEvent){const{id:t}=e.detail;this._privacyRequest.target=t}},this.submitRequest=async()=>{const e=Array.from(this._demands.values()).reduce(((e,t)=>e.concat(t)),[]);this._privacyRequest.demands=e.map(((e,t)=>(e.id=t.toString(),e)));const t=await r.getInstance().sendPrivacyRequest(this._privacyRequest);this.dispatchEvent(new CustomEvent("component-state-change",{detail:{newState:Se.STATUS,requestId:t.request_id}}))};const t=new URLSearchParams(window.location.search).get("requestId");t&&(this._currentRequestId=t,this._componentState=Se.STATUS);const n=crypto.randomUUID();this._demands.set(n,[]),this._currentDemandGroupId=n,this.addEventListener("component-state-change",(e=>{const t=e.detail;switch(this._componentState=t.newState,this._componentState){case Se.EDIT:this._currentAction=t.newAction,void 0!==t.demandGroupId&&(this._currentDemandGroupId=t.demandGroupId);break;case Se.SUBMITTED:break;case Se.MENU:this._demands.set(this._currentDemandGroupId,[]);break;case Se.STATUS:this._currentRequestId=t.requestId}}))}connectedCallback(){super.connectedCallback(),this.addEventListener("demand-set-multiple",this.setMultipleDemands),this.addEventListener("demand-set",this.setDemand),this.addEventListener("demand-delete",this.deleteDemand),this.addEventListener("request-target-change",this.changeRequestTarget),this.addEventListener("submit-request",this.submitRequest)}disconnectedCallback(){this.removeEventListener("demand-set-multiple",this.setMultipleDemands),this.removeEventListener("demand-set",this.setDemand),this.removeEventListener("demand-delete",this.deleteDemand),this.removeEventListener("request-target-change",this.changeRequestTarget),this.removeEventListener("submit-request",this.submitRequest)}handleRestartClick(){if(this._privacyRequest={demands:[],email:"",target:i.PARTNERS},this.apiToken){const e=JSON.parse(atob(this.apiToken.split(".")[1]));this._privacyRequest.data_subject=[{id:e.uid,schema:"dsid"}]}this._demands=new Map}actionFormFactory(t){const i=this._demands.get(this._currentDemandGroupId);if(t===e.TRANSPARENCY){const r=i&&0!==i.length?i:function(t){if(t===e.TRANSPARENCY)return Object.values(e).filter((e=>e.includes("TRANSPARENCY."))).map((e=>({action:e,restrictions:{provenance:{term:n.ALL}}})));throw Error("Only TRANSPARENCY action should have multiple demands!")}(t);return Y` <transparency-form .demands="${r}" .demandGroupId="${this._currentDemandGroupId}" .restrictions="${r[0].restrictions}"></transparency-form> `}const r=i&&0!==i.length?i[0]:void 0,o=!i||0===i.length;return Y` ${pe(t,[[e.ACCESS,()=>Y` <access-form .demand="${null!=i?i:""}" .demandGroupId="${this._currentDemandGroupId}" .allowedDataCategories="${this._includedDataCategories}" .default="${o}"></access-form> `],[e.DELETE,()=>Y` <delete-form .demand="${r}" .demandGroupId="${this._currentDemandGroupId}" .allowedDataCategories="${this._includedDataCategories}" .default="${o}"></delete-form> `],[e.MODIFY,()=>Y``],[e.OBJECT,()=>Y``],[e.PORTABILITY,()=>Y``],[e.RESTRICT,()=>Y``],[e.REVOKE,()=>Y` <revoke-consent-form .demand="${r}" .demandGroupId="${this._currentDemandGroupId}"></revoke-consent-form> `],[e["OTHER.DEMAND"],()=>Y``]],(()=>Y`${we("Error: Invalid Action")}`))} `}getHeadingString(e){switch(e){case Se.REQUESTS:return Y`${we("My Submitted Privacy Request(s)")}`;case Se.STATUS:return Y`${we("My Privacy Request Status")}`;default:return Y`${we("My Privacy Request")}`}}willUpdate(e){if(super.willUpdate(e),e.has("actions")&&this.actions)try{const e=Array.from(JSON.parse(this.actions)).map((e=>e.toLocaleLowerCase())),t=Ge().filter((t=>e.includes(t.toLocaleLowerCase())));t.length>0&&(this._includedActions=t)}catch(e){this._includedActions=Ge()}if(e.has("dataCategories")&&this.dataCategories)try{const e=Array.from(JSON.parse(this.dataCategories)).map((e=>e.toLocaleLowerCase())),t=We().filter((t=>e.includes(t.toLocaleLowerCase())));t.length>0&&(this._includedDataCategories=t)}catch(e){this._includedDataCategories=We()}if(e.has("apiToken")&&this.apiToken){const e=JSON.parse(function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("Illegal base64url string!")}return atob(t)}(this.apiToken.split(".")[1]));this._privacyRequest.data_subject=[{id:e.uid,schema:"dsid"}]}}render(){return Y` <div id="prci-ctr"> <div id="heading-ctr"> <span class="req-hdr">${this.getHeadingString(this._componentState)}</span> </div> ${pe(this._componentState,[[Se.MENU,()=>Y` <div> <action-menu-view .includedActions="${this._includedActions}"></action-menu-view> </div> `],[Se.EDIT,()=>Y` <div class="border--medium border--rounded view-ctr"> ${this.actionFormFactory(this._currentAction)} </div> `],[Se.REVIEW,()=>Y` <div class="border--medium border--rounded view-ctr"> ${he(this._demands.entries(),(([e,t])=>Y`<review-view .demandGroupId="${e}" .demands="${t}"></review-view>`))} </div> `],[Se.REQUESTS,()=>Y`<requests-view></requests-view>`],[Se.STATUS,()=>Y` <status-view request-id="${this._currentRequestId}"></status-view>`],[Se.SUBMITTED,()=>Y` <p> <b>${we("Your Privacy Request has been sent!")} </b> </p> <p>${we("You may track the status of your request below.")}</p> `],[Se.AUTH,()=>Y` <auth-view></auth-view> `]])} </div> `}};pt.styles=[Ue,f`:host{display:flex;justify-content:center;justify-items:center;font-family:var(
          --prci-font-family,
          -apple-system,
          BlinkMacSystemFont,
          'Segoe UI',
          Roboto,
          Oxygen,
          Ubuntu,
          Cantarell,
          'Open Sans',
          'Helvetica Neue',
          sans-serif
        );color:var(--prci-font-color,#000);font-size:16;text-align:left}#prci-ctr{padding:20px;max-width:1350px}#heading-ctr{padding:0 0 40px 0;max-width:1170px}.req-hdr{display:block;font-weight:700;font-size:24px;grid-column:2/3;text-align:center}button:disabled{background-color:#a9d1ff}`],d([de({type:String})],pt.prototype,"actions",void 0),d([de({type:String,attribute:"data-categories"})],pt.prototype,"dataCategories",void 0),d([de({type:String,attribute:"request-id"})],pt.prototype,"requestId",void 0),d([le()],pt.prototype,"_includedActions",void 0),d([le()],pt.prototype,"_includedDataCategories",void 0),d([le()],pt.prototype,"_currentRequestId",void 0),d([le()],pt.prototype,"_currentDemandGroupId",void 0),d([le()],pt.prototype,"_currentAction",void 0),d([le()],pt.prototype,"_privacyRequest",void 0),d([le()],pt.prototype,"_demands",void 0),d([le()],pt.prototype,"_config",void 0),d([le()],pt.prototype,"_componentState",void 0),pt=d([ae("bldn-priv-request"),be()],pt);var ht=function(e,t){return ht=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},ht(e,t)};function ft(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ht(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var mt=function(){return mt=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},mt.apply(this,arguments)};function vt(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function bt(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}function yt(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function gt(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function wt(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var St="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Et(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function At(e,t){return e(t={exports:{}},t.exports),t.exports}var Rt,Ct,It=function(e){return e&&e.Math==Math&&e},Tt=It("object"==typeof globalThis&&globalThis)||It("object"==typeof window&&window)||It("object"==typeof self&&self)||It("object"==typeof St&&St)||function(){return this}()||Function("return this")(),kt=function(e){try{return!!e()}catch(e){return!0}},_t=!kt((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),xt=!kt((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),Nt=Function.prototype.call,Ot=xt?Nt.bind(Nt):function(){return Nt.apply(Nt,arguments)},Lt={}.propertyIsEnumerable,$t=Object.getOwnPropertyDescriptor,Pt=$t&&!Lt.call({1:2},1)?function(e){var t=$t(this,e);return!!t&&t.enumerable}:Lt,Dt={f:Pt},Gt=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},Wt=Function.prototype,Zt=Wt.bind,Ut=Wt.call,Yt=xt&&Zt.bind(Ut,Ut),Ht=xt?function(e){return e&&Yt(e)}:function(e){return e&&function(){return Ut.apply(e,arguments)}},jt=Ht({}.toString),Xt=Ht("".slice),Kt=function(e){return Xt(jt(e),8,-1)},Vt=Object,Ft=Ht("".split),Mt=kt((function(){return!Vt("z").propertyIsEnumerable(0)}))?function(e){return"String"==Kt(e)?Ft(e,""):Vt(e)}:Vt,zt=function(e){return null==e},Jt=TypeError,Bt=function(e){if(zt(e))throw Jt("Can't call method on "+e);return e},qt=function(e){return Mt(Bt(e))},Qt=function(e){return"function"==typeof e},en="object"==typeof document&&document.all,tn=void 0===en&&void 0!==en?function(e){return"object"==typeof e?null!==e:Qt(e)||e===en}:function(e){return"object"==typeof e?null!==e:Qt(e)},nn=function(e){return Qt(e)?e:void 0},rn=function(e,t){return arguments.length<2?nn(Tt[e]):Tt[e]&&Tt[e][t]},on=Ht({}.isPrototypeOf),sn=rn("navigator","userAgent")||"",an=Tt.process,cn=Tt.Deno,dn=an&&an.versions||cn&&cn.version,ln=dn&&dn.v8;ln&&(Ct=(Rt=ln.split("."))[0]>0&&Rt[0]<4?1:+(Rt[0]+Rt[1])),!Ct&&sn&&(!(Rt=sn.match(/Edge\/(\d+)/))||Rt[1]>=74)&&(Rt=sn.match(/Chrome\/(\d+)/))&&(Ct=+Rt[1]);var un=Ct,pn=!!Object.getOwnPropertySymbols&&!kt((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&un&&un<41})),hn=pn&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,fn=Object,mn=hn?function(e){return"symbol"==typeof e}:function(e){var t=rn("Symbol");return Qt(t)&&on(t.prototype,fn(e))},vn=String,bn=function(e){try{return vn(e)}catch(e){return"Object"}},yn=TypeError,gn=function(e){if(Qt(e))return e;throw yn(bn(e)+" is not a function")},wn=function(e,t){var n=e[t];return zt(n)?void 0:gn(n)},Sn=TypeError,En=Object.defineProperty,An=function(e,t){try{En(Tt,e,{value:t,configurable:!0,writable:!0})}catch(n){Tt[e]=t}return t},Rn=Tt["__core-js_shared__"]||An("__core-js_shared__",{}),Cn=At((function(e){(e.exports=function(e,t){return Rn[e]||(Rn[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.25.1",mode:"global",copyright:" 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.1/LICENSE",source:"https://github.com/zloirock/core-js"})})),In=Object,Tn=function(e){return In(Bt(e))},kn=Ht({}.hasOwnProperty),_n=Object.hasOwn||function(e,t){return kn(Tn(e),t)},xn=0,Nn=Math.random(),On=Ht(1..toString),Ln=function(e){return"Symbol("+(void 0===e?"":e)+")_"+On(++xn+Nn,36)},$n=Cn("wks"),Pn=Tt.Symbol,Dn=Pn&&Pn.for,Gn=hn?Pn:Pn&&Pn.withoutSetter||Ln,Wn=function(e){if(!_n($n,e)||!pn&&"string"!=typeof $n[e]){var t="Symbol."+e;pn&&_n(Pn,e)?$n[e]=Pn[e]:$n[e]=hn&&Dn?Dn(t):Gn(t)}return $n[e]},Zn=TypeError,Un=Wn("toPrimitive"),Yn=function(e){var t=function(e,t){if(!tn(e)||mn(e))return e;var n,i=wn(e,Un);if(i){if(void 0===t&&(t="default"),n=Ot(i,e,t),!tn(n)||mn(n))return n;throw Zn("Can't convert object to primitive value")}return void 0===t&&(t="number"),function(e,t){var n,i;if("string"===t&&Qt(n=e.toString)&&!tn(i=Ot(n,e)))return i;if(Qt(n=e.valueOf)&&!tn(i=Ot(n,e)))return i;if("string"!==t&&Qt(n=e.toString)&&!tn(i=Ot(n,e)))return i;throw Sn("Can't convert object to primitive value")}(e,t)}(e,"string");return mn(t)?t:t+""},Hn=Tt.document,jn=tn(Hn)&&tn(Hn.createElement),Xn=function(e){return jn?Hn.createElement(e):{}},Kn=!_t&&!kt((function(){return 7!=Object.defineProperty(Xn("div"),"a",{get:function(){return 7}}).a})),Vn=Object.getOwnPropertyDescriptor,Fn={f:_t?Vn:function(e,t){if(e=qt(e),t=Yn(t),Kn)try{return Vn(e,t)}catch(e){}if(_n(e,t))return Gt(!Ot(Dt.f,e,t),e[t])}},Mn=_t&&kt((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),zn=String,Jn=TypeError,Bn=function(e){if(tn(e))return e;throw Jn(zn(e)+" is not an object")},qn=TypeError,Qn=Object.defineProperty,ei=Object.getOwnPropertyDescriptor,ti={f:_t?Mn?function(e,t,n){if(Bn(e),t=Yn(t),Bn(n),"function"==typeof e&&"prototype"===t&&"value"in n&&"writable"in n&&!n.writable){var i=ei(e,t);i&&i.writable&&(e[t]=n.value,n={configurable:"configurable"in n?n.configurable:i.configurable,enumerable:"enumerable"in n?n.enumerable:i.enumerable,writable:!1})}return Qn(e,t,n)}:Qn:function(e,t,n){if(Bn(e),t=Yn(t),Bn(n),Kn)try{return Qn(e,t,n)}catch(e){}if("get"in n||"set"in n)throw qn("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},ni=_t?function(e,t,n){return ti.f(e,t,Gt(1,n))}:function(e,t,n){return e[t]=n,e},ii=Function.prototype,ri=_t&&Object.getOwnPropertyDescriptor,oi=_n(ii,"name"),si={EXISTS:oi,PROPER:oi&&"something"===function(){}.name,CONFIGURABLE:oi&&(!_t||_t&&ri(ii,"name").configurable)},ai=Ht(Function.toString);Qt(Rn.inspectSource)||(Rn.inspectSource=function(e){return ai(e)});var ci,di,li,ui=Rn.inspectSource,pi=Tt.WeakMap,hi=Qt(pi)&&/native code/.test(String(pi)),fi=Cn("keys"),mi=function(e){return fi[e]||(fi[e]=Ln(e))},vi={},bi=Tt.TypeError,yi=Tt.WeakMap;if(hi||Rn.state){var gi=Rn.state||(Rn.state=new yi),wi=Ht(gi.get),Si=Ht(gi.has),Ei=Ht(gi.set);ci=function(e,t){if(Si(gi,e))throw bi("Object already initialized");return t.facade=e,Ei(gi,e,t),t},di=function(e){return wi(gi,e)||{}},li=function(e){return Si(gi,e)}}else{var Ai=mi("state");vi[Ai]=!0,ci=function(e,t){if(_n(e,Ai))throw bi("Object already initialized");return t.facade=e,ni(e,Ai,t),t},di=function(e){return _n(e,Ai)?e[Ai]:{}},li=function(e){return _n(e,Ai)}}var Ri={set:ci,get:di,has:li,enforce:function(e){return li(e)?di(e):ci(e,{})},getterFor:function(e){return function(t){var n;if(!tn(t)||(n=di(t)).type!==e)throw bi("Incompatible receiver, "+e+" required");return n}}},Ci=At((function(e){var t=si.CONFIGURABLE,n=Ri.enforce,i=Ri.get,r=Object.defineProperty,o=_t&&!kt((function(){return 8!==r((function(){}),"length",{value:8}).length})),s=String(String).split("String"),a=e.exports=function(e,i,a){"Symbol("===String(i).slice(0,7)&&(i="["+String(i).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),a&&a.getter&&(i="get "+i),a&&a.setter&&(i="set "+i),(!_n(e,"name")||t&&e.name!==i)&&(_t?r(e,"name",{value:i,configurable:!0}):e.name=i),o&&a&&_n(a,"arity")&&e.length!==a.arity&&r(e,"length",{value:a.arity});try{a&&_n(a,"constructor")&&a.constructor?_t&&r(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var c=n(e);return _n(c,"source")||(c.source=s.join("string"==typeof i?i:"")),e};Function.prototype.toString=a((function(){return Qt(this)&&i(this).source||ui(this)}),"toString")})),Ii=function(e,t,n,i){i||(i={});var r=i.enumerable,o=void 0!==i.name?i.name:t;if(Qt(n)&&Ci(n,o,i),i.global)r?e[t]=n:An(t,n);else{try{i.unsafe?e[t]&&(r=!0):delete e[t]}catch(e){}r?e[t]=n:ti.f(e,t,{value:n,enumerable:!1,configurable:!i.nonConfigurable,writable:!i.nonWritable})}return e},Ti=Math.ceil,ki=Math.floor,_i=Math.trunc||function(e){var t=+e;return(t>0?ki:Ti)(t)},xi=function(e){var t=+e;return t!=t||0===t?0:_i(t)},Ni=Math.max,Oi=Math.min,Li=function(e,t){var n=xi(e);return n<0?Ni(n+t,0):Oi(n,t)},$i=Math.min,Pi=function(e){return e>0?$i(xi(e),9007199254740991):0},Di=function(e){return Pi(e.length)},Gi=function(e){return function(t,n,i){var r,o=qt(t),s=Di(o),a=Li(i,s);if(e&&n!=n){for(;s>a;)if((r=o[a++])!=r)return!0}else for(;s>a;a++)if((e||a in o)&&o[a]===n)return e||a||0;return!e&&-1}},Wi={includes:Gi(!0),indexOf:Gi(!1)},Zi=Wi.indexOf,Ui=Ht([].push),Yi=function(e,t){var n,i=qt(e),r=0,o=[];for(n in i)!_n(vi,n)&&_n(i,n)&&Ui(o,n);for(;t.length>r;)_n(i,n=t[r++])&&(~Zi(o,n)||Ui(o,n));return o},Hi=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ji=Hi.concat("length","prototype"),Xi={f:Object.getOwnPropertyNames||function(e){return Yi(e,ji)}},Ki={f:Object.getOwnPropertySymbols},Vi=Ht([].concat),Fi=rn("Reflect","ownKeys")||function(e){var t=Xi.f(Bn(e)),n=Ki.f;return n?Vi(t,n(e)):t},Mi=function(e,t,n){for(var i=Fi(t),r=ti.f,o=Fn.f,s=0;s<i.length;s++){var a=i[s];_n(e,a)||n&&_n(n,a)||r(e,a,o(t,a))}},zi=/#|\.prototype\./,Ji=function(e,t){var n=qi[Bi(e)];return n==er||n!=Qi&&(Qt(t)?kt(t):!!t)},Bi=Ji.normalize=function(e){return String(e).replace(zi,".").toLowerCase()},qi=Ji.data={},Qi=Ji.NATIVE="N",er=Ji.POLYFILL="P",tr=Ji,nr=Fn.f,ir=function(e,t){var n,i,r,o,s,a=e.target,c=e.global,d=e.stat;if(n=c?Tt:d?Tt[a]||An(a,{}):(Tt[a]||{}).prototype)for(i in t){if(o=t[i],r=e.dontCallGetSet?(s=nr(n,i))&&s.value:n[i],!tr(c?i:a+(d?".":"#")+i,e.forced)&&void 0!==r){if(typeof o==typeof r)continue;Mi(o,r)}(e.sham||r&&r.sham)&&ni(o,"sham",!0),Ii(n,i,o,e)}},rr={};rr[Wn("toStringTag")]="z";var or,sr="[object z]"===String(rr),ar=Wn("toStringTag"),cr=Object,dr="Arguments"==Kt(function(){return arguments}()),lr=sr?Kt:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=cr(e),ar))?n:dr?Kt(t):"Object"==(i=Kt(t))&&Qt(t.callee)?"Arguments":i},ur=String,pr=function(e){if("Symbol"===lr(e))throw TypeError("Cannot convert a Symbol value to a string");return ur(e)},hr=Wn("match"),fr=TypeError,mr=function(e){if(function(e){var t;return tn(e)&&(void 0!==(t=e[hr])?!!t:"RegExp"==Kt(e))}(e))throw fr("The method doesn't accept regular expressions");return e},vr=Wn("match"),br=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[vr]=!1,"/./"[e](t)}catch(e){}}return!1},yr=Fn.f,gr=Ht("".startsWith),wr=Ht("".slice),Sr=Math.min,Er=br("startsWith"),Ar=!(Er||(or=yr(String.prototype,"startsWith"),!or||or.writable));ir({target:"String",proto:!0,forced:!Ar&&!Er},{startsWith:function(e){var t=pr(Bt(this));mr(e);var n=Pi(Sr(arguments.length>1?arguments[1]:void 0,t.length)),i=pr(e);return gr?gr(t,i,n):wr(t,n,n+i.length)===i}});var Rr=function(e,t){return Ht(Tt[e].prototype[t])};Rr("String","startsWith");var Cr=Array.isArray||function(e){return"Array"==Kt(e)},Ir=TypeError,Tr=function(e){if(e>9007199254740991)throw Ir("Maximum allowed index exceeded");return e},kr=function(e,t,n){var i=Yn(t);i in e?ti.f(e,i,Gt(0,n)):e[i]=n},_r=function(){},xr=[],Nr=rn("Reflect","construct"),Or=/^\s*(?:class|function)\b/,Lr=Ht(Or.exec),$r=!Or.exec(_r),Pr=function(e){if(!Qt(e))return!1;try{return Nr(_r,xr,e),!0}catch(e){return!1}},Dr=function(e){if(!Qt(e))return!1;switch(lr(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return $r||!!Lr(Or,ui(e))}catch(e){return!0}};Dr.sham=!0;var Gr=!Nr||kt((function(){var e;return Pr(Pr.call)||!Pr(Object)||!Pr((function(){e=!0}))||e}))?Dr:Pr,Wr=Wn("species"),Zr=Array,Ur=function(e,t){return new(function(e){var t;return Cr(e)&&(t=e.constructor,(Gr(t)&&(t===Zr||Cr(t.prototype))||tn(t)&&null===(t=t[Wr]))&&(t=void 0)),void 0===t?Zr:t}(e))(0===t?0:t)},Yr=Wn("species"),Hr=Wn("isConcatSpreadable"),jr=un>=51||!kt((function(){var e=[];return e[Hr]=!1,e.concat()[0]!==e})),Xr=("concat",un>=51||!kt((function(){var e=[];return(e.constructor={})[Yr]=function(){return{foo:1}},1!==e.concat(Boolean).foo}))),Kr=function(e){if(!tn(e))return!1;var t=e[Hr];return void 0!==t?!!t:Cr(e)};ir({target:"Array",proto:!0,arity:1,forced:!jr||!Xr},{concat:function(e){var t,n,i,r,o,s=Tn(this),a=Ur(s,0),c=0;for(t=-1,i=arguments.length;t<i;t++)if(Kr(o=-1===t?s:arguments[t]))for(r=Di(o),Tr(c+r),n=0;n<r;n++,c++)n in o&&kr(a,c,o[n]);else Tr(c+1),kr(a,c++,o);return a.length=c,a}});var Vr=sr?{}.toString:function(){return"[object "+lr(this)+"]"};sr||Ii(Object.prototype,"toString",Vr,{unsafe:!0});var Fr,Mr=Object.keys||function(e){return Yi(e,Hi)},zr=_t&&!Mn?Object.defineProperties:function(e,t){Bn(e);for(var n,i=qt(t),r=Mr(t),o=r.length,s=0;o>s;)ti.f(e,n=r[s++],i[n]);return e},Jr={f:zr},Br=rn("document","documentElement"),qr=mi("IE_PROTO"),Qr=function(){},eo=function(e){return"<script>"+e+"<\/script>"},to=function(e){e.write(eo("")),e.close();var t=e.parentWindow.Object;return e=null,t},no=function(){try{Fr=new ActiveXObject("htmlfile")}catch(e){}var e,t;no="undefined"!=typeof document?document.domain&&Fr?to(Fr):((t=Xn("iframe")).style.display="none",Br.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(eo("document.F=Object")),e.close(),e.F):to(Fr);for(var n=Hi.length;n--;)delete no.prototype[Hi[n]];return no()};vi[qr]=!0;var io=Object.create||function(e,t){var n;return null!==e?(Qr.prototype=Bn(e),n=new Qr,Qr.prototype=null,n[qr]=e):n=no(),void 0===t?n:Jr.f(n,t)},ro=Array,oo=Math.max,so=Xi.f,ao="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],co={f:function(e){return ao&&"Window"==Kt(e)?function(e){try{return so(e)}catch(e){return function(e,t,n){for(var i=Di(e),r=Li(void 0,i),o=Li(i,i),s=ro(oo(o-r,0)),a=0;r<o;r++,a++)kr(s,a,e[r]);return s.length=a,s}(ao)}}(e):so(qt(e))}},lo={f:Wn},uo=Tt,po=ti.f,ho=function(e){var t=uo.Symbol||(uo.Symbol={});_n(t,e)||po(t,e,{value:lo.f(e)})},fo=function(){var e=rn("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,i=Wn("toPrimitive");t&&!t[i]&&Ii(t,i,(function(e){return Ot(n,this)}),{arity:1})},mo=ti.f,vo=Wn("toStringTag"),bo=function(e,t,n){e&&!n&&(e=e.prototype),e&&!_n(e,vo)&&mo(e,vo,{configurable:!0,value:t})},yo=Ht(Ht.bind),go=function(e,t){return gn(e),void 0===t?e:xt?yo(e,t):function(){return e.apply(t,arguments)}},wo=Ht([].push),So=function(e){var t=1==e,n=2==e,i=3==e,r=4==e,o=6==e,s=7==e,a=5==e||o;return function(c,d,l,u){for(var p,h,f=Tn(c),m=Mt(f),v=go(d,l),b=Di(m),y=0,g=u||Ur,w=t?g(c,b):n||s?g(c,0):void 0;b>y;y++)if((a||y in m)&&(h=v(p=m[y],y,f),e))if(t)w[y]=h;else if(h)switch(e){case 3:return!0;case 5:return p;case 6:return y;case 2:wo(w,p)}else switch(e){case 4:return!1;case 7:wo(w,p)}return o?-1:i||r?r:w}},Eo=[So(0),So(1),So(2),So(3),So(4),So(5),So(6),So(7)][0],Ao=mi("hidden"),Ro=Ri.set,Co=Ri.getterFor("Symbol"),Io=Object.prototype,To=Tt.Symbol,ko=To&&To.prototype,_o=Tt.TypeError,xo=Tt.QObject,No=Fn.f,Oo=ti.f,Lo=co.f,$o=Dt.f,Po=Ht([].push),Do=Cn("symbols"),Go=Cn("op-symbols"),Wo=Cn("wks"),Zo=!xo||!xo.prototype||!xo.prototype.findChild,Uo=_t&&kt((function(){return 7!=io(Oo({},"a",{get:function(){return Oo(this,"a",{value:7}).a}})).a}))?function(e,t,n){var i=No(Io,t);i&&delete Io[t],Oo(e,t,n),i&&e!==Io&&Oo(Io,t,i)}:Oo,Yo=function(e,t){var n=Do[e]=io(ko);return Ro(n,{type:"Symbol",tag:e,description:t}),_t||(n.description=t),n},Ho=function(e,t,n){e===Io&&Ho(Go,t,n),Bn(e);var i=Yn(t);return Bn(n),_n(Do,i)?(n.enumerable?(_n(e,Ao)&&e[Ao][i]&&(e[Ao][i]=!1),n=io(n,{enumerable:Gt(0,!1)})):(_n(e,Ao)||Oo(e,Ao,Gt(1,{})),e[Ao][i]=!0),Uo(e,i,n)):Oo(e,i,n)},jo=function(e,t){Bn(e);var n=qt(t),i=Mr(n).concat(Fo(n));return Eo(i,(function(t){_t&&!Ot(Xo,n,t)||Ho(e,t,n[t])})),e},Xo=function(e){var t=Yn(e),n=Ot($o,this,t);return!(this===Io&&_n(Do,t)&&!_n(Go,t))&&(!(n||!_n(this,t)||!_n(Do,t)||_n(this,Ao)&&this[Ao][t])||n)},Ko=function(e,t){var n=qt(e),i=Yn(t);if(n!==Io||!_n(Do,i)||_n(Go,i)){var r=No(n,i);return!r||!_n(Do,i)||_n(n,Ao)&&n[Ao][i]||(r.enumerable=!0),r}},Vo=function(e){var t=Lo(qt(e)),n=[];return Eo(t,(function(e){_n(Do,e)||_n(vi,e)||Po(n,e)})),n},Fo=function(e){var t=e===Io,n=Lo(t?Go:qt(e)),i=[];return Eo(n,(function(e){!_n(Do,e)||t&&!_n(Io,e)||Po(i,Do[e])})),i};pn||(ko=(To=function(){if(on(ko,this))throw _o("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?pr(arguments[0]):void 0,t=Ln(e),n=function(e){this===Io&&Ot(n,Go,e),_n(this,Ao)&&_n(this[Ao],t)&&(this[Ao][t]=!1),Uo(this,t,Gt(1,e))};return _t&&Zo&&Uo(Io,t,{configurable:!0,set:n}),Yo(t,e)}).prototype,Ii(ko,"toString",(function(){return Co(this).tag})),Ii(To,"withoutSetter",(function(e){return Yo(Ln(e),e)})),Dt.f=Xo,ti.f=Ho,Jr.f=jo,Fn.f=Ko,Xi.f=co.f=Vo,Ki.f=Fo,lo.f=function(e){return Yo(Wn(e),e)},_t&&(Oo(ko,"description",{configurable:!0,get:function(){return Co(this).description}}),Ii(Io,"propertyIsEnumerable",Xo,{unsafe:!0}))),ir({global:!0,constructor:!0,wrap:!0,forced:!pn,sham:!pn},{Symbol:To}),Eo(Mr(Wo),(function(e){ho(e)})),ir({target:"Symbol",stat:!0,forced:!pn},{useSetter:function(){Zo=!0},useSimple:function(){Zo=!1}}),ir({target:"Object",stat:!0,forced:!pn,sham:!_t},{create:function(e,t){return void 0===t?io(e):jo(io(e),t)},defineProperty:Ho,defineProperties:jo,getOwnPropertyDescriptor:Ko}),ir({target:"Object",stat:!0,forced:!pn},{getOwnPropertyNames:Vo}),fo(),bo(To,"Symbol"),vi[Ao]=!0;var Mo=pn&&!!Symbol.for&&!!Symbol.keyFor,zo=Cn("string-to-symbol-registry"),Jo=Cn("symbol-to-string-registry");ir({target:"Symbol",stat:!0,forced:!Mo},{for:function(e){var t=pr(e);if(_n(zo,t))return zo[t];var n=rn("Symbol")(t);return zo[t]=n,Jo[n]=t,n}});var Bo=Cn("symbol-to-string-registry");ir({target:"Symbol",stat:!0,forced:!Mo},{keyFor:function(e){if(!mn(e))throw TypeError(bn(e)+" is not a symbol");if(_n(Bo,e))return Bo[e]}});var qo=Function.prototype,Qo=qo.apply,es=qo.call,ts="object"==typeof Reflect&&Reflect.apply||(xt?es.bind(Qo):function(){return es.apply(Qo,arguments)}),ns=Ht([].slice),is=rn("JSON","stringify"),rs=Ht(/./.exec),os=Ht("".charAt),ss=Ht("".charCodeAt),as=Ht("".replace),cs=Ht(1..toString),ds=/[\uD800-\uDFFF]/g,ls=/^[\uD800-\uDBFF]$/,us=/^[\uDC00-\uDFFF]$/,ps=!pn||kt((function(){var e=rn("Symbol")();return"[null]"!=is([e])||"{}"!=is({a:e})||"{}"!=is(Object(e))})),hs=kt((function(){return'"\\udf06\\ud834"'!==is("\udf06\ud834")||'"\\udead"'!==is("\udead")})),fs=function(e,t){var n=ns(arguments),i=t;if((tn(t)||void 0!==e)&&!mn(e))return Cr(t)||(t=function(e,t){if(Qt(i)&&(t=Ot(i,this,e,t)),!mn(t))return t}),n[1]=t,ts(is,null,n)},ms=function(e,t,n){var i=os(n,t-1),r=os(n,t+1);return rs(ls,e)&&!rs(us,r)||rs(us,e)&&!rs(ls,i)?"\\u"+cs(ss(e,0),16):e};is&&ir({target:"JSON",stat:!0,arity:3,forced:ps||hs},{stringify:function(e,t,n){var i=ns(arguments),r=ts(ps?fs:is,null,i);return hs&&"string"==typeof r?as(r,ds,ms):r}});var vs=!pn||kt((function(){Ki.f(1)}));ir({target:"Object",stat:!0,forced:vs},{getOwnPropertySymbols:function(e){var t=Ki.f;return t?t(Tn(e)):[]}}),ho("asyncIterator");var bs=ti.f,ys=Tt.Symbol,gs=ys&&ys.prototype;if(_t&&Qt(ys)&&(!("description"in gs)||void 0!==ys().description)){var ws={},Ss=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:pr(arguments[0]),t=on(gs,this)?new ys(e):void 0===e?ys():ys(e);return""===e&&(ws[t]=!0),t};Mi(Ss,ys),Ss.prototype=gs,gs.constructor=Ss;var Es="Symbol(test)"==String(ys("test")),As=Ht(gs.valueOf),Rs=Ht(gs.toString),Cs=/^Symbol\((.*)\)[^)]+$/,Is=Ht("".replace),Ts=Ht("".slice);bs(gs,"description",{configurable:!0,get:function(){var e=As(this);if(_n(ws,e))return"";var t=Rs(e),n=Es?Ts(t,7,-1):Is(t,Cs,"$1");return""===n?void 0:n}}),ir({global:!0,constructor:!0,forced:!0},{Symbol:Ss})}ho("hasInstance"),ho("isConcatSpreadable"),ho("iterator"),ho("match"),ho("matchAll"),ho("replace"),ho("search"),ho("species"),ho("split"),ho("toPrimitive"),fo(),ho("toStringTag"),bo(rn("Symbol"),"Symbol"),ho("unscopables"),bo(Tt.JSON,"JSON",!0),bo(Math,"Math",!0),ir({global:!0},{Reflect:{}}),bo(Tt.Reflect,"Reflect",!0),uo.Symbol;var ks,_s,xs,Ns=Ht("".charAt),Os=Ht("".charCodeAt),Ls=Ht("".slice),$s=function(e){return function(t,n){var i,r,o=pr(Bt(t)),s=xi(n),a=o.length;return s<0||s>=a?e?"":void 0:(i=Os(o,s))<55296||i>56319||s+1===a||(r=Os(o,s+1))<56320||r>57343?e?Ns(o,s):i:e?Ls(o,s,s+2):r-56320+(i-55296<<10)+65536}},Ps={codeAt:$s(!1),charAt:$s(!0)},Ds=!kt((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Gs=mi("IE_PROTO"),Ws=Object,Zs=Ws.prototype,Us=Ds?Ws.getPrototypeOf:function(e){var t=Tn(e);if(_n(t,Gs))return t[Gs];var n=t.constructor;return Qt(n)&&t instanceof n?n.prototype:t instanceof Ws?Zs:null},Ys=Wn("iterator"),Hs=!1;[].keys&&("next"in(xs=[].keys())?(_s=Us(Us(xs)))!==Object.prototype&&(ks=_s):Hs=!0);var js=!tn(ks)||kt((function(){var e={};return ks[Ys].call(e)!==e}));js&&(ks={}),Qt(ks[Ys])||Ii(ks,Ys,(function(){return this}));var Xs={IteratorPrototype:ks,BUGGY_SAFARI_ITERATORS:Hs},Ks={},Vs=Xs.IteratorPrototype,Fs=function(){return this},Ms=String,zs=TypeError,Js=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Ht(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return Bn(n),function(e){if("object"==typeof e||Qt(e))return e;throw zs("Can't set "+Ms(e)+" as a prototype")}(i),t?e(n,i):n.__proto__=i,n}}():void 0),Bs=si.PROPER,qs=si.CONFIGURABLE,Qs=Xs.IteratorPrototype,ea=Xs.BUGGY_SAFARI_ITERATORS,ta=Wn("iterator"),na=function(){return this},ia=function(e,t,n,i,r,o,s){!function(e,t,n,i){var r=t+" Iterator";e.prototype=io(Vs,{next:Gt(1,n)}),bo(e,r,!1),Ks[r]=Fs}(n,t,i);var a,c,d,l=function(e){if(e===r&&m)return m;if(!ea&&e in h)return h[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},u=t+" Iterator",p=!1,h=e.prototype,f=h[ta]||h["@@iterator"]||r&&h[r],m=!ea&&f||l(r),v="Array"==t&&h.entries||f;if(v&&(a=Us(v.call(new e)))!==Object.prototype&&a.next&&(Us(a)!==Qs&&(Js?Js(a,Qs):Qt(a[ta])||Ii(a,ta,na)),bo(a,u,!0)),Bs&&"values"==r&&f&&"values"!==f.name&&(qs?ni(h,"name","values"):(p=!0,m=function(){return Ot(f,this)})),r)if(c={values:l("values"),keys:o?m:l("keys"),entries:l("entries")},s)for(d in c)(ea||p||!(d in h))&&Ii(h,d,c[d]);else ir({target:t,proto:!0,forced:ea||p},c);return h[ta]!==m&&Ii(h,ta,m,{name:r}),Ks[t]=m,c},ra=function(e,t){return{value:e,done:t}},oa=Ps.charAt,sa=Ri.set,aa=Ri.getterFor("String Iterator");ia(String,"String",(function(e){sa(this,{type:"String Iterator",string:pr(e),index:0})}),(function(){var e,t=aa(this),n=t.string,i=t.index;return i>=n.length?ra(void 0,!0):(e=oa(n,i),t.index+=e.length,ra(e,!1))}));var ca=function(e,t,n){var i,r;Bn(e);try{if(!(i=wn(e,"return"))){if("throw"===t)throw n;return n}i=Ot(i,e)}catch(e){r=!0,i=e}if("throw"===t)throw n;if(r)throw i;return Bn(i),n},da=function(e,t,n,i){try{return i?t(Bn(n)[0],n[1]):t(n)}catch(t){ca(e,"throw",t)}},la=Wn("iterator"),ua=Array.prototype,pa=function(e){return void 0!==e&&(Ks.Array===e||ua[la]===e)},ha=Wn("iterator"),fa=function(e){if(!zt(e))return wn(e,ha)||wn(e,"@@iterator")||Ks[lr(e)]},ma=TypeError,va=function(e,t){var n=arguments.length<2?fa(e):t;if(gn(n))return Bn(Ot(n,e));throw ma(bn(e)+" is not iterable")},ba=Array,ya=Wn("iterator"),ga=!1;try{var wa=0,Sa={next:function(){return{done:!!wa++}},return:function(){ga=!0}};Sa[ya]=function(){return this},Array.from(Sa,(function(){throw 2}))}catch(ht){}var Ea=function(e,t){if(!t&&!ga)return!1;var n=!1;try{var i={};i[ya]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(e){}return n},Aa=!Ea((function(e){Array.from(e)}));ir({target:"Array",stat:!0,forced:Aa},{from:function(e){var t=Tn(e),n=Gr(this),i=arguments.length,r=i>1?arguments[1]:void 0,o=void 0!==r;o&&(r=go(r,i>2?arguments[2]:void 0));var s,a,c,d,l,u,p=fa(t),h=0;if(!p||this===ba&&pa(p))for(s=Di(t),a=n?new this(s):ba(s);s>h;h++)u=o?r(t[h],h):t[h],kr(a,h,u);else for(l=(d=va(t,p)).next,a=n?new this:[];!(c=Ot(l,d)).done;h++)u=o?da(d,r,[c.value,h],!0):c.value,kr(a,h,u);return a.length=h,a}}),uo.Array.from;var Ra,Ca,Ia,Ta="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,ka=ti.f,_a=Ri.enforce,xa=Ri.get,Na=Tt.Int8Array,Oa=Na&&Na.prototype,La=Tt.Uint8ClampedArray,$a=La&&La.prototype,Pa=Na&&Us(Na),Da=Oa&&Us(Oa),Ga=Object.prototype,Wa=Tt.TypeError,Za=Wn("toStringTag"),Ua=Ln("TYPED_ARRAY_TAG"),Ya=Ta&&!!Js&&"Opera"!==lr(Tt.opera),Ha=!1,ja={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Xa={BigInt64Array:8,BigUint64Array:8},Ka=function(e){var t=Us(e);if(tn(t)){var n=xa(t);return n&&_n(n,"TypedArrayConstructor")?n.TypedArrayConstructor:Ka(t)}},Va=function(e){if(!tn(e))return!1;var t=lr(e);return _n(ja,t)||_n(Xa,t)};for(Ra in ja)(Ia=(Ca=Tt[Ra])&&Ca.prototype)?_a(Ia).TypedArrayConstructor=Ca:Ya=!1;for(Ra in Xa)(Ia=(Ca=Tt[Ra])&&Ca.prototype)&&(_a(Ia).TypedArrayConstructor=Ca);if((!Ya||!Qt(Pa)||Pa===Function.prototype)&&(Pa=function(){throw Wa("Incorrect invocation")},Ya))for(Ra in ja)Tt[Ra]&&Js(Tt[Ra],Pa);if((!Ya||!Da||Da===Ga)&&(Da=Pa.prototype,Ya))for(Ra in ja)Tt[Ra]&&Js(Tt[Ra].prototype,Da);if(Ya&&Us($a)!==Da&&Js($a,Da),_t&&!_n(Da,Za))for(Ra in Ha=!0,ka(Da,Za,{get:function(){return tn(this)?this[Ua]:void 0}}),ja)Tt[Ra]&&ni(Tt[Ra],Ua,Ra);var Fa={NATIVE_ARRAY_BUFFER_VIEWS:Ya,TYPED_ARRAY_TAG:Ha&&Ua,aTypedArray:function(e){if(Va(e))return e;throw Wa("Target is not a typed array")},aTypedArrayConstructor:function(e){if(Qt(e)&&(!Js||on(Pa,e)))return e;throw Wa(bn(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n,i){if(_t){if(n)for(var r in ja){var o=Tt[r];if(o&&_n(o.prototype,e))try{delete o.prototype[e]}catch(n){try{o.prototype[e]=t}catch(e){}}}Da[e]&&!n||Ii(Da,e,n?t:Ya&&Oa[e]||t,i)}},exportTypedArrayStaticMethod:function(e,t,n){var i,r;if(_t){if(Js){if(n)for(i in ja)if((r=Tt[i])&&_n(r,e))try{delete r[e]}catch(e){}if(Pa[e]&&!n)return;try{return Ii(Pa,e,n?t:Ya&&Pa[e]||t)}catch(e){}}for(i in ja)!(r=Tt[i])||r[e]&&!n||Ii(r,e,t)}},getTypedArrayConstructor:Ka,isView:function(e){if(!tn(e))return!1;var t=lr(e);return"DataView"===t||_n(ja,t)||_n(Xa,t)},isTypedArray:Va,TypedArray:Pa,TypedArrayPrototype:Da},Ma=TypeError,za=Wn("species"),Ja=Fa.aTypedArrayConstructor,Ba=Fa.getTypedArrayConstructor,qa=Fa.aTypedArray;(0,Fa.exportTypedArrayMethod)("slice",(function(e,t){for(var n=ns(qa(this),e,t),i=Ja(function(e,t){var n,i=Bn(e).constructor;return void 0===i||zt(n=Bn(i)[za])?t:function(e){if(Gr(e))return e;throw Ma(bn(e)+" is not a constructor")}(n)}(this,Ba(this))),r=0,o=n.length,s=new i(o);o>r;)s[r]=n[r++];return s}),kt((function(){new Int8Array(1).slice()})));var Qa=ti.f,ec=Wn("unscopables"),tc=Array.prototype;null==tc[ec]&&Qa(tc,ec,{configurable:!0,value:io(null)});var nc=function(e){tc[ec][e]=!0},ic=Wi.includes,rc=kt((function(){return!Array(1).includes()}));ir({target:"Array",proto:!0,forced:rc},{includes:function(e){return ic(this,e,arguments.length>1?arguments[1]:void 0)}}),nc("includes"),Rr("Array","includes");var oc=Ht("".indexOf);ir({target:"String",proto:!0,forced:!br("includes")},{includes:function(e){return!!~oc(pr(Bt(this)),pr(mr(e)),arguments.length>1?arguments[1]:void 0)}}),Rr("String","includes");var sc=ti.f,ac=Ri.set,cc=Ri.getterFor("Array Iterator");ia(Array,"Array",(function(e,t){ac(this,{type:"Array Iterator",target:qt(e),index:0,kind:t})}),(function(){var e=cc(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,ra(void 0,!0)):ra("keys"==n?i:"values"==n?t[i]:[i,t[i]],!1)}),"values");var dc=Ks.Arguments=Ks.Array;if(nc("keys"),nc("values"),nc("entries"),_t&&"values"!==dc.name)try{sc(dc,"name",{value:"values"})}catch(ht){}var lc=kt((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}})),uc=Object.isExtensible,pc=kt((function(){uc(1)}))||lc?function(e){return!!tn(e)&&(!lc||"ArrayBuffer"!=Kt(e))&&(!uc||uc(e))}:uc,hc=!kt((function(){return Object.isExtensible(Object.preventExtensions({}))})),fc=At((function(e){var t=ti.f,n=!1,i=Ln("meta"),r=0,o=function(e){t(e,i,{value:{objectID:"O"+r++,weakData:{}}})},s=e.exports={enable:function(){s.enable=function(){},n=!0;var e=Xi.f,t=Ht([].splice),r={};r[i]=1,e(r).length&&(Xi.f=function(n){for(var r=e(n),o=0,s=r.length;o<s;o++)if(r[o]===i){t(r,o,1);break}return r},ir({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:co.f}))},fastKey:function(e,t){if(!tn(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!_n(e,i)){if(!pc(e))return"F";if(!t)return"E";o(e)}return e[i].objectID},getWeakData:function(e,t){if(!_n(e,i)){if(!pc(e))return!0;if(!t)return!1;o(e)}return e[i].weakData},onFreeze:function(e){return hc&&n&&pc(e)&&!_n(e,i)&&o(e),e}};vi[i]=!0}));fc.enable,fc.fastKey,fc.getWeakData,fc.onFreeze;var mc=TypeError,vc=function(e,t){this.stopped=e,this.result=t},bc=vc.prototype,yc=function(e,t,n){var i,r,o,s,a,c,d,l=n&&n.that,u=!(!n||!n.AS_ENTRIES),p=!(!n||!n.IS_RECORD),h=!(!n||!n.IS_ITERATOR),f=!(!n||!n.INTERRUPTED),m=go(t,l),v=function(e){return i&&ca(i,"normal",e),new vc(!0,e)},b=function(e){return u?(Bn(e),f?m(e[0],e[1],v):m(e[0],e[1])):f?m(e,v):m(e)};if(p)i=e.iterator;else if(h)i=e;else{if(!(r=fa(e)))throw mc(bn(e)+" is not iterable");if(pa(r)){for(o=0,s=Di(e);s>o;o++)if((a=b(e[o]))&&on(bc,a))return a;return new vc(!1)}i=va(e,r)}for(c=p?e.next:i.next;!(d=Ot(c,i)).done;){try{a=b(d.value)}catch(e){ca(i,"throw",e)}if("object"==typeof a&&a&&on(bc,a))return a}return new vc(!1)},gc=TypeError,wc=function(e,t){if(on(t,e))return e;throw gc("Incorrect invocation")},Sc=function(e,t,n){for(var i in t)Ii(e,i,t[i],n);return e},Ec=Wn("species"),Ac=ti.f,Rc=fc.fastKey,Cc=Ri.set,Ic=Ri.getterFor,Tc={getConstructor:function(e,t,n,i){var r=e((function(e,r){wc(e,o),Cc(e,{type:t,index:io(null),first:void 0,last:void 0,size:0}),_t||(e.size=0),zt(r)||yc(r,e[i],{that:e,AS_ENTRIES:n})})),o=r.prototype,s=Ic(t),a=function(e,t,n){var i,r,o=s(e),a=c(e,t);return a?a.value=n:(o.last=a={index:r=Rc(t,!0),key:t,value:n,previous:i=o.last,next:void 0,removed:!1},o.first||(o.first=a),i&&(i.next=a),_t?o.size++:e.size++,"F"!==r&&(o.index[r]=a)),e},c=function(e,t){var n,i=s(e),r=Rc(t);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key==t)return n};return Sc(o,{clear:function(){for(var e=s(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,_t?e.size=0:this.size=0},delete:function(e){var t=this,n=s(t),i=c(t,e);if(i){var r=i.next,o=i.previous;delete n.index[i.index],i.removed=!0,o&&(o.next=r),r&&(r.previous=o),n.first==i&&(n.first=r),n.last==i&&(n.last=o),_t?n.size--:t.size--}return!!i},forEach:function(e){for(var t,n=s(this),i=go(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(i(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!c(this,e)}}),Sc(o,n?{get:function(e){var t=c(this,e);return t&&t.value},set:function(e,t){return a(this,0===e?0:e,t)}}:{add:function(e){return a(this,e=0===e?0:e,e)}}),_t&&Ac(o,"size",{get:function(){return s(this).size}}),r},setStrong:function(e,t,n){var i=t+" Iterator",r=Ic(t),o=Ic(i);ia(e,t,(function(e,t){Cc(this,{type:i,target:e,state:r(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?ra("keys"==t?n.key:"values"==t?n.value:[n.key,n.value],!1):(e.target=void 0,ra(void 0,!0))}),n?"entries":"values",!n,!0),function(e){var t=rn(e),n=ti.f;_t&&t&&!t[Ec]&&n(t,Ec,{configurable:!0,get:function(){return this}})}(t)}};function kc(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))}function _c(e){return new this((function(t,n){if(!e||void 0===e.length)return n(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);var r=i.length;function o(e,n){if(n&&("object"==typeof n||"function"==typeof n)){var s=n.then;if("function"==typeof s)return void s.call(n,(function(t){o(e,t)}),(function(n){i[e]={status:"rejected",reason:n},0==--r&&t(i)}))}i[e]={status:"fulfilled",value:n},0==--r&&t(i)}for(var s=0;s<i.length;s++)o(s,i[s])}))}!function(e,t,n){var i=-1!==e.indexOf("Map"),r=-1!==e.indexOf("Weak"),o=i?"set":"add",s=Tt[e],a=s&&s.prototype,c=s,d={},l=function(e){var t=Ht(a[e]);Ii(a,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(r&&!tn(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return r&&!tn(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(r&&!tn(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(tr(e,!Qt(s)||!(r||a.forEach&&!kt((function(){(new s).entries().next()})))))c=n.getConstructor(t,e,i,o),fc.enable();else if(tr(e,!0)){var u=new c,p=u[o](r?{}:-0,1)!=u,h=kt((function(){u.has(1)})),f=Ea((function(e){new s(e)})),m=!r&&kt((function(){for(var e=new s,t=5;t--;)e[o](t,t);return!e.has(-0)}));f||((c=t((function(e,t){wc(e,a);var n=function(e,t,n){var i,r;return Js&&Qt(i=t.constructor)&&i!==n&&tn(r=i.prototype)&&r!==n.prototype&&Js(e,r),e}(new s,e,c);return zt(t)||yc(t,n[o],{that:n,AS_ENTRIES:i}),n}))).prototype=a,a.constructor=c),(h||m)&&(l("delete"),l("has"),i&&l("get")),(m||p)&&l(o),r&&a.clear&&delete a.clear}d[e]=c,ir({global:!0,constructor:!0,forced:c!=s},d),bo(c,e),r||n.setStrong(c,e,i)}("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),Tc),uo.Set;var xc=setTimeout;function Nc(e){return Boolean(e&&void 0!==e.length)}function Oc(){}function Lc(e){if(!(this instanceof Lc))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Zc(e,this)}function $c(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,Lc._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(e){return void Dc(t.promise,e)}Pc(t.promise,i)}else(1===e._state?Pc:Dc)(t.promise,e._value)}))):e._deferreds.push(t)}function Pc(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof Lc)return e._state=3,e._value=t,void Gc(e);if("function"==typeof n)return void Zc((i=n,r=t,function(){i.apply(r,arguments)}),e)}e._state=1,e._value=t,Gc(e)}catch(t){Dc(e,t)}var i,r}function Dc(e,t){e._state=2,e._value=t,Gc(e)}function Gc(e){2===e._state&&0===e._deferreds.length&&Lc._immediateFn((function(){e._handled||Lc._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)$c(e,e._deferreds[t]);e._deferreds=null}function Wc(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function Zc(e,t){var n=!1;try{e((function(e){n||(n=!0,Pc(t,e))}),(function(e){n||(n=!0,Dc(t,e))}))}catch(e){if(n)return;n=!0,Dc(t,e)}}Lc.prototype.catch=function(e){return this.then(null,e)},Lc.prototype.then=function(e,t){var n=new this.constructor(Oc);return $c(this,new Wc(e,t,n)),n},Lc.prototype.finally=kc,Lc.all=function(e){return new Lc((function(t,n){if(!Nc(e))return n(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);var r=i.length;function o(e,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,(function(t){o(e,t)}),n)}i[e]=s,0==--r&&t(i)}catch(e){n(e)}}for(var s=0;s<i.length;s++)o(s,i[s])}))},Lc.allSettled=_c,Lc.resolve=function(e){return e&&"object"==typeof e&&e.constructor===Lc?e:new Lc((function(t){t(e)}))},Lc.reject=function(e){return new Lc((function(t,n){n(e)}))},Lc.race=function(e){return new Lc((function(t,n){if(!Nc(e))return n(new TypeError("Promise.race accepts an array"));for(var i=0,r=e.length;i<r;i++)Lc.resolve(e[i]).then(t,n)}))},Lc._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){xc(e,0)},Lc._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var Uc=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();"function"!=typeof Uc.Promise?Uc.Promise=Lc:(Uc.Promise.prototype.finally||(Uc.Promise.prototype.finally=kc),Uc.Promise.allSettled||(Uc.Promise.allSettled=_c)),function(e){function t(e){for(var t=0,n=Math.min(65536,e.length+1),i=new Uint16Array(n),r=[],o=0;;){var s=t<e.length;if(!s||o>=n-1){var a=i.subarray(0,o);if(r.push(String.fromCharCode.apply(null,a)),!s)return r.join("");e=e.subarray(t),t=0,o=0}var c=e[t++];if(0==(128&c))i[o++]=c;else if(192==(224&c)){var d=63&e[t++];i[o++]=(31&c)<<6|d}else if(224==(240&c)){d=63&e[t++];var l=63&e[t++];i[o++]=(31&c)<<12|d<<6|l}else if(240==(248&c)){var u=(7&c)<<18|(d=63&e[t++])<<12|(l=63&e[t++])<<6|63&e[t++];u>65535&&(u-=65536,i[o++]=u>>>10&1023|55296,u=56320|1023&u),i[o++]=u}}}var n="Failed to ",i=function(e,t,i){if(e)throw new Error("".concat(n).concat(t,": the '").concat(i,"' option is unsupported."))},r="function"==typeof Buffer&&Buffer.from,o=r?function(e){return Buffer.from(e)}:function(e){for(var t=0,n=e.length,i=0,r=Math.max(32,n+(n>>>1)+7),o=new Uint8Array(r>>>3<<3);t<n;){var s=e.charCodeAt(t++);if(s>=55296&&s<=56319){if(t<n){var a=e.charCodeAt(t);56320==(64512&a)&&(++t,s=((1023&s)<<10)+(1023&a)+65536)}if(s>=55296&&s<=56319)continue}if(i+4>o.length){r+=8,r=(r*=1+t/e.length*2)>>>3<<3;var c=new Uint8Array(r);c.set(o),o=c}if(0!=(4294967168&s)){if(0==(4294965248&s))o[i++]=s>>>6&31|192;else if(0==(4294901760&s))o[i++]=s>>>12&15|224,o[i++]=s>>>6&63|128;else{if(0!=(4292870144&s))continue;o[i++]=s>>>18&7|240,o[i++]=s>>>12&63|128,o[i++]=s>>>6&63|128}o[i++]=63&s|128}else o[i++]=s}return o.slice?o.slice(0,i):o.subarray(0,i)};function s(){this.encoding="utf-8"}s.prototype.encode=function(e,t){return i(t&&t.stream,"encode","stream"),o(e)};var a=!r&&"function"==typeof Blob&&"function"==typeof URL&&"function"==typeof URL.createObjectURL,c=["utf-8","utf8","unicode-1-1-utf-8"],d=t;r?d=function(e,t){return(e instanceof Buffer?e:Buffer.from(e.buffer,e.byteOffset,e.byteLength)).toString(t)}:a&&(d=function(e){try{return function(e){var t;try{var n=new Blob([e],{type:"text/plain;charset=UTF-8"});t=URL.createObjectURL(n);var i=new XMLHttpRequest;return i.open("GET",t,!1),i.send(),i.responseText}finally{t&&URL.revokeObjectURL(t)}}(e)}catch(n){return t(e)}});var l="construct 'TextDecoder'",u="".concat(n," ").concat(l,": the ");function p(e,t){if(i(t&&t.fatal,l,"fatal"),e=e||"utf-8",!(r?Buffer.isEncoding(e):-1!==c.indexOf(e.toLowerCase())))throw new RangeError("".concat(u," encoding label provided ('").concat(e,"') is invalid."));this.encoding=e,this.fatal=!1,this.ignoreBOM=!1}p.prototype.decode=function(e,t){var n;return i(t&&t.stream,"decode","stream"),n=e instanceof Uint8Array?e:e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer):new Uint8Array(e),d(n,this.encoding)},e.TextEncoder=e.TextEncoder||s,e.TextDecoder=e.TextDecoder||p}("undefined"!=typeof window?window:St),function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?s(e):t}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}}function d(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}function l(e,t,n){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=d(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}},l(e,t,n||e)}var u=function(){function t(){e(this,t),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return n(t,[{key:"addEventListener",value:function(e,t,n){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push({callback:t,options:n})}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var n=this.listeners[e],i=0,r=n.length;i<r;i++)if(n[i].callback===t)return void n.splice(i,1)}},{key:"dispatchEvent",value:function(e){if(e.type in this.listeners){for(var t=this.listeners[e.type].slice(),n=0,i=t.length;n<i;n++){var r=t[n];try{r.callback.call(this,e)}catch(e){Promise.resolve().then((function(){throw e}))}r.options&&r.options.once&&this.removeEventListener(e.type,r.callback)}return!e.defaultPrevented}}}]),t}(),p=function(t){i(a,t);var o=c(a);function a(){var t;return e(this,a),(t=o.call(this)).listeners||u.call(s(t)),Object.defineProperty(s(t),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(s(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return n(a,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(e){"abort"===e.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,e)),l(r(a.prototype),"dispatchEvent",this).call(this,e)}}]),a}(u),h=function(){function t(){e(this,t),Object.defineProperty(this,"signal",{value:new p,writable:!0,configurable:!0})}return n(t,[{key:"abort",value:function(){var e;try{e=new Event("abort")}catch(t){"undefined"!=typeof document?document.createEvent?(e=document.createEvent("Event")).initEvent("abort",!1,!1):(e=document.createEventObject()).type="abort":e={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(e)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(h.prototype[Symbol.toStringTag]="AbortController",p.prototype[Symbol.toStringTag]="AbortSignal"),function(e){(function(e){return e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof e.Request&&!e.Request.prototype.hasOwnProperty("signal")||!e.AbortController})(e)&&(e.AbortController=h,e.AbortSignal=p)}("undefined"!=typeof self?self:St)}();var Yc=At((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){var e=this;this.locked=new Map,this.addToLocked=function(t,n){var i=e.locked.get(t);void 0===i?void 0===n?e.locked.set(t,[]):e.locked.set(t,[n]):void 0!==n&&(i.unshift(n),e.locked.set(t,i))},this.isLocked=function(t){return e.locked.has(t)},this.lock=function(t){return new Promise((function(n,i){e.isLocked(t)?e.addToLocked(t,n):(e.addToLocked(t),n())}))},this.unlock=function(t){var n=e.locked.get(t);if(void 0!==n&&0!==n.length){var i=n.pop();e.locked.set(t,n),void 0!==i&&setTimeout(i,0)}else e.locked.delete(t)}}return e.getInstance=function(){return void 0===e.instance&&(e.instance=new e),e.instance},e}();t.default=function(){return n.getInstance()}}));Et(Yc);var Hc=At((function(e,t){var n=St&&St.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(s,a)}c((i=i.apply(e,t||[])).next())}))},i=St&&St.__generator||function(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var r="browser-tabs-lock-key";function o(e){return new Promise((function(t){return setTimeout(t,e)}))}function s(e){for(var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n="",i=0;i<e;i++)n+=t[Math.floor(Math.random()*t.length)];return n}var a=function(){function e(){this.acquiredIatSet=new Set,this.id=Date.now().toString()+s(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),void 0===e.waiters&&(e.waiters=[])}return e.prototype.acquireLock=function(t,a){return void 0===a&&(a=5e3),n(this,void 0,void 0,(function(){var n,c,d,l,u,p;return i(this,(function(i){switch(i.label){case 0:n=Date.now()+s(4),c=Date.now()+a,d=r+"-"+t,l=window.localStorage,i.label=1;case 1:return Date.now()<c?[4,o(30)]:[3,8];case 2:return i.sent(),null!==l.getItem(d)?[3,5]:(u=this.id+"-"+t+"-"+n,[4,o(Math.floor(25*Math.random()))]);case 3:return i.sent(),l.setItem(d,JSON.stringify({id:this.id,iat:n,timeoutKey:u,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,o(30)];case 4:return i.sent(),null!==(p=l.getItem(d))&&(p=JSON.parse(p)).id===this.id&&p.iat===n?(this.acquiredIatSet.add(n),this.refreshLockWhileAcquired(d,n),[2,!0]):[3,7];case 5:return e.lockCorrector(),[4,this.waitForSomethingToChange(c)];case 6:i.sent(),i.label=7;case 7:return n=Date.now()+s(4),[3,1];case 8:return[2,!1]}}))}))},e.prototype.refreshLockWhileAcquired=function(e,t){return n(this,void 0,void 0,(function(){var r=this;return i(this,(function(o){return setTimeout((function(){return n(r,void 0,void 0,(function(){var n,r;return i(this,(function(i){switch(i.label){case 0:return[4,Yc.default().lock(t)];case 1:return i.sent(),this.acquiredIatSet.has(t)?(n=window.localStorage,null===(r=n.getItem(e))?(Yc.default().unlock(t),[2]):((r=JSON.parse(r)).timeRefreshed=Date.now(),n.setItem(e,JSON.stringify(r)),Yc.default().unlock(t),this.refreshLockWhileAcquired(e,t),[2])):(Yc.default().unlock(t),[2])}}))}))}),1e3),[2]}))}))},e.prototype.waitForSomethingToChange=function(t){return n(this,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n){var i=!1,r=Date.now(),o=!1;function s(){if(o||(window.removeEventListener("storage",s),e.removeFromWaiting(s),clearTimeout(a),o=!0),!i){i=!0;var t=50-(Date.now()-r);t>0?setTimeout(n,t):n()}}window.addEventListener("storage",s),e.addToWaiting(s);var a=setTimeout(s,Math.max(0,t-Date.now()))}))];case 1:return n.sent(),[2]}}))}))},e.addToWaiting=function(t){this.removeFromWaiting(t),void 0!==e.waiters&&e.waiters.push(t)},e.removeFromWaiting=function(t){void 0!==e.waiters&&(e.waiters=e.waiters.filter((function(e){return e!==t})))},e.notifyWaiters=function(){void 0!==e.waiters&&e.waiters.slice().forEach((function(e){return e()}))},e.prototype.releaseLock=function(e){return n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this.releaseLock__private__(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.releaseLock__private__=function(t){return n(this,void 0,void 0,(function(){var n,o,s;return i(this,(function(i){switch(i.label){case 0:return n=window.localStorage,o=r+"-"+t,null===(s=n.getItem(o))?[2]:(s=JSON.parse(s)).id!==this.id?[3,2]:[4,Yc.default().lock(s.iat)];case 1:i.sent(),this.acquiredIatSet.delete(s.iat),n.removeItem(o),Yc.default().unlock(s.iat),e.notifyWaiters(),i.label=2;case 2:return[2]}}))}))},e.lockCorrector=function(){for(var t=Date.now()-5e3,n=window.localStorage,i=Object.keys(n),o=!1,s=0;s<i.length;s++){var a=i[s];if(a.includes(r)){var c=n.getItem(a);null!==c&&(void 0===(c=JSON.parse(c)).timeRefreshed&&c.timeAcquired<t||void 0!==c.timeRefreshed&&c.timeRefreshed<t)&&(n.removeItem(a),o=!0)}}o&&e.notifyWaiters()},e.waiters=void 0,e}();t.default=a})),jc=Et(Hc),Xc={timeoutInSeconds:60},Kc=["login_required","consent_required","interaction_required","account_selection_required","access_denied"],Vc={name:"auth0-spa-js",version:"1.22.5"},Fc=function(){return Date.now()},Mc=function(e){function t(n,i){var r=e.call(this,i)||this;return r.error=n,r.error_description=i,Object.setPrototypeOf(r,t.prototype),r}return ft(t,e),t.fromPayload=function(e){return new t(e.error,e.error_description)},t}(Error),zc=function(e){function t(n,i,r,o){void 0===o&&(o=null);var s=e.call(this,n,i)||this;return s.state=r,s.appState=o,Object.setPrototypeOf(s,t.prototype),s}return ft(t,e),t}(Mc),Jc=function(e){function t(){var n=e.call(this,"timeout","Timeout")||this;return Object.setPrototypeOf(n,t.prototype),n}return ft(t,e),t}(Mc),Bc=function(e){function t(n){var i=e.call(this)||this;return i.popup=n,Object.setPrototypeOf(i,t.prototype),i}return ft(t,e),t}(Jc),qc=function(e){function t(n){var i=e.call(this,"cancelled","Popup closed")||this;return i.popup=n,Object.setPrototypeOf(i,t.prototype),i}return ft(t,e),t}(Mc),Qc=function(e){function t(n,i,r){var o=e.call(this,n,i)||this;return o.mfa_token=r,Object.setPrototypeOf(o,t.prototype),o}return ft(t,e),t}(Mc),ed=function(e){function t(n,i){var r=e.call(this,"missing_refresh_token","Missing Refresh Token (audience: '".concat(ld(n,["default"]),"', scope: '").concat(ld(i),"')"))||this;return r.audience=n,r.scope=i,Object.setPrototypeOf(r,t.prototype),r}return ft(t,e),t}(Mc),td=function(e){return new Promise((function(t,n){var i,r=setInterval((function(){e.popup&&e.popup.closed&&(clearInterval(r),clearTimeout(o),window.removeEventListener("message",i,!1),n(new qc(e.popup)))}),1e3),o=setTimeout((function(){clearInterval(r),n(new Bc(e.popup)),window.removeEventListener("message",i,!1)}),1e3*(e.timeoutInSeconds||60));i=function(s){if(s.data&&"authorization_response"===s.data.type){if(clearTimeout(o),clearInterval(r),window.removeEventListener("message",i,!1),e.popup.close(),s.data.response.error)return n(Mc.fromPayload(s.data.response));t(s.data.response)}},window.addEventListener("message",i)}))},nd=function(){return window.crypto||window.msCrypto},id=function(){var e=nd();return e.subtle||e.webkitSubtle},rd=function(){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.",t="";return Array.from(nd().getRandomValues(new Uint8Array(43))).forEach((function(n){return t+=e[n%e.length]})),t},od=function(e){return btoa(e)},sd=function(e){return Object.keys(e).filter((function(t){return void 0!==e[t]})).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")},ad=function(e){return bt(void 0,void 0,void 0,(function(){var t;return yt(this,(function(n){switch(n.label){case 0:return t=id().digest({name:"SHA-256"},(new TextEncoder).encode(e)),window.msCrypto?[2,new Promise((function(e,n){t.oncomplete=function(t){e(t.target.result)},t.onerror=function(e){n(e.error)},t.onabort=function(){n("The digest operation was aborted")}}))]:[4,t];case 1:return[2,n.sent()]}}))}))},cd=function(e){return function(e){return decodeURIComponent(atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}(e.replace(/_/g,"/").replace(/-/g,"+"))},dd=function(e){var t=new Uint8Array(e);return function(e){var t={"+":"-","/":"_","=":""};return e.replace(/[+/=]/g,(function(e){return t[e]}))}(window.btoa(String.fromCharCode.apply(String,wt([],gt(Array.from(t)),!1))))};function ld(e,t){return void 0===t&&(t=[]),e&&!t.includes(e)?e:""}var ud=function(e,t){return bt(void 0,void 0,void 0,(function(){var n,i;return yt(this,(function(r){switch(r.label){case 0:return[4,(o=e,s=t,s=s||{},new Promise((function(e,t){var n=new XMLHttpRequest,i=[],r=[],a={},c=function(){return{ok:2==(n.status/100|0),statusText:n.statusText,status:n.status,url:n.responseURL,text:function(){return Promise.resolve(n.responseText)},json:function(){return Promise.resolve(n.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([n.response]))},clone:c,headers:{keys:function(){return i},entries:function(){return r},get:function(e){return a[e.toLowerCase()]},has:function(e){return e.toLowerCase()in a}}}};for(var d in n.open(s.method||"get",o,!0),n.onload=function(){n.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){i.push(t=t.toLowerCase()),r.push([t,n]),a[t]=a[t]?a[t]+","+n:n})),e(c())},n.onerror=t,n.withCredentials="include"==s.credentials,s.headers)n.setRequestHeader(d,s.headers[d]);n.send(s.body||null)})))];case 1:return n=r.sent(),i={ok:n.ok},[4,n.json()];case 2:return[2,(i.json=r.sent(),i)]}var o,s}))}))},pd=function(e,t,n){return bt(void 0,void 0,void 0,(function(){var i,r;return yt(this,(function(o){return i=new AbortController,t.signal=i.signal,[2,Promise.race([ud(e,t),new Promise((function(e,t){r=setTimeout((function(){i.abort(),t(new Error("Timeout when executing 'fetch'"))}),n)}))]).finally((function(){clearTimeout(r)}))]}))}))},hd=function(e,t,n,i,r,o,s){return bt(void 0,void 0,void 0,(function(){return yt(this,(function(a){return[2,(c={auth:{audience:t,scope:n},timeout:r,fetchUrl:e,fetchOptions:i,useFormData:s},d=o,new Promise((function(e,t){var n=new MessageChannel;n.port1.onmessage=function(n){n.data.error?t(new Error(n.data.error)):e(n.data)},d.postMessage(c,[n.port2])})))];var c,d}))}))},fd=function(e,t,n,i,r,o,s){return void 0===s&&(s=1e4),bt(void 0,void 0,void 0,(function(){return yt(this,(function(a){return r?[2,hd(e,t,n,i,s,r,o)]:[2,pd(e,i,s)]}))}))};function md(e,t,n,i,r,o,s){return bt(this,void 0,void 0,(function(){var a,c,d,l,u,p,h,f,m;return yt(this,(function(v){switch(v.label){case 0:a=null,d=0,v.label=1;case 1:if(!(d<3))return[3,6];v.label=2;case 2:return v.trys.push([2,4,,5]),[4,fd(e,n,i,r,o,s,t)];case 3:return c=v.sent(),a=null,[3,6];case 4:return l=v.sent(),a=l,[3,5];case 5:return d++,[3,1];case 6:if(a)throw a.message=a.message||"Failed to fetch",a;if(u=c.json,p=u.error,h=u.error_description,f=vt(u,["error","error_description"]),!c.ok){if(m=h||"HTTP error. Unable to fetch ".concat(e),"mfa_required"===p)throw new Qc(p,m,f.mfa_token);throw new Mc(p||"request_error",m)}return[2,f]}}))}))}function vd(e,t){var n=e.baseUrl,i=e.timeout,r=e.audience,o=e.scope,s=e.auth0Client,a=e.useFormData,c=vt(e,["baseUrl","timeout","audience","scope","auth0Client","useFormData"]);return bt(this,void 0,void 0,(function(){var e;return yt(this,(function(d){switch(d.label){case 0:return e=a?sd(c):JSON.stringify(c),[4,md("".concat(n,"/oauth/token"),i,r||"default",o,{method:"POST",body:e,headers:{"Content-Type":a?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(s||Vc))}},t,a)];case 1:return[2,d.sent()]}}))}))}var bd=function(e){return Array.from(new Set(e))},yd=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return bd(e.join(" ").trim().split(/\s+/)).join(" ")},gd=function(){function e(e,t){void 0===t&&(t="@@auth0spajs@@"),this.prefix=t,this.client_id=e.client_id,this.scope=e.scope,this.audience=e.audience}return e.prototype.toKey=function(){return"".concat(this.prefix,"::").concat(this.client_id,"::").concat(this.audience,"::").concat(this.scope)},e.fromKey=function(t){var n=gt(t.split("::"),4),i=n[0],r=n[1],o=n[2];return new e({client_id:r,scope:n[3],audience:o},i)},e.fromCacheEntry=function(t){return new e({scope:t.scope,audience:t.audience,client_id:t.client_id})},e}(),wd=function(){function e(){}return e.prototype.set=function(e,t){localStorage.setItem(e,JSON.stringify(t))},e.prototype.get=function(e){var t=window.localStorage.getItem(e);if(t)try{return JSON.parse(t)}catch(e){return}},e.prototype.remove=function(e){localStorage.removeItem(e)},e.prototype.allKeys=function(){return Object.keys(window.localStorage).filter((function(e){return e.startsWith("@@auth0spajs@@")}))},e}(),Sd=function(){var e;this.enclosedCache=(e={},{set:function(t,n){e[t]=n},get:function(t){var n=e[t];if(n)return n},remove:function(t){delete e[t]},allKeys:function(){return Object.keys(e)}})},Ed=function(){function e(e,t,n){this.cache=e,this.keyManifest=t,this.nowProvider=n,this.nowProvider=this.nowProvider||Fc}return e.prototype.get=function(e,t){var n;return void 0===t&&(t=0),bt(this,void 0,void 0,(function(){var i,r,o,s,a;return yt(this,(function(c){switch(c.label){case 0:return[4,this.cache.get(e.toKey())];case 1:return(i=c.sent())?[3,4]:[4,this.getCacheKeys()];case 2:return(r=c.sent())?(o=this.matchExistingCacheKey(e,r))?[4,this.cache.get(o)]:[3,4]:[2];case 3:i=c.sent(),c.label=4;case 4:return i?[4,this.nowProvider()]:[2];case 5:return s=c.sent(),a=Math.floor(s/1e3),i.expiresAt-t<a?i.body.refresh_token?(i.body={refresh_token:i.body.refresh_token},[4,this.cache.set(e.toKey(),i)]):[3,7]:[3,10];case 6:return c.sent(),[2,i.body];case 7:return[4,this.cache.remove(e.toKey())];case 8:return c.sent(),[4,null===(n=this.keyManifest)||void 0===n?void 0:n.remove(e.toKey())];case 9:return c.sent(),[2];case 10:return[2,i.body]}}))}))},e.prototype.set=function(e){var t;return bt(this,void 0,void 0,(function(){var n,i;return yt(this,(function(r){switch(r.label){case 0:return n=new gd({client_id:e.client_id,scope:e.scope,audience:e.audience}),[4,this.wrapCacheEntry(e)];case 1:return i=r.sent(),[4,this.cache.set(n.toKey(),i)];case 2:return r.sent(),[4,null===(t=this.keyManifest)||void 0===t?void 0:t.add(n.toKey())];case 3:return r.sent(),[2]}}))}))},e.prototype.clear=function(e){var t;return bt(this,void 0,void 0,(function(){var n,i=this;return yt(this,(function(r){switch(r.label){case 0:return[4,this.getCacheKeys()];case 1:return(n=r.sent())?[4,n.filter((function(t){return!e||t.includes(e)})).reduce((function(e,t){return bt(i,void 0,void 0,(function(){return yt(this,(function(n){switch(n.label){case 0:return[4,e];case 1:return n.sent(),[4,this.cache.remove(t)];case 2:return n.sent(),[2]}}))}))}),Promise.resolve())]:[2];case 2:return r.sent(),[4,null===(t=this.keyManifest)||void 0===t?void 0:t.clear()];case 3:return r.sent(),[2]}}))}))},e.prototype.clearSync=function(e){var t=this,n=this.cache.allKeys();n&&n.filter((function(t){return!e||t.includes(e)})).forEach((function(e){t.cache.remove(e)}))},e.prototype.wrapCacheEntry=function(e){return bt(this,void 0,void 0,(function(){var t,n,i;return yt(this,(function(r){switch(r.label){case 0:return[4,this.nowProvider()];case 1:return t=r.sent(),n=Math.floor(t/1e3)+e.expires_in,i=Math.min(n,e.decodedToken.claims.exp),[2,{body:e,expiresAt:i}]}}))}))},e.prototype.getCacheKeys=function(){var e;return bt(this,void 0,void 0,(function(){var t;return yt(this,(function(n){switch(n.label){case 0:return this.keyManifest?[4,this.keyManifest.get()]:[3,2];case 1:return t=null===(e=n.sent())||void 0===e?void 0:e.keys,[3,4];case 2:return[4,this.cache.allKeys()];case 3:t=n.sent(),n.label=4;case 4:return[2,t]}}))}))},e.prototype.matchExistingCacheKey=function(e,t){return t.filter((function(t){var n=gd.fromKey(t),i=new Set(n.scope&&n.scope.split(" ")),r=e.scope.split(" "),o=n.scope&&r.reduce((function(e,t){return e&&i.has(t)}),!0);return"@@auth0spajs@@"===n.prefix&&n.client_id===e.client_id&&n.audience===e.audience&&o}))[0]},e}(),Ad=function(){function e(e,t){this.storage=e,this.clientId=t,this.storageKey="".concat("a0.spajs.txs",".").concat(this.clientId),this.transaction=this.storage.get(this.storageKey)}return e.prototype.create=function(e){this.transaction=e,this.storage.save(this.storageKey,e,{daysUntilExpire:1})},e.prototype.get=function(){return this.transaction},e.prototype.remove=function(){delete this.transaction,this.storage.remove(this.storageKey)},e}(),Rd=function(e){return"number"==typeof e},Cd=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],Id=function(e){if(!e.id_token)throw new Error("ID token is required but missing");var t=function(e){var t=e.split("."),n=gt(t,3),i=n[0],r=n[1],o=n[2];if(3!==t.length||!i||!r||!o)throw new Error("ID token could not be decoded");var s=JSON.parse(cd(r)),a={__raw:e},c={};return Object.keys(s).forEach((function(e){a[e]=s[e],Cd.includes(e)||(c[e]=s[e])})),{encoded:{header:i,payload:r,signature:o},header:JSON.parse(cd(i)),claims:a,user:c}}(e.id_token);if(!t.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(t.claims.iss!==e.iss)throw new Error('Issuer (iss) claim mismatch in the ID token; expected "'.concat(e.iss,'", found "').concat(t.claims.iss,'"'));if(!t.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if("RS256"!==t.header.alg)throw new Error('Signature algorithm of "'.concat(t.header.alg,'" is not supported. Expected the ID token to be signed with "RS256".'));if(!t.claims.aud||"string"!=typeof t.claims.aud&&!Array.isArray(t.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e.aud))throw new Error('Audience (aud) claim mismatch in the ID token; expected "'.concat(e.aud,'" but was not one of "').concat(t.claims.aud.join(", "),'"'));if(t.claims.aud.length>1){if(!t.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(t.claims.azp!==e.aud)throw new Error('Authorized Party (azp) claim mismatch in the ID token; expected "'.concat(e.aud,'", found "').concat(t.claims.azp,'"'))}}else if(t.claims.aud!==e.aud)throw new Error('Audience (aud) claim mismatch in the ID token; expected "'.concat(e.aud,'" but found "').concat(t.claims.aud,'"'));if(e.nonce){if(!t.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(t.claims.nonce!==e.nonce)throw new Error('Nonce (nonce) claim mismatch in the ID token; expected "'.concat(e.nonce,'", found "').concat(t.claims.nonce,'"'))}if(e.max_age&&!Rd(t.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(!Rd(t.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!Rd(t.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");var n=e.leeway||60,i=new Date(e.now||Date.now()),r=new Date(0),o=new Date(0),s=new Date(0);if(s.setUTCSeconds(parseInt(t.claims.auth_time)+e.max_age+n),r.setUTCSeconds(t.claims.exp+n),o.setUTCSeconds(t.claims.nbf-n),i>r)throw new Error("Expiration Time (exp) claim error in the ID token; current time (".concat(i,") is after expiration time (").concat(r,")"));if(Rd(t.claims.nbf)&&i<o)throw new Error("Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Currrent time (".concat(i,") is before ").concat(o));if(Rd(t.claims.auth_time)&&i>s)throw new Error("Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Currrent time (".concat(i,") is after last auth at ").concat(s));if(e.organizationId){if(!t.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(e.organizationId!==t.claims.org_id)throw new Error('Organization ID (org_id) claim mismatch in the ID token; expected "'.concat(e.organizationId,'", found "').concat(t.claims.org_id,'"'))}return t},Td=At((function(e,t){var n=St&&St.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},n.apply(this,arguments)};function i(e,t){if(!t)return"";var n="; "+e;return!0===t?n:n+"="+t}function r(e,t,n){return encodeURIComponent(e).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(t).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(e){if("number"==typeof e.expires){var t=new Date;t.setMilliseconds(t.getMilliseconds()+864e5*e.expires),e.expires=t}return i("Expires",e.expires?e.expires.toUTCString():"")+i("Domain",e.domain)+i("Path",e.path)+i("Secure",e.secure)+i("SameSite",e.sameSite)}(n)}function o(e){for(var t={},n=e?e.split("; "):[],i=/(%[\dA-F]{2})+/gi,r=0;r<n.length;r++){var o=n[r].split("="),s=o.slice(1).join("=");'"'===s.charAt(0)&&(s=s.slice(1,-1));try{t[o[0].replace(i,decodeURIComponent)]=s.replace(i,decodeURIComponent)}catch(e){}}return t}function s(){return o(document.cookie)}function a(e,t,i){document.cookie=r(e,t,n({path:"/"},i))}t.__esModule=!0,t.encode=r,t.parse=o,t.getAll=s,t.get=function(e){return s()[e]},t.set=a,t.remove=function(e,t){a(e,"",n(n({},t),{expires:-1}))}}));Et(Td),Td.encode,Td.parse,Td.getAll;var kd=Td.get,_d=Td.set,xd=Td.remove,Nd={get:function(e){var t=kd(e);if(void 0!==t)return JSON.parse(t)},save:function(e,t,n){var i={};"https:"===window.location.protocol&&(i={secure:!0,sameSite:"none"}),(null==n?void 0:n.daysUntilExpire)&&(i.expires=n.daysUntilExpire),(null==n?void 0:n.cookieDomain)&&(i.domain=n.cookieDomain),_d(e,JSON.stringify(t),i)},remove:function(e,t){var n={};(null==t?void 0:t.cookieDomain)&&(n.domain=t.cookieDomain),xd(e,n)}},Od={get:function(e){return Nd.get(e)||Nd.get("".concat("_legacy_").concat(e))},save:function(e,t,n){var i={};"https:"===window.location.protocol&&(i={secure:!0}),(null==n?void 0:n.daysUntilExpire)&&(i.expires=n.daysUntilExpire),_d("".concat("_legacy_").concat(e),JSON.stringify(t),i),Nd.save(e,t,n)},remove:function(e,t){var n={};(null==t?void 0:t.cookieDomain)&&(n.domain=t.cookieDomain),xd(e,n),Nd.remove(e,t),Nd.remove("".concat("_legacy_").concat(e),t)}},Ld={get:function(e){if("undefined"!=typeof sessionStorage){var t=sessionStorage.getItem(e);if(void 0!==t)return JSON.parse(t)}},save:function(e,t){sessionStorage.setItem(e,JSON.stringify(t))},remove:function(e){sessionStorage.removeItem(e)}};var $d,Pd=("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIHQ9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gdD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSl9LHQoZSxyKX07ZnVuY3Rpb24gZShlLHIpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByJiZudWxsIT09cil0aHJvdyBuZXcgVHlwZUVycm9yKCJDbGFzcyBleHRlbmRzIHZhbHVlICIrU3RyaW5nKHIpKyIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbCIpO2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9dChlLHIpLGUucHJvdG90eXBlPW51bGw9PT1yP09iamVjdC5jcmVhdGUocik6KG4ucHJvdG90eXBlPXIucHJvdG90eXBlLG5ldyBuKX12YXIgcj1mdW5jdGlvbigpe3JldHVybiByPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxyPTEsbj1hcmd1bWVudHMubGVuZ3RoO3I8bjtyKyspZm9yKHZhciBvIGluIGU9YXJndW1lbnRzW3JdKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG8pJiYodFtvXT1lW29dKTtyZXR1cm4gdH0sci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIG4odCxlLHIsbil7cmV0dXJuIG5ldyhyfHwocj1Qcm9taXNlKSkoKGZ1bmN0aW9uKG8sYyl7ZnVuY3Rpb24gaSh0KXt0cnl7cyhuLm5leHQodCkpfWNhdGNoKHQpe2ModCl9fWZ1bmN0aW9uIGEodCl7dHJ5e3Mobi50aHJvdyh0KSl9Y2F0Y2godCl7Yyh0KX19ZnVuY3Rpb24gcyh0KXt2YXIgZTt0LmRvbmU/byh0LnZhbHVlKTooZT10LnZhbHVlLGUgaW5zdGFuY2VvZiByP2U6bmV3IHIoKGZ1bmN0aW9uKHQpe3QoZSl9KSkpLnRoZW4oaSxhKX1zKChuPW4uYXBwbHkodCxlfHxbXSkpLm5leHQoKSl9KSl9ZnVuY3Rpb24gbyh0LGUpe3ZhciByLG4sbyxjLGk9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmb1swXSl0aHJvdyBvWzFdO3JldHVybiBvWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIGM9e25leHQ6YSgwKSx0aHJvdzphKDEpLHJldHVybjphKDIpfSwiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYoY1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxjO2Z1bmN0aW9uIGEoYyl7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihjKXtpZihyKXRocm93IG5ldyBUeXBlRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy4iKTtmb3IoO2k7KXRyeXtpZihyPTEsbiYmKG89MiZjWzBdP24ucmV0dXJuOmNbMF0/bi50aHJvd3x8KChvPW4ucmV0dXJuKSYmby5jYWxsKG4pLDApOm4ubmV4dCkmJiEobz1vLmNhbGwobixjWzFdKSkuZG9uZSlyZXR1cm4gbztzd2l0Y2gobj0wLG8mJihjPVsyJmNbMF0sby52YWx1ZV0pLGNbMF0pe2Nhc2UgMDpjYXNlIDE6bz1jO2JyZWFrO2Nhc2UgNDpyZXR1cm4gaS5sYWJlbCsrLHt2YWx1ZTpjWzFdLGRvbmU6ITF9O2Nhc2UgNTppLmxhYmVsKyssbj1jWzFdLGM9WzBdO2NvbnRpbnVlO2Nhc2UgNzpjPWkub3BzLnBvcCgpLGkudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEobz1pLnRyeXMsKG89by5sZW5ndGg+MCYmb1tvLmxlbmd0aC0xXSl8fDYhPT1jWzBdJiYyIT09Y1swXSkpe2k9MDtjb250aW51ZX1pZigzPT09Y1swXSYmKCFvfHxjWzFdPm9bMF0mJmNbMV08b1szXSkpe2kubGFiZWw9Y1sxXTticmVha31pZig2PT09Y1swXSYmaS5sYWJlbDxvWzFdKXtpLmxhYmVsPW9bMV0sbz1jO2JyZWFrfWlmKG8mJmkubGFiZWw8b1syXSl7aS5sYWJlbD1vWzJdLGkub3BzLnB1c2goYyk7YnJlYWt9b1syXSYmaS5vcHMucG9wKCksaS50cnlzLnBvcCgpO2NvbnRpbnVlfWM9ZS5jYWxsKHQsaSl9Y2F0Y2godCl7Yz1bNix0XSxuPTB9ZmluYWxseXtyPW89MH1pZig1JmNbMF0pdGhyb3cgY1sxXTtyZXR1cm57dmFsdWU6Y1swXT9jWzFdOnZvaWQgMCxkb25lOiEwfX0oW2MsYV0pfX19ZnVuY3Rpb24gYyh0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1bXSksdCYmIWUuaW5jbHVkZXModCk/dDoiIn12YXIgaT1mdW5jdGlvbih0KXtmdW5jdGlvbiByKGUsbil7dmFyIG89dC5jYWxsKHRoaXMsbil8fHRoaXM7cmV0dXJuIG8uZXJyb3I9ZSxvLmVycm9yX2Rlc2NyaXB0aW9uPW4sT2JqZWN0LnNldFByb3RvdHlwZU9mKG8sci5wcm90b3R5cGUpLG99cmV0dXJuIGUocix0KSxyLmZyb21QYXlsb2FkPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgcih0LmVycm9yLHQuZXJyb3JfZGVzY3JpcHRpb24pfSxyfShFcnJvcik7IWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoZSxuLG8sYyl7dm9pZCAwPT09YyYmKGM9bnVsbCk7dmFyIGk9dC5jYWxsKHRoaXMsZSxuKXx8dGhpcztyZXR1cm4gaS5zdGF0ZT1vLGkuYXBwU3RhdGU9YyxPYmplY3Quc2V0UHJvdG90eXBlT2YoaSxyLnByb3RvdHlwZSksaX1lKHIsdCl9KGkpLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoZSl7dmFyIG49dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLnBvcHVwPWUsT2JqZWN0LnNldFByb3RvdHlwZU9mKG4sci5wcm90b3R5cGUpLG59ZShyLHQpfShmdW5jdGlvbih0KXtmdW5jdGlvbiByKCl7dmFyIGU9dC5jYWxsKHRoaXMsInRpbWVvdXQiLCJUaW1lb3V0Iil8fHRoaXM7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZihlLHIucHJvdG90eXBlKSxlfXJldHVybiBlKHIsdCkscn0oaSkpLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoZSl7dmFyIG49dC5jYWxsKHRoaXMsImNhbmNlbGxlZCIsIlBvcHVwIGNsb3NlZCIpfHx0aGlzO3JldHVybiBuLnBvcHVwPWUsT2JqZWN0LnNldFByb3RvdHlwZU9mKG4sci5wcm90b3R5cGUpLG59ZShyLHQpfShpKSxmdW5jdGlvbih0KXtmdW5jdGlvbiByKGUsbixvKXt2YXIgYz10LmNhbGwodGhpcyxlLG4pfHx0aGlzO3JldHVybiBjLm1mYV90b2tlbj1vLE9iamVjdC5zZXRQcm90b3R5cGVPZihjLHIucHJvdG90eXBlKSxjfWUocix0KX0oaSk7dmFyIGE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gcihlLG4pe3ZhciBvPXQuY2FsbCh0aGlzLCJtaXNzaW5nX3JlZnJlc2hfdG9rZW4iLCJNaXNzaW5nIFJlZnJlc2ggVG9rZW4gKGF1ZGllbmNlOiAnIi5jb25jYXQoYyhlLFsiZGVmYXVsdCJdKSwiJywgc2NvcGU6ICciKS5jb25jYXQoYyhuKSwiJykiKSl8fHRoaXM7cmV0dXJuIG8uYXVkaWVuY2U9ZSxvLnNjb3BlPW4sT2JqZWN0LnNldFByb3RvdHlwZU9mKG8sci5wcm90b3R5cGUpLG99cmV0dXJuIGUocix0KSxyfShpKSxzPXt9LHU9ZnVuY3Rpb24odCxlKXtyZXR1cm4iIi5jb25jYXQodCwifCIpLmNvbmNhdChlKX07YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZGF0YSxjPWUudGltZW91dCxpPWUuYXV0aCxmPWUuZmV0Y2hVcmwsbD1lLmZldGNoT3B0aW9ucyxwPWUudXNlRm9ybURhdGEsaD1mdW5jdGlvbih0LGUpe3ZhciByPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJnRbU3ltYm9sLml0ZXJhdG9yXTtpZighcilyZXR1cm4gdDt2YXIgbixvLGM9ci5jYWxsKHQpLGk9W107dHJ5e2Zvcig7KHZvaWQgMD09PWV8fGUtLSA+MCkmJiEobj1jLm5leHQoKSkuZG9uZTspaS5wdXNoKG4udmFsdWUpfWNhdGNoKHQpe289e2Vycm9yOnR9fWZpbmFsbHl7dHJ5e24mJiFuLmRvbmUmJihyPWMucmV0dXJuKSYmci5jYWxsKGMpfWZpbmFsbHl7aWYobyl0aHJvdyBvLmVycm9yfX1yZXR1cm4gaX0odC5wb3J0cywxKVswXTtyZXR1cm4gbih2b2lkIDAsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxlLG4seSx2LGIsZCx3LE8sXztyZXR1cm4gbyh0aGlzLChmdW5jdGlvbihvKXtzd2l0Y2goby5sYWJlbCl7Y2FzZSAwOm49KGU9aXx8e30pLmF1ZGllbmNlLHk9ZS5zY29wZSxvLmxhYmVsPTE7Y2FzZSAxOmlmKG8udHJ5cy5wdXNoKFsxLDcsLDhdKSwhKHY9cD8obT1sLmJvZHksaz1uZXcgVVJMU2VhcmNoUGFyYW1zKG0pLFA9e30say5mb3JFYWNoKChmdW5jdGlvbih0LGUpe1BbZV09dH0pKSxQKTpKU09OLnBhcnNlKGwuYm9keSkpLnJlZnJlc2hfdG9rZW4mJiJyZWZyZXNoX3Rva2VuIj09PXYuZ3JhbnRfdHlwZSl7aWYoYj1mdW5jdGlvbih0LGUpe3JldHVybiBzW3UodCxlKV19KG4seSksIWIpdGhyb3cgbmV3IGEobix5KTtsLmJvZHk9cD9uZXcgVVJMU2VhcmNoUGFyYW1zKHIocih7fSx2KSx7cmVmcmVzaF90b2tlbjpifSkpLnRvU3RyaW5nKCk6SlNPTi5zdHJpbmdpZnkocihyKHt9LHYpLHtyZWZyZXNoX3Rva2VuOmJ9KSl9ZD12b2lkIDAsImZ1bmN0aW9uIj09dHlwZW9mIEFib3J0Q29udHJvbGxlciYmKGQ9bmV3IEFib3J0Q29udHJvbGxlcixsLnNpZ25hbD1kLnNpZ25hbCksdz12b2lkIDAsby5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gby50cnlzLnB1c2goWzIsNCwsNV0pLFs0LFByb21pc2UucmFjZShbKGc9YyxuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCl7cmV0dXJuIHNldFRpbWVvdXQodCxnKX0pKSksZmV0Y2goZixyKHt9LGwpKV0pXTtjYXNlIDM6cmV0dXJuIHc9by5zZW50KCksWzMsNV07Y2FzZSA0OnJldHVybiBPPW8uc2VudCgpLGgucG9zdE1lc3NhZ2Uoe2Vycm9yOk8ubWVzc2FnZX0pLFsyXTtjYXNlIDU6cmV0dXJuIHc/WzQsdy5qc29uKCldOihkJiZkLmFib3J0KCksaC5wb3N0TWVzc2FnZSh7ZXJyb3I6IlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJyJ9KSxbMl0pO2Nhc2UgNjpyZXR1cm4odD1vLnNlbnQoKSkucmVmcmVzaF90b2tlbj8oZnVuY3Rpb24odCxlLHIpe3NbdShlLHIpXT10fSh0LnJlZnJlc2hfdG9rZW4sbix5KSxkZWxldGUgdC5yZWZyZXNoX3Rva2VuKTpmdW5jdGlvbih0LGUpe2RlbGV0ZSBzW3UodCxlKV19KG4seSksaC5wb3N0TWVzc2FnZSh7b2s6dy5vayxqc29uOnR9KSxbMyw4XTtjYXNlIDc6cmV0dXJuIF89by5zZW50KCksaC5wb3N0TWVzc2FnZSh7b2s6ITEsanNvbjp7ZXJyb3JfZGVzY3JpcHRpb246Xy5tZXNzYWdlfX0pLFszLDhdO2Nhc2UgODpyZXR1cm5bMl19dmFyIGcsbSxrLFB9KSl9KSl9KSl9KCk7Cgo=",null,!1,function(e){return $d=$d||function(e,t,n){var i=void 0===t?null:t,r=function(e,t){var n=atob(e);if(t){for(var i=new Uint8Array(n.length),r=0,o=n.length;r<o;++r)i[r]=n.charCodeAt(r);return String.fromCharCode.apply(null,new Uint16Array(i.buffer))}return n}(e,void 0!==n&&n),o=r.indexOf("\n",10)+1,s=r.substring(o)+(i?"//# sourceMappingURL="+i:""),a=new Blob([s],{type:"application/javascript"});return URL.createObjectURL(a)}("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIHQ9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gdD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSl9LHQoZSxyKX07ZnVuY3Rpb24gZShlLHIpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByJiZudWxsIT09cil0aHJvdyBuZXcgVHlwZUVycm9yKCJDbGFzcyBleHRlbmRzIHZhbHVlICIrU3RyaW5nKHIpKyIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbCIpO2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9dChlLHIpLGUucHJvdG90eXBlPW51bGw9PT1yP09iamVjdC5jcmVhdGUocik6KG4ucHJvdG90eXBlPXIucHJvdG90eXBlLG5ldyBuKX12YXIgcj1mdW5jdGlvbigpe3JldHVybiByPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxyPTEsbj1hcmd1bWVudHMubGVuZ3RoO3I8bjtyKyspZm9yKHZhciBvIGluIGU9YXJndW1lbnRzW3JdKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG8pJiYodFtvXT1lW29dKTtyZXR1cm4gdH0sci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIG4odCxlLHIsbil7cmV0dXJuIG5ldyhyfHwocj1Qcm9taXNlKSkoKGZ1bmN0aW9uKG8sYyl7ZnVuY3Rpb24gaSh0KXt0cnl7cyhuLm5leHQodCkpfWNhdGNoKHQpe2ModCl9fWZ1bmN0aW9uIGEodCl7dHJ5e3Mobi50aHJvdyh0KSl9Y2F0Y2godCl7Yyh0KX19ZnVuY3Rpb24gcyh0KXt2YXIgZTt0LmRvbmU/byh0LnZhbHVlKTooZT10LnZhbHVlLGUgaW5zdGFuY2VvZiByP2U6bmV3IHIoKGZ1bmN0aW9uKHQpe3QoZSl9KSkpLnRoZW4oaSxhKX1zKChuPW4uYXBwbHkodCxlfHxbXSkpLm5leHQoKSl9KSl9ZnVuY3Rpb24gbyh0LGUpe3ZhciByLG4sbyxjLGk9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmb1swXSl0aHJvdyBvWzFdO3JldHVybiBvWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIGM9e25leHQ6YSgwKSx0aHJvdzphKDEpLHJldHVybjphKDIpfSwiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYoY1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxjO2Z1bmN0aW9uIGEoYyl7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihjKXtpZihyKXRocm93IG5ldyBUeXBlRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy4iKTtmb3IoO2k7KXRyeXtpZihyPTEsbiYmKG89MiZjWzBdP24ucmV0dXJuOmNbMF0/bi50aHJvd3x8KChvPW4ucmV0dXJuKSYmby5jYWxsKG4pLDApOm4ubmV4dCkmJiEobz1vLmNhbGwobixjWzFdKSkuZG9uZSlyZXR1cm4gbztzd2l0Y2gobj0wLG8mJihjPVsyJmNbMF0sby52YWx1ZV0pLGNbMF0pe2Nhc2UgMDpjYXNlIDE6bz1jO2JyZWFrO2Nhc2UgNDpyZXR1cm4gaS5sYWJlbCsrLHt2YWx1ZTpjWzFdLGRvbmU6ITF9O2Nhc2UgNTppLmxhYmVsKyssbj1jWzFdLGM9WzBdO2NvbnRpbnVlO2Nhc2UgNzpjPWkub3BzLnBvcCgpLGkudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEobz1pLnRyeXMsKG89by5sZW5ndGg+MCYmb1tvLmxlbmd0aC0xXSl8fDYhPT1jWzBdJiYyIT09Y1swXSkpe2k9MDtjb250aW51ZX1pZigzPT09Y1swXSYmKCFvfHxjWzFdPm9bMF0mJmNbMV08b1szXSkpe2kubGFiZWw9Y1sxXTticmVha31pZig2PT09Y1swXSYmaS5sYWJlbDxvWzFdKXtpLmxhYmVsPW9bMV0sbz1jO2JyZWFrfWlmKG8mJmkubGFiZWw8b1syXSl7aS5sYWJlbD1vWzJdLGkub3BzLnB1c2goYyk7YnJlYWt9b1syXSYmaS5vcHMucG9wKCksaS50cnlzLnBvcCgpO2NvbnRpbnVlfWM9ZS5jYWxsKHQsaSl9Y2F0Y2godCl7Yz1bNix0XSxuPTB9ZmluYWxseXtyPW89MH1pZig1JmNbMF0pdGhyb3cgY1sxXTtyZXR1cm57dmFsdWU6Y1swXT9jWzFdOnZvaWQgMCxkb25lOiEwfX0oW2MsYV0pfX19ZnVuY3Rpb24gYyh0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1bXSksdCYmIWUuaW5jbHVkZXModCk/dDoiIn12YXIgaT1mdW5jdGlvbih0KXtmdW5jdGlvbiByKGUsbil7dmFyIG89dC5jYWxsKHRoaXMsbil8fHRoaXM7cmV0dXJuIG8uZXJyb3I9ZSxvLmVycm9yX2Rlc2NyaXB0aW9uPW4sT2JqZWN0LnNldFByb3RvdHlwZU9mKG8sci5wcm90b3R5cGUpLG99cmV0dXJuIGUocix0KSxyLmZyb21QYXlsb2FkPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgcih0LmVycm9yLHQuZXJyb3JfZGVzY3JpcHRpb24pfSxyfShFcnJvcik7IWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoZSxuLG8sYyl7dm9pZCAwPT09YyYmKGM9bnVsbCk7dmFyIGk9dC5jYWxsKHRoaXMsZSxuKXx8dGhpcztyZXR1cm4gaS5zdGF0ZT1vLGkuYXBwU3RhdGU9YyxPYmplY3Quc2V0UHJvdG90eXBlT2YoaSxyLnByb3RvdHlwZSksaX1lKHIsdCl9KGkpLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoZSl7dmFyIG49dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLnBvcHVwPWUsT2JqZWN0LnNldFByb3RvdHlwZU9mKG4sci5wcm90b3R5cGUpLG59ZShyLHQpfShmdW5jdGlvbih0KXtmdW5jdGlvbiByKCl7dmFyIGU9dC5jYWxsKHRoaXMsInRpbWVvdXQiLCJUaW1lb3V0Iil8fHRoaXM7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZihlLHIucHJvdG90eXBlKSxlfXJldHVybiBlKHIsdCkscn0oaSkpLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoZSl7dmFyIG49dC5jYWxsKHRoaXMsImNhbmNlbGxlZCIsIlBvcHVwIGNsb3NlZCIpfHx0aGlzO3JldHVybiBuLnBvcHVwPWUsT2JqZWN0LnNldFByb3RvdHlwZU9mKG4sci5wcm90b3R5cGUpLG59ZShyLHQpfShpKSxmdW5jdGlvbih0KXtmdW5jdGlvbiByKGUsbixvKXt2YXIgYz10LmNhbGwodGhpcyxlLG4pfHx0aGlzO3JldHVybiBjLm1mYV90b2tlbj1vLE9iamVjdC5zZXRQcm90b3R5cGVPZihjLHIucHJvdG90eXBlKSxjfWUocix0KX0oaSk7dmFyIGE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gcihlLG4pe3ZhciBvPXQuY2FsbCh0aGlzLCJtaXNzaW5nX3JlZnJlc2hfdG9rZW4iLCJNaXNzaW5nIFJlZnJlc2ggVG9rZW4gKGF1ZGllbmNlOiAnIi5jb25jYXQoYyhlLFsiZGVmYXVsdCJdKSwiJywgc2NvcGU6ICciKS5jb25jYXQoYyhuKSwiJykiKSl8fHRoaXM7cmV0dXJuIG8uYXVkaWVuY2U9ZSxvLnNjb3BlPW4sT2JqZWN0LnNldFByb3RvdHlwZU9mKG8sci5wcm90b3R5cGUpLG99cmV0dXJuIGUocix0KSxyfShpKSxzPXt9LHU9ZnVuY3Rpb24odCxlKXtyZXR1cm4iIi5jb25jYXQodCwifCIpLmNvbmNhdChlKX07YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZGF0YSxjPWUudGltZW91dCxpPWUuYXV0aCxmPWUuZmV0Y2hVcmwsbD1lLmZldGNoT3B0aW9ucyxwPWUudXNlRm9ybURhdGEsaD1mdW5jdGlvbih0LGUpe3ZhciByPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJnRbU3ltYm9sLml0ZXJhdG9yXTtpZighcilyZXR1cm4gdDt2YXIgbixvLGM9ci5jYWxsKHQpLGk9W107dHJ5e2Zvcig7KHZvaWQgMD09PWV8fGUtLSA+MCkmJiEobj1jLm5leHQoKSkuZG9uZTspaS5wdXNoKG4udmFsdWUpfWNhdGNoKHQpe289e2Vycm9yOnR9fWZpbmFsbHl7dHJ5e24mJiFuLmRvbmUmJihyPWMucmV0dXJuKSYmci5jYWxsKGMpfWZpbmFsbHl7aWYobyl0aHJvdyBvLmVycm9yfX1yZXR1cm4gaX0odC5wb3J0cywxKVswXTtyZXR1cm4gbih2b2lkIDAsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxlLG4seSx2LGIsZCx3LE8sXztyZXR1cm4gbyh0aGlzLChmdW5jdGlvbihvKXtzd2l0Y2goby5sYWJlbCl7Y2FzZSAwOm49KGU9aXx8e30pLmF1ZGllbmNlLHk9ZS5zY29wZSxvLmxhYmVsPTE7Y2FzZSAxOmlmKG8udHJ5cy5wdXNoKFsxLDcsLDhdKSwhKHY9cD8obT1sLmJvZHksaz1uZXcgVVJMU2VhcmNoUGFyYW1zKG0pLFA9e30say5mb3JFYWNoKChmdW5jdGlvbih0LGUpe1BbZV09dH0pKSxQKTpKU09OLnBhcnNlKGwuYm9keSkpLnJlZnJlc2hfdG9rZW4mJiJyZWZyZXNoX3Rva2VuIj09PXYuZ3JhbnRfdHlwZSl7aWYoYj1mdW5jdGlvbih0LGUpe3JldHVybiBzW3UodCxlKV19KG4seSksIWIpdGhyb3cgbmV3IGEobix5KTtsLmJvZHk9cD9uZXcgVVJMU2VhcmNoUGFyYW1zKHIocih7fSx2KSx7cmVmcmVzaF90b2tlbjpifSkpLnRvU3RyaW5nKCk6SlNPTi5zdHJpbmdpZnkocihyKHt9LHYpLHtyZWZyZXNoX3Rva2VuOmJ9KSl9ZD12b2lkIDAsImZ1bmN0aW9uIj09dHlwZW9mIEFib3J0Q29udHJvbGxlciYmKGQ9bmV3IEFib3J0Q29udHJvbGxlcixsLnNpZ25hbD1kLnNpZ25hbCksdz12b2lkIDAsby5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gby50cnlzLnB1c2goWzIsNCwsNV0pLFs0LFByb21pc2UucmFjZShbKGc9YyxuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCl7cmV0dXJuIHNldFRpbWVvdXQodCxnKX0pKSksZmV0Y2goZixyKHt9LGwpKV0pXTtjYXNlIDM6cmV0dXJuIHc9by5zZW50KCksWzMsNV07Y2FzZSA0OnJldHVybiBPPW8uc2VudCgpLGgucG9zdE1lc3NhZ2Uoe2Vycm9yOk8ubWVzc2FnZX0pLFsyXTtjYXNlIDU6cmV0dXJuIHc/WzQsdy5qc29uKCldOihkJiZkLmFib3J0KCksaC5wb3N0TWVzc2FnZSh7ZXJyb3I6IlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJyJ9KSxbMl0pO2Nhc2UgNjpyZXR1cm4odD1vLnNlbnQoKSkucmVmcmVzaF90b2tlbj8oZnVuY3Rpb24odCxlLHIpe3NbdShlLHIpXT10fSh0LnJlZnJlc2hfdG9rZW4sbix5KSxkZWxldGUgdC5yZWZyZXNoX3Rva2VuKTpmdW5jdGlvbih0LGUpe2RlbGV0ZSBzW3UodCxlKV19KG4seSksaC5wb3N0TWVzc2FnZSh7b2s6dy5vayxqc29uOnR9KSxbMyw4XTtjYXNlIDc6cmV0dXJuIF89by5zZW50KCksaC5wb3N0TWVzc2FnZSh7b2s6ITEsanNvbjp7ZXJyb3JfZGVzY3JpcHRpb246Xy5tZXNzYWdlfX0pLFszLDhdO2Nhc2UgODpyZXR1cm5bMl19dmFyIGcsbSxrLFB9KSl9KSl9KSl9KCk7Cgo=",null,false),new Worker($d,e)}),Dd={},Gd=function(){function e(e,t){this.cache=e,this.clientId=t,this.manifestKey=this.createManifestKeyFrom(this.clientId)}return e.prototype.add=function(e){var t;return bt(this,void 0,void 0,(function(){var n,i;return yt(this,(function(r){switch(r.label){case 0:return i=Set.bind,[4,this.cache.get(this.manifestKey)];case 1:return(n=new(i.apply(Set,[void 0,(null===(t=r.sent())||void 0===t?void 0:t.keys)||[]]))).add(e),[4,this.cache.set(this.manifestKey,{keys:wt([],gt(n),!1)})];case 2:return r.sent(),[2]}}))}))},e.prototype.remove=function(e){return bt(this,void 0,void 0,(function(){var t,n;return yt(this,(function(i){switch(i.label){case 0:return[4,this.cache.get(this.manifestKey)];case 1:return(t=i.sent())?((n=new Set(t.keys)).delete(e),n.size>0?[4,this.cache.set(this.manifestKey,{keys:wt([],gt(n),!1)})]:[3,3]):[3,5];case 2:case 4:return[2,i.sent()];case 3:return[4,this.cache.remove(this.manifestKey)];case 5:return[2]}}))}))},e.prototype.get=function(){return this.cache.get(this.manifestKey)},e.prototype.clear=function(){return this.cache.remove(this.manifestKey)},e.prototype.createManifestKeyFrom=function(e){return"".concat("@@auth0spajs@@","::").concat(e)},e}(),Wd=new jc,Zd={memory:function(){return(new Sd).enclosedCache},localstorage:function(){return new wd}},Ud=function(e){return Zd[e]},Yd=function(){function e(e){var t,n,i,r,o=this;if(this.options=e,this._releaseLockOnPageHide=function(){return bt(o,void 0,void 0,(function(){return yt(this,(function(e){switch(e.label){case 0:return[4,Wd.releaseLock("auth0.lock.getTokenSilently")];case 1:return e.sent(),window.removeEventListener("pagehide",this._releaseLockOnPageHide),[2]}}))}))},"undefined"!=typeof window&&function(){if(!nd())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(void 0===id())throw new Error("\n      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/master/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.\n    ")}(),e.cache&&e.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),e.cache)i=e.cache;else{if(this.cacheLocation=e.cacheLocation||"memory",!Ud(this.cacheLocation))throw new Error('Invalid cache location "'.concat(this.cacheLocation,'"'));i=Ud(this.cacheLocation)()}this.httpTimeoutMs=e.httpTimeoutInSeconds?1e3*e.httpTimeoutInSeconds:1e4,this.cookieStorage=!1===e.legacySameSiteCookie?Nd:Od,this.orgHintCookieName=(r=this.options.client_id,"auth0.".concat(r,".organization_hint")),this.isAuthenticatedCookieName=function(e){return"auth0.".concat(e,".is.authenticated")}(this.options.client_id),this.sessionCheckExpiryDays=e.sessionCheckExpiryDays||1;var s,a=e.useCookiesForTransactions?this.cookieStorage:Ld;this.scope=this.options.scope,this.transactionManager=new Ad(a,this.options.client_id),this.nowProvider=this.options.nowProvider||Fc,this.cacheManager=new Ed(i,i.allKeys?null:new Gd(i,this.options.client_id),this.nowProvider),this.domainUrl=(s=this.options.domain,/^https?:\/\//.test(s)?s:"https://".concat(s)),this.tokenIssuer=function(e,t){return e?e.startsWith("https://")?e:"https://".concat(e,"/"):"".concat(t,"/")}(this.options.issuer,this.domainUrl),this.defaultScope=yd("openid",void 0!==(null===(n=null===(t=this.options)||void 0===t?void 0:t.advancedOptions)||void 0===n?void 0:n.defaultScope)?this.options.advancedOptions.defaultScope:"openid profile email"),this.options.useRefreshTokens&&(this.scope=yd(this.scope,"offline_access")),"undefined"!=typeof window&&window.Worker&&this.options.useRefreshTokens&&"memory"===this.cacheLocation&&!/Trident.*rv:11\.0/.test(navigator.userAgent)&&(this.worker=new Pd),this.customOptions=function(e){return e.advancedOptions,e.audience,e.auth0Client,e.authorizeTimeoutInSeconds,e.cacheLocation,e.cache,e.client_id,e.domain,e.issuer,e.leeway,e.max_age,e.nowProvider,e.redirect_uri,e.scope,e.useRefreshTokens,e.useRefreshTokensFallback,e.useCookiesForTransactions,e.useFormData,vt(e,["advancedOptions","audience","auth0Client","authorizeTimeoutInSeconds","cacheLocation","cache","client_id","domain","issuer","leeway","max_age","nowProvider","redirect_uri","scope","useRefreshTokens","useRefreshTokensFallback","useCookiesForTransactions","useFormData"])}(e),this.useRefreshTokensFallback=!1!==this.options.useRefreshTokensFallback}return e.prototype._url=function(e){var t=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||Vc)));return"".concat(this.domainUrl).concat(e,"&auth0Client=").concat(t)},e.prototype._getParams=function(e,t,n,i,r){var o=this.options;o.useRefreshTokens,o.useCookiesForTransactions,o.useFormData,o.auth0Client,o.cacheLocation,o.advancedOptions,o.detailedResponse,o.nowProvider,o.authorizeTimeoutInSeconds,o.legacySameSiteCookie,o.sessionCheckExpiryDays,o.domain,o.leeway,o.httpTimeoutInSeconds;var s=vt(o,["useRefreshTokens","useCookiesForTransactions","useFormData","auth0Client","cacheLocation","advancedOptions","detailedResponse","nowProvider","authorizeTimeoutInSeconds","legacySameSiteCookie","sessionCheckExpiryDays","domain","leeway","httpTimeoutInSeconds"]);return mt(mt(mt({},s),e),{scope:yd(this.defaultScope,this.scope,e.scope),response_type:"code",response_mode:"query",state:t,nonce:n,redirect_uri:r||this.options.redirect_uri,code_challenge:i,code_challenge_method:"S256"})},e.prototype._authorizeUrl=function(e){return this._url("/authorize?".concat(sd(e)))},e.prototype._verifyIdToken=function(e,t,n){return bt(this,void 0,void 0,(function(){var i;return yt(this,(function(r){switch(r.label){case 0:return[4,this.nowProvider()];case 1:return i=r.sent(),[2,Id({iss:this.tokenIssuer,aud:this.options.client_id,id_token:e,nonce:t,organizationId:n,leeway:this.options.leeway,max_age:this._parseNumber(this.options.max_age),now:i})]}}))}))},e.prototype._parseNumber=function(e){return"string"!=typeof e?e:parseInt(e,10)||void 0},e.prototype._processOrgIdHint=function(e){e?this.cookieStorage.save(this.orgHintCookieName,e,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})},e.prototype.buildAuthorizeUrl=function(e){return void 0===e&&(e={}),bt(this,void 0,void 0,(function(){var t,n,i,r,o,s,a,c,d,l,u,p;return yt(this,(function(h){switch(h.label){case 0:return t=e.redirect_uri,n=e.appState,i=vt(e,["redirect_uri","appState"]),r=od(rd()),o=od(rd()),s=rd(),[4,ad(s)];case 1:return a=h.sent(),c=dd(a),d=e.fragment?"#".concat(e.fragment):"",l=this._getParams(i,r,o,c,t),u=this._authorizeUrl(l),p=e.organization||this.options.organization,this.transactionManager.create(mt({nonce:o,code_verifier:s,appState:n,scope:l.scope,audience:l.audience||"default",redirect_uri:l.redirect_uri,state:r},p&&{organizationId:p})),[2,u+d]}}))}))},e.prototype.loginWithPopup=function(e,t){return bt(this,void 0,void 0,(function(){var n,i,r,o,s,a,c,d,l,u,p,h,f;return yt(this,(function(m){switch(m.label){case 0:if(e=e||{},!(t=t||{}).popup&&(t.popup=function(e){var t=window.screenX+(window.innerWidth-400)/2,n=window.screenY+(window.innerHeight-600)/2;return window.open("","auth0:authorize:popup","left=".concat(t,",top=").concat(n,",width=").concat(400,",height=").concat(600,",resizable,scrollbars=yes,status=1"))}(),!t.popup))throw new Error("Unable to open a popup for loginWithPopup - window.open returned `null`");return n=vt(e,[]),i=od(rd()),r=od(rd()),o=rd(),[4,ad(o)];case 1:return s=m.sent(),a=dd(s),c=this._getParams(n,i,r,a,this.options.redirect_uri||window.location.origin),d=this._authorizeUrl(mt(mt({},c),{response_mode:"web_message"})),t.popup.location.href=d,[4,td(mt(mt({},t),{timeoutInSeconds:t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}))];case 2:if(l=m.sent(),i!==l.state)throw new Error("Invalid state");return[4,vd({audience:c.audience,scope:c.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:o,code:l.code,grant_type:"authorization_code",redirect_uri:c.redirect_uri,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs},this.worker)];case 3:return u=m.sent(),p=e.organization||this.options.organization,[4,this._verifyIdToken(u.id_token,r,p)];case 4:return h=m.sent(),f=mt(mt({},u),{decodedToken:h,scope:c.scope,audience:c.audience||"default",client_id:this.options.client_id}),[4,this.cacheManager.set(f)];case 5:return m.sent(),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgIdHint(h.claims.org_id),[2]}}))}))},e.prototype.getUser=function(e){return void 0===e&&(e={}),bt(this,void 0,void 0,(function(){var t,n,i;return yt(this,(function(r){switch(r.label){case 0:return t=e.audience||this.options.audience||"default",n=yd(this.defaultScope,this.scope,e.scope),[4,this.cacheManager.get(new gd({client_id:this.options.client_id,audience:t,scope:n}))];case 1:return[2,(i=r.sent())&&i.decodedToken&&i.decodedToken.user]}}))}))},e.prototype.getIdTokenClaims=function(e){return void 0===e&&(e={}),bt(this,void 0,void 0,(function(){var t,n,i;return yt(this,(function(r){switch(r.label){case 0:return t=e.audience||this.options.audience||"default",n=yd(this.defaultScope,this.scope,e.scope),[4,this.cacheManager.get(new gd({client_id:this.options.client_id,audience:t,scope:n}))];case 1:return[2,(i=r.sent())&&i.decodedToken&&i.decodedToken.claims]}}))}))},e.prototype.loginWithRedirect=function(e){return void 0===e&&(e={}),bt(this,void 0,void 0,(function(){var t,n,i;return yt(this,(function(r){switch(r.label){case 0:return t=e.redirectMethod,n=vt(e,["redirectMethod"]),[4,this.buildAuthorizeUrl(n)];case 1:return i=r.sent(),window.location[t||"assign"](i),[2]}}))}))},e.prototype.handleRedirectCallback=function(e){return void 0===e&&(e=window.location.href),bt(this,void 0,void 0,(function(){var t,n,i,r,o,s,a,c,d,l;return yt(this,(function(u){switch(u.label){case 0:if(0===(t=e.split("?").slice(1)).length)throw new Error("There are no query params available for parsing.");if(n=function(e){e.indexOf("#")>-1&&(e=e.substr(0,e.indexOf("#")));var t=e.split("&"),n={};return t.forEach((function(e){var t=gt(e.split("="),2),i=t[0],r=t[1];n[i]=decodeURIComponent(r)})),n.expires_in&&(n.expires_in=parseInt(n.expires_in)),n}(t.join("")),i=n.state,r=n.code,o=n.error,s=n.error_description,!(a=this.transactionManager.get()))throw new Error("Invalid state");if(this.transactionManager.remove(),o)throw new zc(o,s,i,a.appState);if(!a.code_verifier||a.state&&a.state!==i)throw new Error("Invalid state");return c={audience:a.audience,scope:a.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:a.code_verifier,grant_type:"authorization_code",code:r,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs},void 0!==a.redirect_uri&&(c.redirect_uri=a.redirect_uri),[4,vd(c,this.worker)];case 1:return d=u.sent(),[4,this._verifyIdToken(d.id_token,a.nonce,a.organizationId)];case 2:return l=u.sent(),[4,this.cacheManager.set(mt(mt(mt(mt({},d),{decodedToken:l,audience:a.audience,scope:a.scope}),d.scope?{oauthTokenScope:d.scope}:null),{client_id:this.options.client_id}))];case 3:return u.sent(),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgIdHint(l.claims.org_id),[2,{appState:a.appState}]}}))}))},e.prototype.checkSession=function(e){return bt(this,void 0,void 0,(function(){var t;return yt(this,(function(n){switch(n.label){case 0:if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get("auth0.is.authenticated"))return[2];this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove("auth0.is.authenticated")}n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.getTokenSilently(e)];case 2:return n.sent(),[3,4];case 3:if(t=n.sent(),!Kc.includes(t.error))throw t;return[3,4];case 4:return[2]}}))}))},e.prototype.getTokenSilently=function(e){return void 0===e&&(e={}),bt(this,void 0,void 0,(function(){var t,n,i,r,o=this;return yt(this,(function(s){switch(s.label){case 0:return t=mt(mt({audience:this.options.audience,ignoreCache:!1},e),{scope:yd(this.defaultScope,this.scope,e.scope)}),n=t.ignoreCache,i=vt(t,["ignoreCache"]),[4,(a=function(){return o._getTokenSilently(mt({ignoreCache:n},i))},c="".concat(this.options.client_id,"::").concat(i.audience,"::").concat(i.scope),d=Dd[c],d||(d=a().finally((function(){delete Dd[c],d=null})),Dd[c]=d),d)];case 1:return r=s.sent(),[2,e.detailedResponse?r:r.access_token]}var a,c,d}))}))},e.prototype._getTokenSilently=function(e){return void 0===e&&(e={}),bt(this,void 0,void 0,(function(){var t,n,i,r,o,s,a,c,d;return yt(this,(function(l){switch(l.label){case 0:return t=e.ignoreCache,n=vt(e,["ignoreCache"]),t?[3,2]:[4,this._getEntryFromCache({scope:n.scope,audience:n.audience||"default",client_id:this.options.client_id})];case 1:if(i=l.sent())return[2,i];l.label=2;case 2:return[4,(u=function(){return Wd.acquireLock("auth0.lock.getTokenSilently",5e3)},p=10,void 0===p&&(p=3),bt(void 0,void 0,void 0,(function(){var e;return yt(this,(function(t){switch(t.label){case 0:e=0,t.label=1;case 1:return e<p?[4,u()]:[3,4];case 2:if(t.sent())return[2,!0];t.label=3;case 3:return e++,[3,1];case 4:return[2,!1]}}))})))];case 3:if(!l.sent())return[3,15];l.label=4;case 4:return l.trys.push([4,,12,14]),window.addEventListener("pagehide",this._releaseLockOnPageHide),t?[3,6]:[4,this._getEntryFromCache({scope:n.scope,audience:n.audience||"default",client_id:this.options.client_id})];case 5:if(i=l.sent())return[2,i];l.label=6;case 6:return this.options.useRefreshTokens?[4,this._getTokenUsingRefreshToken(n)]:[3,8];case 7:return o=l.sent(),[3,10];case 8:return[4,this._getTokenFromIFrame(n)];case 9:o=l.sent(),l.label=10;case 10:return r=o,[4,this.cacheManager.set(mt({client_id:this.options.client_id},r))];case 11:return l.sent(),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),s=r.id_token,a=r.access_token,c=r.oauthTokenScope,d=r.expires_in,[2,mt(mt({id_token:s,access_token:a},c?{scope:c}:null),{expires_in:d})];case 12:return[4,Wd.releaseLock("auth0.lock.getTokenSilently")];case 13:return l.sent(),window.removeEventListener("pagehide",this._releaseLockOnPageHide),[7];case 14:return[3,16];case 15:throw new Jc;case 16:return[2]}var u,p}))}))},e.prototype.getTokenWithPopup=function(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),bt(this,void 0,void 0,(function(){return yt(this,(function(n){switch(n.label){case 0:return e.audience=e.audience||this.options.audience,e.scope=yd(this.defaultScope,this.scope,e.scope),t=mt(mt({},Xc),t),[4,this.loginWithPopup(e,t)];case 1:return n.sent(),[4,this.cacheManager.get(new gd({scope:e.scope,audience:e.audience||"default",client_id:this.options.client_id}))];case 2:return[2,n.sent().access_token]}}))}))},e.prototype.isAuthenticated=function(){return bt(this,void 0,void 0,(function(){return yt(this,(function(e){switch(e.label){case 0:return[4,this.getUser()];case 1:return[2,!!e.sent()]}}))}))},e.prototype.buildLogoutUrl=function(e){void 0===e&&(e={}),null!==e.client_id?e.client_id=e.client_id||this.options.client_id:delete e.client_id;var t=e.federated,n=vt(e,["federated"]),i=t?"&federated":"";return this._url("/v2/logout?".concat(sd(n)))+i},e.prototype.logout=function(e){var t=this;void 0===e&&(e={});var n=e.localOnly,i=vt(e,["localOnly"]);if(n&&i.federated)throw new Error("It is invalid to set both the `federated` and `localOnly` options to `true`");var r=function(){if(t.cookieStorage.remove(t.orgHintCookieName,{cookieDomain:t.options.cookieDomain}),t.cookieStorage.remove(t.isAuthenticatedCookieName,{cookieDomain:t.options.cookieDomain}),!n){var e=t.buildLogoutUrl(i);window.location.assign(e)}};if(this.options.cache)return this.cacheManager.clear().then((function(){return r()}));this.cacheManager.clearSync(),r()},e.prototype._getTokenFromIFrame=function(e){return bt(this,void 0,void 0,(function(){var t,n,i,r,o,s,a,c,d,l,u,p,h,f,m,v,b;return yt(this,(function(y){switch(y.label){case 0:return t=od(rd()),n=od(rd()),i=rd(),[4,ad(i)];case 1:r=y.sent(),o=dd(r),s=vt(e,["detailedResponse"]),a=this._getParams(s,t,n,o,e.redirect_uri||this.options.redirect_uri||window.location.origin),(c=this.cookieStorage.get(this.orgHintCookieName))&&!a.organization&&(a.organization=c),d=this._authorizeUrl(mt(mt({},a),{prompt:"none",response_mode:"web_message"})),y.label=2;case 2:if(y.trys.push([2,6,,7]),window.crossOriginIsolated)throw new Mc("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");return l=e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,[4,(g=d,w=this.domainUrl,S=l,void 0===S&&(S=60),new Promise((function(e,t){var n=window.document.createElement("iframe");n.setAttribute("width","0"),n.setAttribute("height","0"),n.style.display="none";var i,r=function(){window.document.body.contains(n)&&(window.document.body.removeChild(n),window.removeEventListener("message",i,!1))},o=setTimeout((function(){t(new Jc),r()}),1e3*S);i=function(n){if(n.origin==w&&n.data&&"authorization_response"===n.data.type){var s=n.source;s&&s.close(),n.data.response.error?t(Mc.fromPayload(n.data.response)):e(n.data.response),clearTimeout(o),window.removeEventListener("message",i,!1),setTimeout(r,2e3)}},window.addEventListener("message",i,!1),window.document.body.appendChild(n),n.setAttribute("src",g)})))];case 3:if(u=y.sent(),t!==u.state)throw new Error("Invalid state");return p=e.scope,h=e.audience,f=vt(e,["scope","audience","redirect_uri","ignoreCache","timeoutInSeconds","detailedResponse"]),[4,vd(mt(mt(mt({},this.customOptions),f),{scope:p,audience:h,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:i,code:u.code,grant_type:"authorization_code",redirect_uri:a.redirect_uri,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:f.timeout||this.httpTimeoutMs}),this.worker)];case 4:return m=y.sent(),[4,this._verifyIdToken(m.id_token,n)];case 5:return v=y.sent(),this._processOrgIdHint(v.claims.org_id),[2,mt(mt({},m),{decodedToken:v,scope:a.scope,oauthTokenScope:m.scope,audience:a.audience||"default"})];case 6:throw"login_required"===(b=y.sent()).error&&this.logout({localOnly:!0}),b;case 7:return[2]}var g,w,S}))}))},e.prototype._getTokenUsingRefreshToken=function(e){return bt(this,void 0,void 0,(function(){var t,n,i,r,o,s,a,c,d;return yt(this,(function(l){switch(l.label){case 0:return e.scope=yd(this.defaultScope,this.options.scope,e.scope),[4,this.cacheManager.get(new gd({scope:e.scope,audience:e.audience||"default",client_id:this.options.client_id}))];case 1:return(t=l.sent())&&t.refresh_token||this.worker?[3,4]:this.useRefreshTokensFallback?[4,this._getTokenFromIFrame(e)]:[3,3];case 2:return[2,l.sent()];case 3:throw new ed(e.audience||"default",e.scope);case 4:n=e.redirect_uri||this.options.redirect_uri||window.location.origin,r=e.scope,o=e.audience,s=vt(e,["scope","audience","ignoreCache","timeoutInSeconds","detailedResponse"]),a="number"==typeof e.timeoutInSeconds?1e3*e.timeoutInSeconds:null,l.label=5;case 5:return l.trys.push([5,7,,10]),[4,vd(mt(mt(mt(mt(mt({},this.customOptions),s),{audience:o,scope:r,baseUrl:this.domainUrl,client_id:this.options.client_id,grant_type:"refresh_token",refresh_token:t&&t.refresh_token,redirect_uri:n}),a&&{timeout:a}),{auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs}),this.worker)];case 6:return i=l.sent(),[3,10];case 7:return((c=l.sent()).message.indexOf("Missing Refresh Token")>-1||c.message&&c.message.indexOf("invalid refresh token")>-1)&&this.useRefreshTokensFallback?[4,this._getTokenFromIFrame(e)]:[3,9];case 8:return[2,l.sent()];case 9:throw c;case 10:return[4,this._verifyIdToken(i.id_token)];case 11:return d=l.sent(),[2,mt(mt({},i),{decodedToken:d,scope:e.scope,oauthTokenScope:i.scope,audience:e.audience||"default"})]}}))}))},e.prototype._getEntryFromCache=function(e){var t=e.scope,n=e.audience,i=e.client_id;return bt(this,void 0,void 0,(function(){var e,r,o,s,a;return yt(this,(function(c){switch(c.label){case 0:return[4,this.cacheManager.get(new gd({scope:t,audience:n,client_id:i}),60)];case 1:return(e=c.sent())&&e.access_token?(r=e.id_token,o=e.access_token,s=e.oauthTokenScope,a=e.expires_in,[2,mt(mt({id_token:r,access_token:o},s?{scope:s}:null),{expires_in:a})]):[2]}}))}))},e}();export{Yd as A};
