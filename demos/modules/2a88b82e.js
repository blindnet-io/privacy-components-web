import{P as e,a as t,b as s,C as n,c as i,d as a,e as o,f as r,g as d,h as l}from"./45acb588.js";function c(e){this.message=e}c.prototype=new Error,c.prototype.name="InvalidCharacterError";var h="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new c("'atob' failed: The string to be decoded is not correctly encoded.");for(var s,n,i=0,a=0,o="";n=t.charAt(a++);~n&&(s=i%4?64*s+n:n,i++%4)?o+=String.fromCharCode(255&s>>(-2*i&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return o};function p(e){this.message=e}function u(e,t){if("string"!=typeof e)throw new p("Invalid token specified");var s=!0===(t=t||{}).header?0:1;try{return JSON.parse(function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(h(e).replace(/(.)/g,(function(e,t){var s=t.charCodeAt(0).toString(16).toUpperCase();return s.length<2&&(s="0"+s),"%"+s})))}(t)}catch(e){return h(t)}}(e.split(".")[s]))}catch(e){throw new p("Invalid token specified: "+e.message)}}function g(e,t,s,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,n);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(o=(a<3?i(o):a>3?i(t,s,o):i(t,s))||o);return a>3&&o&&Object.defineProperty(t,s,o),o
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */}p.prototype=new Error,p.prototype.name="InvalidTokenError";const m=(e,...t)=>({strTag:!0,strings:e,values:t}),v=(e,t,s)=>{let n=e[0];for(let i=1;i<e.length;i++)n+=t[s?s[i-1]:i-1],n+=e[i];return n},b=e=>{return"string"!=typeof(t=e)&&"strTag"in t?v(e.strings,e.values):e;
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var t};
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
class E{constructor(e){this.__litLocalizeEventHandler=e=>{"ready"===e.detail.status&&this.host.requestUpdate()},this.host=e}hostConnected(){window.addEventListener("lit-localize-status",this.__litLocalizeEventHandler)}hostDisconnected(){window.removeEventListener("lit-localize-status",this.__litLocalizeEventHandler)}}const A=e=>e.addController(new E(e)),y=()=>e=>"function"==typeof e?C(e):f(e),f=({kind:e,elements:t})=>({kind:e,elements:t,finisher(e){e.addInitializer(A)}}),C=e=>(e.addInitializer(A),e);
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
class ${constructor(){this.settled=!1,this.promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t}))}resolve(e){this.settled=!0,this._resolve(e)}reject(e){this.settled=!0,this._reject(e)}}
/**
 * @license
 * Copyright 2014 Travis Webb
 * SPDX-License-Identifier: MIT
 */const R=[];for(let e=0;e<256;e++)R[e]=(e>>4&15).toString(16)+(15&e).toString(16);function T(e,t){return(t?"h":"s")+function(e){let t=0,s=8997,n=0,i=33826,a=0,o=40164,r=0,d=52210;for(let l=0;l<e.length;l++)s^=e.charCodeAt(l),t=435*s,n=435*i,a=435*o,r=435*d,a+=s<<8,r+=i<<8,n+=t>>>16,s=65535&t,a+=n>>>16,i=65535&n,d=r+(a>>>16)&65535,o=65535&a;return R[d>>8]+R[255&d]+R[o>>8]+R[255&o]+R[i>>8]+R[255&i]+R[s>>8]+R[255&s]}
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */("string"==typeof e?e:e.join(""))}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const I=new WeakMap,_=new Map;function S(e,t,s){var n;if(e){const i=null!==(n=null==s?void 0:s.id)&&void 0!==n?n:function(e){const t="string"==typeof e?e:e.strings;let s=_.get(t);void 0===s&&(s=T(t,"string"!=typeof e&&!("strTag"in e)),_.set(t,s));return s}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */(t),a=e[i];if(a){if("string"==typeof a)return a;if("strTag"in a)return v(a.strings,t.values,a.values);{let e=I.get(a);return void 0===e&&(e=a.values,I.set(a,e)),{...a,values:e.map((e=>t.values[e]))}}}}return b(t)}function N(e){window.dispatchEvent(new CustomEvent("lit-localize-status",{detail:e}))}let O,w,P,D,k,L="",q=new $;q.resolve();let x=0;const M=()=>L,G=e=>{if(e===(null!=O?O:L))return q.promise;if(!P||!D)throw new Error("Internal error");if(!P.has(e))throw new Error("Invalid locale code");x++;const t=x;O=e,q.settled&&(q=new $),N({status:"loading",loadingLocale:e});return(e===w?Promise.resolve({templates:void 0}):D(e)).then((s=>{x===t&&(L=e,O=void 0,k=s.templates,N({status:"ready",readyLocale:e}),q.resolve())}),(s=>{x===t&&(N({status:"error",errorLocale:e,errorMessage:s.toString()}),q.reject(s))})),q.promise};
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
let U=b,H=!1;
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const B=window,Y=B.ShadowRoot&&(void 0===B.ShadyCSS||B.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,F=Symbol(),z=new WeakMap;class V{constructor(e,t,s){if(this._$cssResult$=!0,s!==F)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(Y&&void 0===e){const s=void 0!==t&&1===t.length;s&&(e=z.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),s&&z.set(t,e))}return e}toString(){return this.cssText}}const j=(e,...t)=>{const s=1===e.length?e[0]:t.reduce(((t,s,n)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+e[n+1]),e[0]);return new V(s,e,F)},W=Y?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(const s of e.cssRules)t+=s.cssText;return(e=>new V("string"==typeof e?e:e+"",void 0,F))(t)})(e):e
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */;var K;const J=window,Z=J.trustedTypes,X=Z?Z.emptyScript:"",Q=J.reactiveElementPolyfillSupport,ee={toAttribute(e,t){switch(t){case Boolean:e=e?X:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let s=e;switch(t){case Boolean:s=null!==e;break;case Number:s=null===e?null:Number(e);break;case Object:case Array:try{s=JSON.parse(e)}catch(e){s=null}}return s}},te=(e,t)=>t!==e&&(t==t||e==e),se={attribute:!0,type:String,converter:ee,reflect:!1,hasChanged:te};class ne extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(e){var t;this.finalize(),(null!==(t=this.h)&&void 0!==t?t:this.h=[]).push(e)}static get observedAttributes(){this.finalize();const e=[];return this.elementProperties.forEach(((t,s)=>{const n=this._$Ep(s,t);void 0!==n&&(this._$Ev.set(n,s),e.push(n))})),e}static createProperty(e,t=se){if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){const s="symbol"==typeof e?Symbol():"__"+e,n=this.getPropertyDescriptor(e,s,t);void 0!==n&&Object.defineProperty(this.prototype,e,n)}}static getPropertyDescriptor(e,t,s){return{get(){return this[t]},set(n){const i=this[e];this[t]=n,this.requestUpdate(e,i,s)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||se}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const e=Object.getPrototypeOf(this);if(e.finalize(),void 0!==e.h&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const e=this.properties,t=[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)];for(const s of t)this.createProperty(s,e[s])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const s=new Set(e.flat(1/0).reverse());for(const e of s)t.unshift(W(e))}else void 0!==e&&t.push(W(e));return t}static _$Ep(e,t){const s=t.attribute;return!1===s?void 0:"string"==typeof s?s:"string"==typeof e?e.toLowerCase():void 0}u(){var e;this._$E_=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(e=this.constructor.h)||void 0===e||e.forEach((e=>e(this)))}addController(e){var t,s;(null!==(t=this._$ES)&&void 0!==t?t:this._$ES=[]).push(e),void 0!==this.renderRoot&&this.isConnected&&(null===(s=e.hostConnected)||void 0===s||s.call(e))}removeController(e){var t;null===(t=this._$ES)||void 0===t||t.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach(((e,t)=>{this.hasOwnProperty(t)&&(this._$Ei.set(t,this[t]),delete this[t])}))}createRenderRoot(){var e;const t=null!==(e=this.shadowRoot)&&void 0!==e?e:this.attachShadow(this.constructor.shadowRootOptions);return((e,t)=>{Y?e.adoptedStyleSheets=t.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet)):t.forEach((t=>{const s=document.createElement("style"),n=B.litNonce;void 0!==n&&s.setAttribute("nonce",n),s.textContent=t.cssText,e.appendChild(s)}))})(t,this.constructor.elementStyles),t}connectedCallback(){var e;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostConnected)||void 0===t?void 0:t.call(e)}))}enableUpdating(e){}disconnectedCallback(){var e;null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostDisconnected)||void 0===t?void 0:t.call(e)}))}attributeChangedCallback(e,t,s){this._$AK(e,s)}_$EO(e,t,s=se){var n;const i=this.constructor._$Ep(e,s);if(void 0!==i&&!0===s.reflect){const a=(void 0!==(null===(n=s.converter)||void 0===n?void 0:n.toAttribute)?s.converter:ee).toAttribute(t,s.type);this._$El=e,null==a?this.removeAttribute(i):this.setAttribute(i,a),this._$El=null}}_$AK(e,t){var s;const n=this.constructor,i=n._$Ev.get(e);if(void 0!==i&&this._$El!==i){const e=n.getPropertyOptions(i),a="function"==typeof e.converter?{fromAttribute:e.converter}:void 0!==(null===(s=e.converter)||void 0===s?void 0:s.fromAttribute)?e.converter:ee;this._$El=i,this[i]=a.fromAttribute(t,e.type),this._$El=null}}requestUpdate(e,t,s){let n=!0;void 0!==e&&(((s=s||this.constructor.getPropertyOptions(e)).hasChanged||te)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),!0===s.reflect&&this._$El!==e&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(e,s))):n=!1),!this.isUpdatePending&&n&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(e){Promise.reject(e)}const e=this.scheduleUpdate();return null!=e&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach(((e,t)=>this[t]=e)),this._$Ei=void 0);let t=!1;const s=this._$AL;try{t=this.shouldUpdate(s),t?(this.willUpdate(s),null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostUpdate)||void 0===t?void 0:t.call(e)})),this.update(s)):this._$Ek()}catch(e){throw t=!1,this._$Ek(),e}t&&this._$AE(s)}willUpdate(e){}_$AE(e){var t;null===(t=this._$ES)||void 0===t||t.forEach((e=>{var t;return null===(t=e.hostUpdated)||void 0===t?void 0:t.call(e)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){void 0!==this._$EC&&(this._$EC.forEach(((e,t)=>this._$EO(t,this[t],e))),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var ie;ne.finalized=!0,ne.elementProperties=new Map,ne.elementStyles=[],ne.shadowRootOptions={mode:"open"},null==Q||Q({ReactiveElement:ne}),(null!==(K=J.reactiveElementVersions)&&void 0!==K?K:J.reactiveElementVersions=[]).push("1.4.2");const ae=window,oe=ae.trustedTypes,re=oe?oe.createPolicy("lit-html",{createHTML:e=>e}):void 0,de=`lit$${(Math.random()+"").slice(9)}$`,le="?"+de,ce=`<${le}>`,he=document,pe=(e="")=>he.createComment(e),ue=e=>null===e||"object"!=typeof e&&"function"!=typeof e,ge=Array.isArray,me=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,ve=/-->/g,be=/>/g,Ee=RegExp(">|[ \t\n\f\r](?:([^\\s\"'>=/]+)([ \t\n\f\r]*=[ \t\n\f\r]*(?:[^ \t\n\f\r\"'`<>=]|(\"|')|))|$)","g"),Ae=/'/g,ye=/"/g,fe=/^(?:script|style|textarea|title)$/i,Ce=(e=>(t,...s)=>({_$litType$:e,strings:t,values:s}))(1),$e=Symbol.for("lit-noChange"),Re=Symbol.for("lit-nothing"),Te=new WeakMap,Ie=he.createTreeWalker(he,129,null,!1),_e=(e,t)=>{const s=e.length-1,n=[];let i,a=2===t?"<svg>":"",o=me;for(let t=0;t<s;t++){const s=e[t];let r,d,l=-1,c=0;for(;c<s.length&&(o.lastIndex=c,d=o.exec(s),null!==d);)c=o.lastIndex,o===me?"!--"===d[1]?o=ve:void 0!==d[1]?o=be:void 0!==d[2]?(fe.test(d[2])&&(i=RegExp("</"+d[2],"g")),o=Ee):void 0!==d[3]&&(o=Ee):o===Ee?">"===d[0]?(o=null!=i?i:me,l=-1):void 0===d[1]?l=-2:(l=o.lastIndex-d[2].length,r=d[1],o=void 0===d[3]?Ee:'"'===d[3]?ye:Ae):o===ye||o===Ae?o=Ee:o===ve||o===be?o=me:(o=Ee,i=void 0);const h=o===Ee&&e[t+1].startsWith("/>")?" ":"";a+=o===me?s+ce:l>=0?(n.push(r),s.slice(0,l)+"$lit$"+s.slice(l)+de+h):s+de+(-2===l?(n.push(void 0),t):h)}const r=a+(e[s]||"<?>")+(2===t?"</svg>":"");if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==re?re.createHTML(r):r,n]};class Se{constructor({strings:e,_$litType$:t},s){let n;this.parts=[];let i=0,a=0;const o=e.length-1,r=this.parts,[d,l]=_e(e,t);if(this.el=Se.createElement(d,s),Ie.currentNode=this.el.content,2===t){const e=this.el.content,t=e.firstChild;t.remove(),e.append(...t.childNodes)}for(;null!==(n=Ie.nextNode())&&r.length<o;){if(1===n.nodeType){if(n.hasAttributes()){const e=[];for(const t of n.getAttributeNames())if(t.endsWith("$lit$")||t.startsWith(de)){const s=l[a++];if(e.push(t),void 0!==s){const e=n.getAttribute(s.toLowerCase()+"$lit$").split(de),t=/([.?@])?(.*)/.exec(s);r.push({type:1,index:i,name:t[2],strings:e,ctor:"."===t[1]?De:"?"===t[1]?Le:"@"===t[1]?qe:Pe})}else r.push({type:6,index:i})}for(const t of e)n.removeAttribute(t)}if(fe.test(n.tagName)){const e=n.textContent.split(de),t=e.length-1;if(t>0){n.textContent=oe?oe.emptyScript:"";for(let s=0;s<t;s++)n.append(e[s],pe()),Ie.nextNode(),r.push({type:2,index:++i});n.append(e[t],pe())}}}else if(8===n.nodeType)if(n.data===le)r.push({type:2,index:i});else{let e=-1;for(;-1!==(e=n.data.indexOf(de,e+1));)r.push({type:7,index:i}),e+=de.length-1}i++}}static createElement(e,t){const s=he.createElement("template");return s.innerHTML=e,s}}function Ne(e,t,s=e,n){var i,a,o,r;if(t===$e)return t;let d=void 0!==n?null===(i=s._$Co)||void 0===i?void 0:i[n]:s._$Cl;const l=ue(t)?void 0:t._$litDirective$;return(null==d?void 0:d.constructor)!==l&&(null===(a=null==d?void 0:d._$AO)||void 0===a||a.call(d,!1),void 0===l?d=void 0:(d=new l(e),d._$AT(e,s,n)),void 0!==n?(null!==(o=(r=s)._$Co)&&void 0!==o?o:r._$Co=[])[n]=d:s._$Cl=d),void 0!==d&&(t=Ne(e,d._$AS(e,t.values),d,n)),t}class Oe{constructor(e,t){this.u=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}v(e){var t;const{el:{content:s},parts:n}=this._$AD,i=(null!==(t=null==e?void 0:e.creationScope)&&void 0!==t?t:he).importNode(s,!0);Ie.currentNode=i;let a=Ie.nextNode(),o=0,r=0,d=n[0];for(;void 0!==d;){if(o===d.index){let t;2===d.type?t=new we(a,a.nextSibling,this,e):1===d.type?t=new d.ctor(a,d.name,d.strings,this,e):6===d.type&&(t=new xe(a,this,e)),this.u.push(t),d=n[++r]}o!==(null==d?void 0:d.index)&&(a=Ie.nextNode(),o++)}return i}p(e){let t=0;for(const s of this.u)void 0!==s&&(void 0!==s.strings?(s._$AI(e,s,t),t+=s.strings.length-2):s._$AI(e[t])),t++}}class we{constructor(e,t,s,n){var i;this.type=2,this._$AH=Re,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=s,this.options=n,this._$Cm=null===(i=null==n?void 0:n.isConnected)||void 0===i||i}get _$AU(){var e,t;return null!==(t=null===(e=this._$AM)||void 0===e?void 0:e._$AU)&&void 0!==t?t:this._$Cm}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return void 0!==t&&11===e.nodeType&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=Ne(this,e,t),ue(e)?e===Re||null==e||""===e?(this._$AH!==Re&&this._$AR(),this._$AH=Re):e!==this._$AH&&e!==$e&&this.g(e):void 0!==e._$litType$?this.$(e):void 0!==e.nodeType?this.T(e):(e=>ge(e)||"function"==typeof(null==e?void 0:e[Symbol.iterator]))(e)?this.k(e):this.g(e)}O(e,t=this._$AB){return this._$AA.parentNode.insertBefore(e,t)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}g(e){this._$AH!==Re&&ue(this._$AH)?this._$AA.nextSibling.data=e:this.T(he.createTextNode(e)),this._$AH=e}$(e){var t;const{values:s,_$litType$:n}=e,i="number"==typeof n?this._$AC(e):(void 0===n.el&&(n.el=Se.createElement(n.h,this.options)),n);if((null===(t=this._$AH)||void 0===t?void 0:t._$AD)===i)this._$AH.p(s);else{const e=new Oe(i,this),t=e.v(this.options);e.p(s),this.T(t),this._$AH=e}}_$AC(e){let t=Te.get(e.strings);return void 0===t&&Te.set(e.strings,t=new Se(e)),t}k(e){ge(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let s,n=0;for(const i of e)n===t.length?t.push(s=new we(this.O(pe()),this.O(pe()),this,this.options)):s=t[n],s._$AI(i),n++;n<t.length&&(this._$AR(s&&s._$AB.nextSibling,n),t.length=n)}_$AR(e=this._$AA.nextSibling,t){var s;for(null===(s=this._$AP)||void 0===s||s.call(this,!1,!0,t);e&&e!==this._$AB;){const t=e.nextSibling;e.remove(),e=t}}setConnected(e){var t;void 0===this._$AM&&(this._$Cm=e,null===(t=this._$AP)||void 0===t||t.call(this,e))}}class Pe{constructor(e,t,s,n,i){this.type=1,this._$AH=Re,this._$AN=void 0,this.element=e,this.name=t,this._$AM=n,this.options=i,s.length>2||""!==s[0]||""!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=Re}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,s,n){const i=this.strings;let a=!1;if(void 0===i)e=Ne(this,e,t,0),a=!ue(e)||e!==this._$AH&&e!==$e,a&&(this._$AH=e);else{const n=e;let o,r;for(e=i[0],o=0;o<i.length-1;o++)r=Ne(this,n[s+o],t,o),r===$e&&(r=this._$AH[o]),a||(a=!ue(r)||r!==this._$AH[o]),r===Re?e=Re:e!==Re&&(e+=(null!=r?r:"")+i[o+1]),this._$AH[o]=r}a&&!n&&this.j(e)}j(e){e===Re?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=e?e:"")}}class De extends Pe{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Re?void 0:e}}const ke=oe?oe.emptyScript:"";class Le extends Pe{constructor(){super(...arguments),this.type=4}j(e){e&&e!==Re?this.element.setAttribute(this.name,ke):this.element.removeAttribute(this.name)}}class qe extends Pe{constructor(e,t,s,n,i){super(e,t,s,n,i),this.type=5}_$AI(e,t=this){var s;if((e=null!==(s=Ne(this,e,t,0))&&void 0!==s?s:Re)===$e)return;const n=this._$AH,i=e===Re&&n!==Re||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,a=e!==Re&&(n===Re||i);i&&this.element.removeEventListener(this.name,this,n),a&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,s;"function"==typeof this._$AH?this._$AH.call(null!==(s=null===(t=this.options)||void 0===t?void 0:t.host)&&void 0!==s?s:this.element,e):this._$AH.handleEvent(e)}}class xe{constructor(e,t,s){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(e){Ne(this,e)}}const Me=ae.litHtmlPolyfillSupport;null==Me||Me(Se,we),(null!==(ie=ae.litHtmlVersions)&&void 0!==ie?ie:ae.litHtmlVersions=[]).push("2.4.0");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var Ge,Ue;class He extends ne{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,t;const s=super.createRenderRoot();return null!==(e=(t=this.renderOptions).renderBefore)&&void 0!==e||(t.renderBefore=s.firstChild),s}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=((e,t,s)=>{var n,i;const a=null!==(n=null==s?void 0:s.renderBefore)&&void 0!==n?n:t;let o=a._$litPart$;if(void 0===o){const e=null!==(i=null==s?void 0:s.renderBefore)&&void 0!==i?i:null;a._$litPart$=o=new we(t.insertBefore(pe(),e),e,void 0,null!=s?s:{})}return o._$AI(e),o})(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),null===(e=this._$Do)||void 0===e||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),null===(e=this._$Do)||void 0===e||e.setConnected(!1)}render(){return $e}}He.finalized=!0,He._$litElement$=!0,null===(Ge=globalThis.litElementHydrateSupport)||void 0===Ge||Ge.call(globalThis,{LitElement:He});const Be=globalThis.litElementPolyfillSupport;null==Be||Be({LitElement:He}),(null!==(Ue=globalThis.litElementVersions)&&void 0!==Ue?Ue:globalThis.litElementVersions=[]).push("3.2.2");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const Ye=e=>t=>"function"==typeof t?((e,t)=>(customElements.define(e,t),t))(e,t):((e,t)=>{const{kind:s,elements:n}=t;return{kind:s,elements:n,finisher(t){customElements.define(e,t)}}})(e,t)
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */,Fe=(e,t)=>"method"===t.kind&&t.descriptor&&!("value"in t.descriptor)?{...t,finisher(s){s.createProperty(t.key,e)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher(s){s.createProperty(t.key,e)}};function ze(e){return(t,s)=>void 0!==s?((e,t,s)=>{t.constructor.createProperty(s,e)})(e,t,s):Fe(e,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Ve(e){return ze({...e,state:!0})}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var je;null===(je=window.HTMLSlotElement)||void 0===je||je.prototype.assignedElements;
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const We=e=>null!=e?e:Re
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */,Ke=(e,t,s)=>{for(const s of t)if(s[0]===e)return(0,s[1])();return null==s?void 0:s()};
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
function*Je(e,t){if(void 0!==e){let s=0;for(const n of e)yield t(n,s++)}}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Ze(e,t,s){return e?t():null==s?void 0:s()}let Xe=class extends He{constructor(){super(...arguments),this.mode="double"}handleNavClick(e,t){e.stopPropagation(),this.dispatchEvent(new Event(`bldn-nav-wrapper:${t}-click`))}render(){return Ce` <div id="content"> <slot></slot> </div> <div id="nav-buttons"> ${Ze("single"===this.mode,(()=>Ce` <bldn-button @bldn-button:click="${e=>this.handleNavClick(e,"center")}">${this.centerButton}</bldn-button> `),(()=>Ce` <bldn-button mode="secondary" @bldn-button:click="${e=>this.handleNavClick(e,"left")}">${this.leftButton}</bldn-button> <bldn-button @bldn-button:click="${e=>this.handleNavClick(e,"right")}">${this.rightButton}</bldn-button> `))} </div> `}};Xe.styles=j`:host{display:block;border:2px solid var(--bldn-nav-wrapper-border-color,var(--color-medium));border-radius:20px;margin-bottom:20px}#content{display:block;row-gap:40px}#nav-buttons{display:flex;justify-content:center;column-gap:25%;transform:translateY(22px)}`,g([ze({type:String})],Xe.prototype,"mode",void 0),g([ze({type:String,attribute:"left-button"})],Xe.prototype,"leftButton",void 0),g([ze({type:String,attribute:"right-button"})],Xe.prototype,"rightButton",void 0),g([ze({type:String,attribute:"center-button"})],Xe.prototype,"centerButton",void 0),Xe=g([Ye("bldn-nav-wrapper")],Xe);const Qe={ACCESS:()=>U("Access"),DELETE:()=>U("Delete"),MODIFY:()=>U("Modify"),OBJECT:()=>U("Object"),PORTABILITY:()=>U("Portability"),RESTRICT:()=>U("Restrict"),"REVOKE-CONSENT":()=>U("Revoke"),TRANSPARENCY:()=>U("Transparency"),"TRANSPARENCY.DATA-CATEGORIES":()=>U("Transparency - Data Categories"),"TRANSPARENCY.DPO":()=>U("Transparency - DPO"),"TRANSPARENCY.KNOWN":()=>U("Transparency - Known"),"TRANSPARENCY.LEGAL-BASES":()=>U("Transparency - Legal Bases"),"TRANSPARENCY.ORGANIZATION":()=>U("Transparency - Organization"),"TRANSPARENCY.POLICY":()=>U("Transparency - Policy"),"TRANSPARENCY.PROCESSING-CATEGORIES":()=>U("Transparency - Processing Categories"),"TRANSPARENCY.PROVENANCE":()=>U("Transparency - Provenance"),"TRANSPARENCY.PURPOSE":()=>U("Transparency - Purpose"),"TRANSPARENCY.RETENTION":()=>U("Transparency - Retention"),"TRANSPARENCY.WHERE":()=>U("Transparency - Where"),"TRANSPARENCY.WHO":()=>U("Transparency - Who"),OTHER:()=>U("Other Demand")},et={ACCESS:()=>U("Access Demand"),DELETE:()=>U("Delete Demand"),MODIFY:()=>U("Modify Demand"),OBJECT:()=>U("Object Demand"),PORTABILITY:()=>U("Portability Demand"),RESTRICT:()=>U("Restrict Demand"),"REVOKE-CONSENT":()=>U("Revoke Demand"),TRANSPARENCY:()=>U("Transparency Demand"),"TRANSPARENCY.DATA-CATEGORIES":()=>U("Transparency - Data Categories Demand"),"TRANSPARENCY.DPO":()=>U("Transparency - DPO Demand"),"TRANSPARENCY.KNOWN":()=>U("Transparency - Known Demand"),"TRANSPARENCY.LEGAL-BASES":()=>U("Transparency - Legal Bases Demand"),"TRANSPARENCY.ORGANIZATION":()=>U("Transparency - Organization Demand"),"TRANSPARENCY.POLICY":()=>U("Transparency - Policy Demand"),"TRANSPARENCY.PROCESSING-CATEGORIES":()=>U("Transparency - Processing Categories Demand"),"TRANSPARENCY.PROVENANCE":()=>U("Transparency - Provenance Demand"),"TRANSPARENCY.PURPOSE":()=>U("Transparency - Purpose Demand"),"TRANSPARENCY.RETENTION":()=>U("Transparency - Retention Demand"),"TRANSPARENCY.WHERE":()=>U("Transparency - Where Demand"),"TRANSPARENCY.WHO":()=>U("Transparency - Who Demand"),OTHER:()=>U("Other Demand")},tt={ACCESS:()=>U("Access my data"),DELETE:()=>U("Have my data deleted"),MODIFY:()=>U("Modify or complement my data"),OBJECT:()=>U("Object to processing of my data"),PORTABILITY:()=>U("Take my data and have it transfered somewhere else"),RESTRICT:()=>U("Restrict processing of my data to a particular scope"),"REVOKE-CONSENT":()=>U("Revoke previously given consent for data processing"),TRANSPARENCY:()=>U("Demand information related to data processing practices and know if the system has data on me"),OTHER:()=>U("Do or know something else. Please note it may take longer to be answered"),"TRANSPARENCY.DATA-CATEGORIES":()=>U("The categories of the data the organization has on me"),"TRANSPARENCY.DPO":()=>U("The contact details of the data protection officer"),"TRANSPARENCY.KNOWN":()=>U("If the organization has data on me"),"TRANSPARENCY.LEGAL-BASES":()=>U("The legal bases for processing my data (including legitimate interests)"),"TRANSPARENCY.ORGANIZATION":()=>U("The identity and contact details of the organization processing my data"),"TRANSPARENCY.POLICY":()=>U("The policies applied to processing of data concerning me"),"TRANSPARENCY.PROCESSING-CATEGORIES":()=>U("The cateogories of processing being done on the data the organization has on me"),"TRANSPARENCY.PROVENANCE":()=>U("The sources that the data concerning me come from"),"TRANSPARENCY.PURPOSE":()=>U("The purpose of the processing of the data the organization has on me"),"TRANSPARENCY.RETENTION":()=>U("For how long the data concerning me kept"),"TRANSPARENCY.WHERE":()=>U("Where the data about me is stored"),"TRANSPARENCY.WHO":()=>U("Who can access the data that the organization has on me")},st={TRANSPARENCY:()=>U(Ce`<b>All</b> information related to data processing practices and my data`),OTHER:()=>U("Do or know something else. Please note it may take longer to be answered"),"TRANSPARENCY.DATA-CATEGORIES":()=>U("The categories of the data the organization has on me"),"TRANSPARENCY.DPO":()=>U("The contact details of the data protection officer"),"TRANSPARENCY.KNOWN":()=>U("If the organization has data on me"),"TRANSPARENCY.LEGAL-BASES":()=>U("The legal bases for processing my data (including legitimate interests)"),"TRANSPARENCY.ORGANIZATION":()=>U("The identity and contact details of the organization processing my data"),"TRANSPARENCY.POLICY":()=>U("The policies applied to processing of data concerning me"),"TRANSPARENCY.PROCESSING-CATEGORIES":()=>U("The cateogories of processing being done on the data the organization has on me"),"TRANSPARENCY.PROVENANCE":()=>U("The sources that the data concerning me come from"),"TRANSPARENCY.PURPOSE":()=>U("The purpose of the processing of the data the organization has on me"),"TRANSPARENCY.RETENTION":()=>U("For how long the data concerning me kept"),"TRANSPARENCY.WHERE":()=>U("Where the data about me is stored"),"TRANSPARENCY.WHO":()=>U("Who can access the data that the organization has on me")},nt={"*":()=>U("All provenances"),USER:()=>U("The data provided by a user of the system (potentially the Data Subject)"),"USER.DATA-SUBJECT":()=>U("The data provided by the Data Subject"),DERIVED:()=>U("The data derived from user actions, extracted from other data or inferred"),TRANSFERRED:()=>U("The data obtained by transfer from another System")},it={"*":()=>U(""),AFFILIATION:()=>U("Affiliation"),"AFFILIATION.MEMBERSHIP":()=>U("Affiliation - Membership"),"AFFILIATION.MEMBERSHIP.UNION":()=>U("Affiliation - Membership Union"),"AFFILIATION.SCHOOL":()=>U("Affiliation - School"),"AFFILIATION.WORKPLACE":()=>U("Affiliation - Workplace"),BEHAVIOR:()=>U("Behavior"),"BEHAVIOR.ACTIVITY":()=>U("Behavior - Activity"),"BEHAVIOR.CONNECTION":()=>U("Behavior - Connection"),"BEHAVIOR.PREFERENCE":()=>U("Behavior - Preference"),"BEHAVIOR.TELEMETRY":()=>U("Behavior - Telemetry"),BIOMETRIC:()=>U("Biometric"),CONTACT:()=>U("Contact"),"CONTACT.EMAIL":()=>U("Contact - Email"),"CONTACT.ADDRESS":()=>U("Contact - Address"),"CONTACT.PHONE":()=>U("Contact - Phone"),DEMOGRAPHIC:()=>U("Demographic"),"DEMOGRAPHIC.AGE":()=>U("Demographic - Age"),"DEMOGRAPHIC.BELIEFS":()=>U("Demographic - Beliefs"),"DEMOGRAPHIC.GENDER":()=>U("Demographic - Gender"),"DEMOGRAPHIC.ORIGIN":()=>U("Demographic - Origin"),"DEMOGRAPHIC.RACE":()=>U("Demographic - Race"),"DEMOGRAPHIC.SEXUAL-ORIENTATION":()=>U("Demographic - Sexual Orientation"),DEVICE:()=>U("Device"),FINANCIAL:()=>U("Financial"),"FINANCIAL.BANK-ACCOUNT":()=>U("Finacial bank account"),GENETIC:()=>U("Genetic"),HEALTH:()=>U("Health"),IMAGE:()=>U("Image"),LOCATION:()=>U("Location"),NAME:()=>U("Name"),PROFILING:()=>U("Profiling"),RELATIONSHIPS:()=>U("Relationships"),UID:()=>U("UID"),"UID.ID":()=>U("UID - ID"),"UID.IP":()=>U("UID - IP"),"UID.USER-ACCOUNT":()=>U("UID - User Account"),"UID.SOCIAL-MEDIA":()=>U("UID - Social Media"),"OTHER-DATA":()=>U("Other"),"OTHER-DATA.PROOF":()=>U("Other - Proof")},at={"*":()=>U(""),AFFILIATION:()=>U("Affiliation data"),"AFFILIATION.MEMBERSHIP":()=>U("Affiliation - Membership data"),"AFFILIATION.MEMBERSHIP.UNION":()=>U("Affiliation - Membership Union data"),"AFFILIATION.SCHOOL":()=>U("Affiliation - School data"),"AFFILIATION.WORKPLACE":()=>U("Affiliation - Workplace data"),BEHAVIOR:()=>U("Behavior data"),"BEHAVIOR.ACTIVITY":()=>U("Behavior - Activity data"),"BEHAVIOR.CONNECTION":()=>U("Behavior - Connection data"),"BEHAVIOR.PREFERENCE":()=>U("Behavior - Preference data"),"BEHAVIOR.TELEMETRY":()=>U("Behavior - Telemetry data"),BIOMETRIC:()=>U("Biometric data"),CONTACT:()=>U("Contact data"),"CONTACT.EMAIL":()=>U("Contact - Email data"),"CONTACT.ADDRESS":()=>U("Contact - Address data"),"CONTACT.PHONE":()=>U("Contact - Phone data"),DEMOGRAPHIC:()=>U("Demographic data"),"DEMOGRAPHIC.AGE":()=>U("Demographic - Age data"),"DEMOGRAPHIC.BELIEFS":()=>U("Demographic - Beliefs data"),"DEMOGRAPHIC.GENDER":()=>U("Demographic - Gender data"),"DEMOGRAPHIC.ORIGIN":()=>U("Demographic - Origin data"),"DEMOGRAPHIC.RACE":()=>U("Demographic - Race data"),"DEMOGRAPHIC.SEXUAL-ORIENTATION":()=>U("Demographic - Sexual Orientation data"),DEVICE:()=>U("Device data"),FINANCIAL:()=>U("Financial data"),"FINANCIAL.BANK-ACCOUNT":()=>U("Finacial bank account data"),GENETIC:()=>U("Genetic data"),HEALTH:()=>U("Health data"),IMAGE:()=>U("Image data"),LOCATION:()=>U("Location data"),NAME:()=>U("Name data"),PROFILING:()=>U("Profiling data"),RELATIONSHIPS:()=>U("Relationships data"),UID:()=>U("UID data"),"UID.ID":()=>U("UID - ID data"),"UID.IP":()=>U("UID - IP data"),"UID.USER-ACCOUNT":()=>U("UID - User Account data"),"UID.SOCIAL-MEDIA":()=>U("UID - Social Media data"),"OTHER-DATA":()=>U("Other data"),"OTHER-DATA.PROOF":()=>U("Other - Proof data")},ot={"*":()=>U(Ce`<b>All</b> categories of data the organization has on me`),AFFILIATION:()=>U(Ce`Groups and Organisations I am linked to through work, studies, or membership`),"AFFILIATION.MEMBERSHIP":()=>U(Ce``),"AFFILIATION.MEMBERSHIP.UNION":()=>U(Ce``),"AFFILIATION.SCHOOL":()=>U(Ce``),"AFFILIATION.WORKPLACE":()=>U(Ce``),BEHAVIOR:()=>U(Ce`Data about my behavior`),"BEHAVIOR.ACTIVITY":()=>U(Ce``),"BEHAVIOR.CONNECTION":()=>U(Ce``),"BEHAVIOR.PREFERENCE":()=>U(Ce``),"BEHAVIOR.TELEMETRY":()=>U(Ce``),BIOMETRIC:()=>U(Ce`Data about my unique physical characteristics`),CONTACT:()=>U(Ce`Data allowing to contact me`),"CONTACT.EMAIL":()=>U(Ce``),"CONTACT.ADDRESS":()=>U(Ce``),"CONTACT.PHONE":()=>U(Ce``),DEMOGRAPHIC:()=>U(Ce`All information allowing to class me in a demographic category`),"DEMOGRAPHIC.AGE":()=>U(Ce``),"DEMOGRAPHIC.BELIEFS":()=>U(Ce``),"DEMOGRAPHIC.GENDER":()=>U(Ce``),"DEMOGRAPHIC.ORIGIN":()=>U(Ce``),"DEMOGRAPHIC.RACE":()=>U(Ce``),"DEMOGRAPHIC.SEXUAL-ORIENTATION":()=>U(Ce``),DEVICE:()=>U(Ce`Data about the device I used`),FINANCIAL:()=>U(Ce`Payment data, financial history and data about my financial situation`),"FINANCIAL.BANK-ACCOUNT":()=>U(Ce``),GENETIC:()=>U(Ce`Data related to my genetic characteristics`),HEALTH:()=>U(Ce`Data about my health`),IMAGE:()=>U(Ce`Any graphic representation (e.g., image, video) of me`),LOCATION:()=>U(Ce`Geographic location`),NAME:()=>U(Ce`First names, last names, nicknames, and other names`),PROFILING:()=>U(Ce`Any data establishing a degree of similarity of with others (e.g., clusters, user-profiles)`),RELATIONSHIPS:()=>U(Ce`Data about relationships I have with others, social activity and interaction`),UID:()=>U(Ce`Any data that uniquely identifies me`),"UID.ID":()=>U(Ce``),"UID.IP":()=>U(Ce``),"UID.USER-ACCOUNT":()=>U(Ce``),"UID.SOCIAL-MEDIA":()=>U(Ce``),"OTHER-DATA":()=>U(Ce`Any other categories or forms of data`)},rt={"*":()=>U(Ce`All targets`),SYSTEM:()=>U(Ce`This system`),ORGANIZATION:()=>U(Ce`This system and all systems within this organization`),PARTNERS:()=>U(Ce`This system, all systems within this organization, and all partners systems where data has been <b>shared or obtained</b>`),"PARTNERS.DOWNWARD":()=>U(Ce`This system, all systems within this organization, and all partners systems with which data has been <b>shared</b>`),"PARTNERS.UPWARD":()=>U(Ce`This system, all systems within this organization, and all partners systems from which data has been <b>obtained</b>`)},dt={IN_PROCESSING:()=>U(Ce`In processing`),PARTIALLY_COMPLETED:()=>U(Ce`Partially completed`),COMPLETED:()=>U(Ce`Completed`),CANCELED:()=>U(Ce`Canceled`)},lt={GRANTED:()=>U("Granted"),DENIED:()=>U("Denied"),"PARTIALLY-GRANTED":()=>U("Partially Granted"),"UNDER-REVIEW":()=>U("Under Review"),CANCELED:()=>U("Canceled")},ct={"NO-LONGER-THAN":()=>U("no longer than"),"NO-LESS-THAN":()=>U("no less than")},ht={"CAPTURE-DATE":()=>U("capture date"),"RELATIONSHIP-START":()=>U("relationship start"),"RELATIONSHIP-END":()=>U("relationship end"),"SERVICE-START":()=>U("service start"),"SERVICE-END":()=>U("service end")},pt={"*":()=>U("All"),ANONYMIZATION:()=>U("Anonymization"),"AUTOMATED-INFERENCE":()=>U("Automated Inference"),"AUTOMATED-DECISION-MAKING":()=>U("Automated Decision Making"),COLLECTION:()=>U("Collection"),GENERATING:()=>U("Generating"),PUBLISHING:()=>U("Publishing"),STORING:()=>U("Storing"),SHARING:()=>U("Sharing"),USING:()=>U("Using"),"OTHER-PROCESSING":()=>U("Other Processing")},ut={"*":()=>U(Ce`<b>All</b> processing categories`),ANONYMIZATION:()=>U("Processing of personal data in such a manner that the personal data can no longer be attributed to a specific data subject without the use of additional information"),"AUTOMATED-INFERENCE":()=>U("Automatically infering data about the person, including for profiling and clustering"),"AUTOMATED-DECISION-MAKING":()=>U("Automated decision-making"),COLLECTION:()=>U("Collecting data about the person from the person or from another source, including another person or a System"),GENERATING:()=>U("Producing novel data related to the person, such as making photo, voice or video recordings, or reconding user actions such as making a log."),MATCHING:()=>U("Matching the data about the same person across multiple data sources"),PUBLISHING:()=>U("Making data publicly available"),STORING:()=>U("Storing data for further use, including adaptations and formating of the data"),SHARING:()=>U("Sharing data in controled manner with clearly identified parties"),USING:()=>U("Consulting and using data"),"OTHER-PROCESSING":()=>U("Other processing categories)")},gt={"*":()=>U("All"),ADVERTISING:()=>U("Advertising"),COMPLIANCE:()=>U("Compliance"),EMPLOYMENT:()=>U("Employment"),JUSTICE:()=>U("Justice"),MARKETING:()=>U("Marketing"),MEDICAL:()=>U("Medical"),PERSONALIZATION:()=>U("Personalization"),"PUBLIC-INTERESTS":()=>U("Public Interests"),RESEARCH:()=>U("Research"),SALE:()=>U("Sale"),SECURITY:()=>U("Security"),SERVICES:()=>U("Services"),"SERVICES.ADDITIONAL-SERVICES":()=>U("Services - Additional Services"),"SERVICES.BASIC-SERVICE":()=>U("Services - Basic Services"),"SOCIAL-PROTECTION":()=>U("Social Protection"),TRACKING:()=>U("Tracking"),"VITAL-INTERESTS":()=>U("Vitial Interests"),"OTHER-PURPOSE":()=>U("Other Purpose")},mt={"*":()=>U(Ce`<b>All</b> purposes`),ADVERTISING:()=>U("To show ads that are either targeted to the specific user or not targeted"),COMPLIANCE:()=>U("Processing is performed to comply with a legal obligation"),EMPLOYMENT:()=>U(" For personnel training, recruitment, payroll, management, etc"),JUSTICE:()=>U("Processing is necessary for the establishment, exercise or defence of legal claims or whenever courts are acting in their judicial capacity"),MARKETING:()=>U("To contact the user to offer products, services, or other promotions"),MEDICAL:()=>U("Processing is necessary for the purposes of preventive or occupational medicine, for the assessment of the working capacity of the employee, medical diagnosis, the provision of health or social care or treatment or the management of health or social care systems and services"),PERSONALIZATION:()=>U("For providing user with a personalized experience"),"PUBLIC-INTERESTS":()=>U("Processing is necessary for the performance of a task carried out in the public interest or in the exercise of official authority"),RESEARCH:()=>U("Scientific and Market Research"),SALE:()=>U("Selling data to third parties"),SECURITY:()=>U("For product operation and security, enforcement of terms of service, fraud prevention, protecting users and property, etc. "),SERVICES:()=>U("Processing is necessary performed in the context of services provided to the Data Subject or contracts and transactions being concluded with them"),"SERVICES.ADDITIONAL-SERVICES":()=>U("Providing the services that the person requires that are not part of the basic service"),"SERVICES.BASIC-SERVICE":()=>U("Providing the basic service to the person"),"SOCIAL-PROTECTION":()=>U("Processing is necessary for the purposes of employment and social security and social protection"),TRACKING:()=>U("Tracking information about user behavior and activity online"),"VITAL-INTERESTS":()=>U("Processing is necessary in order to protect the vital interests of the data subject or of another natural person"),"OTHER-PURPOSE":()=>U("Other specific purpose")},vt=new URL(new URL(new URL("fede5681.svg",import.meta.url).href,import.meta.url).href,import.meta.url).href,bt=new URL(new URL(new URL("113e4705.svg",import.meta.url).href,import.meta.url).href,import.meta.url).href;let Et=class extends He{constructor(){super(...arguments),this.demandGroups=[],this._consents=[]}handleEditDemandGroupClick(e){this.dispatchEvent(new CustomEvent("bldn-request-review:edit-demands",{bubbles:!0,composed:!0,detail:{demandGroupIndex:e}}))}handleDeleteDemandGroupClick(e){this.dispatchEvent(new CustomEvent("bldn-request-review:delete-demands",{bubbles:!0,composed:!0,detail:{demandGroupIndex:e}}))}handleBackClick(){this.dispatchEvent(new CustomEvent("bldn-request-review:back-click",{bubbles:!0,composed:!0,detail:{demandGroupIndex:0}}))}handleSubmitClick(){this.dispatchEvent(new CustomEvent("bldn-request-review:submit-request",{bubbles:!0,composed:!0,detail:{target:this._target}}))}handleTargetChange(e){e.stopPropagation();const{value:t}=e.detail;this._target=t}getListTemplate(e){return Ce` <ul> ${Je(e,(e=>Ce`<li>${e}</li>`))} </ul> `}getPrivacyScopeListTemplate(t){const s=[...new Set(t.map((e=>e.dc)))],n=[...new Set(t.map((e=>e.pc)))],i=[...new Set(t.map((e=>e.pp)))];return Ce` <p>${U("Data Categories")}</p> ${this.getListTemplate(s.map((e=>Ce` ${"*"===e?ot[e]():Ce`<b>${it[e]()}</b> ${ot[e]()}`} `)))} <p>${U("Processing Categories")}</p> ${this.getListTemplate(n.map((t=>Ce` ${t===e.pc._?ut[t]():Ce`<b>${pt[t]()}:</b> ${ut[t]()}`} `)))} <p>${U("Purposes")}</p> ${this.getListTemplate(i.map((e=>Ce` ${"*"===e?mt[e]():Ce`<b>${gt[e]()}:</b> ${mt[e]()}`} `)))} `}getDateRestrictionTemplate(e){var t,s,n,i;const a=null===(s=null===(t=e[0].restrictions)||void 0===t?void 0:t.date_range)||void 0===s?void 0:s.from,o=null===(i=null===(n=e[0].restrictions)||void 0===n?void 0:n.date_range)||void 0===i?void 0:i.to;return a&&o?Ce`<p> ${U(m`From ${new Date(a).toLocaleDateString()} to ${new Date(o).toLocaleDateString()}`)} </p>`:a?Ce`<p> ${U(m`Since ${new Date(a).toLocaleDateString()}`)} </p>`:o?Ce`<p> ${U(m`Up to ${new Date(o).toLocaleDateString()}`)} </p>`:Ce`${U("No valid dates!")}`}getReviewTemplate(e){var n,i,a,o,r,d;if(e.length>0){const l=(null===(i=null===(n=e[0].restrictions)||void 0===n?void 0:n.date_range)||void 0===i?void 0:i.to)||(null===(o=null===(a=e[0].restrictions)||void 0===a?void 0:a.date_range)||void 0===o?void 0:o.from),c=(null===(d=null===(r=e[0].restrictions)||void 0===r?void 0:r.provenance)||void 0===d?void 0:d.term)&&e[0].restrictions.provenance.term!==t.term._,h=e[0].message&&e[0].action!==s.action.OTHER;return Ce` ${Ke(e[0].action,[[s.action.ACCESS,()=>Ce` <p>${U("I want to access:")}</p> ${this.getListTemplate(e[0].restrictions.privacy_scope.map((e=>Ce` ${"*"===e.dc?ot[e.dc]():Ce`<b>${it[e.dc]()} Data:</b> ${ot[e.dc]()}`} `)))} `],[s.action.DELETE,()=>Ce` <p>${U("I want to delete:")}</p> ${this.getListTemplate(e[0].restrictions.privacy_scope.map((e=>Ce` ${"*"===e.dc?ot[e.dc]():Ce`<b>${it[e.dc]()} Data:</b> ${ot[e.dc]()}`} `)))} `],[s.action.MODIFY,()=>Ce``],[s.action.OBJECT,()=>{var t;return Ce` <p> ${U("I object to the processing of my data within the following scope:")} </p> ${this.getPrivacyScopeListTemplate(null===(t=e[0].restrictions)||void 0===t?void 0:t.privacy_scope)} `}],[s.action.RESTRICT,()=>{var t;return Ce` <p> ${U("I restrict the processing of my data to the following scope:")} </p> ${this.getPrivacyScopeListTemplate(null===(t=e[0].restrictions)||void 0===t?void 0:t.privacy_scope)} `}],[s.action.REVOKE_CONSENT,()=>Ce` <p>${U("I revoke the following consents:")}</p> ${this.getListTemplate(this._consents.filter((t=>e.findIndex((e=>e.restrictions.consent.id===t.id))>-1)).map((e=>Ce`${e.name} - <i>${U(Ce`Given on ${new Date(e.date).toLocaleString()}`)}</i>`)))} `],[s.action.OTHER,()=>Ce` <p>${U("Details of my demand:")}</p> <i>${e[0].message}</i> `]],(()=>Ce` ${Ze(e[0].action.includes("TRANSPARENCY"),(()=>Ce` <p>${U("I want to know:")}</p> ${this.getListTemplate(e.map((e=>Ce` ${st[e.action]()} `)))} `))} `))} ${Ze(l||c||h,(()=>Ce` <p>${U("Other options:")}</p> <ul> ${Ze(l,(()=>Ce` <li><p>${U("Date Restriction")}</p></li> ${this.getDateRestrictionTemplate(e)} `))} ${Ze(c,(()=>Ce` <li><p>${U("Provenance Restriction")}</p></li> ${nt[e[0].restrictions.provenance.term]()} `))} ${Ze(h,(()=>Ce` <li><p>${U("Other Message")}</p></li> ${e[0].message} `))} </ul> `))} `}return Ce`${U("No demands to review!")}`}willUpdate(e){e.has("demandGroups")&&this.demandGroups.findIndex((e=>e.findIndex((e=>e.action===s.action.REVOKE_CONSENT))>0))>0&&(n.getInstance().apiTokenSet()?n.getInstance().getUserConsents().then((e=>{this._consents=e})):console.log("User must be authenticated!"))}render(){return Ce` <bldn-nav-wrapper left-button="${U("Back")}" right-button="${U("Submit Request")}" @bldn-nav-wrapper:left-click="${this.handleBackClick}" @bldn-nav-wrapper:right-click="${this.handleSubmitClick}"> <bldn-dropdown class="main-section" mode="major" open> <span slot="heading"><strong>${U("Request Summary")}</strong></span> ${Je(this.demandGroups,((e,t)=>Ce` ${Ze(e.length>0,(()=>Ce` <bldn-dropdown> <span slot="heading"><strong>${et[e[0].action.split(".")[0]]()}</strong> <button class="img-button" @click="${()=>this.handleEditDemandGroupClick(t)}"> <img src="${vt}" alt="edit demand group"> </button> <button class="img-button" @click="${()=>this.handleDeleteDemandGroupClick(t)}"> <img src="${bt}" alt="delete demand group"> </button> </span> ${this.getReviewTemplate(e)} </bldn-dropdown> `))} `))} </bldn-dropdown> <bldn-dropdown id="request-target" class="main-section" mode="major"> <span slot="heading"><strong>${U("Request Target")}</strong></span> <p>${U("I address my Privacy Request to:")}</p> <bldn-radio-list .choices="${Object.values(i.target).map((e=>({display:rt[e](),value:e,checked:e===i.target.PARTNERS})))}" @bldn-radio-list:choice-change="${this.handleTargetChange}"></bldn-radio-list> </bldn-dropdown> </bldn-nav-wrapper> `}};Et.styles=j`:host{color:var(--bldn-request-review-font-color,var(--color-dark));text-align:left}#request-target bldn-radio-list{padding-left:1em}li{margin:1em 0}.img-button{border:none;background:0 0}bldn-dropdown.main-section{border:2px solid var(--bldn-request-review-section-border-color,var(--color-light));border-radius:20px;padding:2.5em}bldn-dropdown.main-section[open]{padding:2.5em 2.5em .5em 2.5em}bldn-dropdown.main-section:hover{border:2px solid var(--bldn-request-review-section-border-color-hovered,var(--color-dark))}bldn-dropdown span{display:inline-flex;align-items:center}bldn-dropdown.main-section>span{font-size:var(--bldn-request-review-section-heading-font-size,var(--font-size-medium));color:var(--bldn-request-review-section-heading-font-color,var(--color-dark))}bldn-dropdown.main-section:not(:first-child){margin-top:2.5em}bldn-dropdown bldn-dropdown[open]{padding-bottom:1em}bldn-dropdown bldn-dropdown span{font-size:var(--font-size-small);color:var(--bldn-request-review-subsection-heading-font-color,var(--color-dark))}bldn-dropdown{border-bottom:2px solid var(--bldn-request-review-subsection-divider-color,var(--color-lightest))}bldn-dropdown bldn-dropdown:last-child{border-bottom:none}bldn-nav-wrapper{padding:2.813em 2.813em 0 2.813em}`,g([ze({type:Array})],Et.prototype,"demandGroups",void 0),g([Ve()],Et.prototype,"_consents",void 0),g([Ve()],Et.prototype,"_target",void 0),Et=g([Ye("bldn-request-review")],Et);let At=class extends He{constructor(){super(...arguments),this.onSubmit=()=>!0,this.backText=U("Back"),this.nextText=U("Next"),this._error=!1,this._errorMessage=U("Invalid Input")}handleBackClick(e){e.stopPropagation(),this.dispatchEvent(new Event("bldn-request-addon:back",{bubbles:!0,composed:!0}))}handNextClick(e){e.stopPropagation();const t=this.onSubmit();this._error=!0!==t,this._error&&!1!==t&&(this._errorMessage=t),!1===this._error&&this.dispatchEvent(new Event("bldn-request-addon:complete",{bubbles:!0,composed:!0}))}render(){return Ce` <bldn-nav-wrapper left-button="${this.backText}" right-button="${this.nextText}" @bldn-nav-wrapper:left-click="${this.handleBackClick}" @bldn-nav-wrapper:right-click="${this.handNextClick}"> ${Ze(this._error,(()=>Ce` <bldn-badge danger>${this._errorMessage}</bldn-badge> `))} <slot></slot> </bldn-nav-wrapper> `}};At.styles=j`:host{display:block;text-align:center}bldn-badge{margin-top:2em}`,g([ze({attribute:!1})],At.prototype,"onSubmit",void 0),g([ze({type:String,attribute:"back-text"})],At.prototype,"backText",void 0),g([ze({type:String,attribute:"next-text"})],At.prototype,"nextText",void 0),g([Ve()],At.prototype,"_error",void 0),g([Ve()],At.prototype,"_errorMessage",void 0),At=g([Ye("bldn-request-addon")],At);class yt extends He{constructor(){super(...arguments),this.demands=this.getDefaultDemands(),this.hasError=!1,this.includeOptions=!0}addToPrivacyRequest(e,t){this.dispatchEvent(new CustomEvent("bldn-action-form:set-demands",{bubbles:!0,composed:!0,detail:{demandGroupIndex:e,demands:t}}))}handleBackClick(){this.dispatchEvent(new Event("bldn-action-form:back-click",{bubbles:!0,composed:!0}))}handleAddClick(){this.validate()&&(this.addToPrivacyRequest(this.demandGroupIndex,this.demands),this.dispatchEvent(new CustomEvent("bldn-action-form:next-click",{bubbles:!0,composed:!0})))}validate(){return this.mainInputErrorMessage=this.validateActionInput(),this.optionsInputErrorMessage=this.validateOptionsInput(),void 0===this.mainInputErrorMessage&&void 0===this.optionsInputErrorMessage}render(){return Ce` <bldn-nav-wrapper left-button="${U("Back")}" right-button="${U("Next")}" @bldn-nav-wrapper:left-click="${this.handleBackClick}" @bldn-nav-wrapper:right-click="${this.handleAddClick}"> <bldn-dropdown class="main-section" mode="major" open> <span slot="heading"><strong>${U("Details of my",{id:"demand-form-action-sentence-start"})} ${et[this.action]()} </strong></span> ${this.getFormTemplate()} </bldn-dropdown> ${Ze(this.includeOptions,(()=>Ce` <bldn-dropdown class="main-section" mode="major"> <span slot="heading"><strong>${U("Other Options")}</strong></span> ${this.getOptionsTemplate()} </bldn-dropdown> `))} </bldn-nav-wrapper> `}}yt.styles=[j`:host{width:100%;margin:0}bldn-dropdown.main-section{border:2px solid var(--bldn-action-form-section-border-color,var(--color-light));border-radius:20px;padding:2.5em}bldn-dropdown.main-section:not(:first-child){margin-top:2.5em}bldn-dropdown.main-section[open]{padding:2.5em 2.5em .5em 2.5em}bldn-dropdown.main-section:hover{border:2px solid var(--bldn-action-form-section-border-color-hovered,var(--color-dark))}bldn-dropdown.main-section>span{font-size:var(--bldn-action-form-section-heading-font-size,var(--font-size-medium));color:var(--bldn-action-form-section-heading-font-color,var(--color-dark))}bldn-dropdown bldn-dropdown[open]{padding-bottom:1.875em}bldn-dropdown bldn-dropdown span{font-size:var(--font-size-small);color:var(--bldn-action-form-subsection-heading-font-color,var(--color-dark))}bldn-dropdown bldn-dropdown span~*{padding-left:1.25em}bldn-dropdown{border-bottom:2px solid var(--bldn-action-form-subsection-divider-color,var(--color-lightest))}bldn-dropdown bldn-dropdown:last-child{border-bottom:none}bldn-nav-wrapper{padding:2.813em 2.813em 0 2.813em}`],g([ze({type:Number,attribute:"demand-group-index"})],yt.prototype,"demandGroupIndex",void 0),g([ze({type:Array,attribute:"demands"})],yt.prototype,"demands",void 0),g([Ve()],yt.prototype,"hasError",void 0),g([Ve()],yt.prototype,"mainInputErrorMessage",void 0),g([Ve()],yt.prototype,"optionsInputErrorMessage",void 0);let ft=class extends He{handleDateChange(e){const{id:t,value:s}=e.target,n=new Date(s).toISOString();"Invalid Date"!==n.toString()&&["start-date","end-date"].includes(t)&&this.dispatchEvent(new CustomEvent(`bldn-date-restriction:${"start-date"===t?"start":"end"}-date-change`,{bubbles:!0,composed:!0,detail:{date:n}}))}render(){const e=void 0!==this.start?new Date(this.start).toISOString().split("T")[0]:void 0,t=void 0!==this.end?new Date(this.end).toISOString().split("T")[0]:void 0;return Ce` <p>${U("Specify a date range for the selected data categories:")}</p> <span>${U("From")}</span> <input id="start-date" type="date" value="${We(e)}" @input="${this.handleDateChange}"> <span>${U("to")}</span> <input id="end-date" type="date" value="${We(t)}" @input="${this.handleDateChange}"> `}};ft.styles=j`:host{display:block;text-align:left;color:var(--bldn-data-restriction-font-color,var(--color-dark))}p{margin:1.3em 0}input{border-radius:10px;padding:.75em;border:2px solid var(--bldn-date-restriction-input-border-color,var(--color-light));background:var(--bldn-date-restriction-input-background-color,var(--color-lightest));margin:0 1em;transition:.3s ease-out}input:hover{border-color:var(--bldn-date-restriction-input-border-color-hover,var(--color-medium));transition:.3s ease}`,g([ze({type:String})],ft.prototype,"start",void 0),g([ze({type:String})],ft.prototype,"end",void 0),ft=g([Ye("bldn-date-restriction")],ft);let Ct=class extends He{handleTermChange(e){this.dispatchEvent(new CustomEvent("bldn-provenance-restriction:term-change",{bubbles:!0,composed:!0,detail:{term:e}}))}handleTargetChange(e){this.dispatchEvent(new CustomEvent("bldn-provenance-restriction:target-change",{bubbles:!0,composed:!0,detail:{target:e}}))}render(){return Ce` <p>${U("My demand applies to data from the following provenance:")}</p> <fieldset class="provenance-restriction"> ${Object.values(t.term).map((e=>Ce` <input id="${e}" name="provenance-term" type="radio" ?checked="${this.term===e}" @click="${()=>this.handleTermChange(e)}">  <label for="${e}">${nt[e]()}</label><br> `))} </fieldset> `}};Ct.styles=j`:host{display:block;text-align:left}fieldset{border:none;margin:0;padding:0;text-align:left}input~input{margin-top:1em}`,g([ze({type:String})],Ct.prototype,"term",void 0),g([ze({type:String})],Ct.prototype,"target",void 0),Ct=g([Ye("bldn-provenance-restriction")],Ct);let $t=class extends He{handleMessageChange(e){const{value:t}=e.target;this.dispatchEvent(new CustomEvent("bldn-additional-message:message-change",{bubbles:!0,composed:!0,detail:{message:t}}))}render(){return Ce` <p class="">${U("My additional message:")}</p> <p> <i> ${U("Please note that adding a personalized message might lead to the demand taking longer to be processed")} </i> </p> <textarea id="additional-msg" class="std-txt-area" name="paragraph_text" cols="50" rows="10" @input="${this.handleMessageChange}">
${this.message}</textarea> `}};$t.styles=j`:host{display:block;text-align:left}textarea{box-sizing:border-box;width:100%;border:1px solid var(--bldn-additional-message-textarea-border-color,var(--color-light));background:rgba(var(--color-light-rgb),.2);border-radius:10px}`,g([ze({type:String})],$t.prototype,"message",void 0),$t=g([Ye("bldn-additional-message")],$t);let Rt=class extends yt{constructor(){super(...arguments),this.dataCategories=[],this.action=s.action.ACCESS}validateActionInput(){}validateOptionsInput(){}getDefaultDemands(){return[{id:"",action:s.action.ACCESS,restrictions:{privacy_scope:[{dc:"*",pc:e.pc._,pp:e.pp._}],provenance:{term:t.term._},date_range:{}}}]}addDataCategory(t){t.stopPropagation();const{value:s}=t.detail;this.demands[0].restrictions.privacy_scope.push({dc:s,pc:e.pc._,pp:e.pp._})}removeDataCategory(e){e.stopPropagation();const{value:t}=e.detail;this.demands[0].restrictions.privacy_scope.splice(this.demands[0].restrictions.privacy_scope.findIndex((e=>e.dc===t)),1)}changeDateRestrictionStart(e){e.stopPropagation();const{date:t}=e.detail;this.demands[0].restrictions.date_range.from=t}changeDateRestrictionEnd(e){e.stopPropagation();const{date:t}=e.detail;this.demands[0].restrictions.date_range.to=t}changeProvenanceRestrictionTerm(e){e.stopPropagation();const{term:t}=e.detail;this.demands[0].restrictions.provenance.term=t}changeMessage(e){e.stopPropagation();const{message:t}=e.detail;this.demands[0].message=t}connectedCallback(){super.connectedCallback(),this.addEventListener("bldn-all-checklist:choice-select",this.addDataCategory),this.addEventListener("bldn-all-checklist:choice-deselect",this.removeDataCategory),this.addEventListener("bldn-date-restriction:start-date-change",this.changeDateRestrictionStart),this.addEventListener("bldn-date-restriction:end-date-change",this.changeDateRestrictionEnd),this.addEventListener("bldn-provenance-restriction:term-change",this.changeProvenanceRestrictionTerm),this.addEventListener("bldn-additional-message:message-change",this.changeMessage)}disconnectedCallback(){this.removeEventListener("bldn-all-checklist:choice-select",this.addDataCategory),this.removeEventListener("bldn-all-checklist:choice-deselect",this.removeDataCategory),this.removeEventListener("bldn-date-restriction:start-date-change",this.changeDateRestrictionStart),this.removeEventListener("bldn-date-restriction:end-date-change",this.changeDateRestrictionEnd),this.removeEventListener("bldn-provenance-restriction:term-change",this.changeProvenanceRestrictionTerm),this.removeEventListener("bldn-additional-message:message-change",this.changeMessage)}getFormTemplate(){return Ce` <p>${U("I want to access data from the following categories:")}</p> <bldn-all-checklist .choices="${this.dataCategories.map((e=>{var t,s;return{value:e,display:Ce`${"*"===e?"":Ce`<b>${it[e]()}: </b>`}${ot[e]()}`,checked:-1!==(null===(s=null===(t=this.demands[0].restrictions)||void 0===t?void 0:t.privacy_scope)||void 0===s?void 0:s.findIndex((t=>t.dc===e))),allChoice:"*"===e}}))}"></bldn-all-checklist> `}getOptionsTemplate(){var e,t,s,n,i,a;return Ce` <bldn-dropdown> <span slot="heading"><strong>${U("Date Restriction")}</strong></span> <bldn-date-restriction start="${We(null===(t=null===(e=this.demands[0].restrictions)||void 0===e?void 0:e.date_range)||void 0===t?void 0:t.from)}" end="${We(null===(n=null===(s=this.demands[0].restrictions)||void 0===s?void 0:s.date_range)||void 0===n?void 0:n.to)}"></bldn-date-restriction> </bldn-dropdown> <bldn-dropdown> <span slot="heading"><strong>${U("Provenance Restriction")}</strong></span> <bldn-provenance-restriction term="${We(null===(a=null===(i=this.demands[0].restrictions)||void 0===i?void 0:i.provenance)||void 0===a?void 0:a.term)}"></bldn-provenance-restriction> </bldn-dropdown> <bldn-dropdown> <span slot="heading"><strong>${U("Additional Message")}</strong></span> <bldn-additional-message message="${We(this.demands[0].message)}"></bldn-additional-message> </bldn-dropdown> `}};Rt.styles=[yt.styles,j`:host{text-align:left;color:var(--bldn-access-form-font-color,var(--color-dark))}p{margin:2em 0}p+bldn-all-checklist{margin-top:1em;padding-left:1em}`],g([ze({type:Array,attribute:"data-categories"})],Rt.prototype,"dataCategories",void 0),Rt=g([Ye("bldn-access-form")],Rt);let Tt=class extends yt{constructor(){super(...arguments),this.dataCategories=[],this.action=s.action.DELETE}validateActionInput(){}validateOptionsInput(){}getFormTemplate(){return Ce` <p>${U("I want to delete data from the following categories:")}</p> <bldn-all-checklist .choices="${this.dataCategories.map((e=>{var t,s;return{value:e,display:Ce`${"*"===e?"":Ce`<b>${it[e]()}: </b>`}${ot[e]()}`,checked:-1!==(null===(s=null===(t=this.demands[0].restrictions)||void 0===t?void 0:t.privacy_scope)||void 0===s?void 0:s.findIndex((t=>t.dc===e))),allChoice:"*"===e}}))}"></bldn-all-checklist> `}getOptionsTemplate(){var e,t,s,n,i,a;return Ce` <bldn-dropdown> <span slot="heading"><strong>${U("Date Restriction")}</strong></span> <bldn-date-restriction start="${We(null===(t=null===(e=this.demands[0].restrictions)||void 0===e?void 0:e.date_range)||void 0===t?void 0:t.from)}" end="${We(null===(n=null===(s=this.demands[0].restrictions)||void 0===s?void 0:s.date_range)||void 0===n?void 0:n.to)}"></bldn-date-restriction> </bldn-dropdown> <bldn-dropdown> <span slot="heading"><strong>${U("Provenance Restriction")}</strong></span> <bldn-provenance-restriction term="${We(null===(a=null===(i=this.demands[0].restrictions)||void 0===i?void 0:i.provenance)||void 0===a?void 0:a.term)}"></bldn-provenance-restriction> </bldn-dropdown> <bldn-dropdown> <span slot="heading"><strong>${U("Additional Message")}</strong></span> <bldn-additional-message message="${We(this.demands[0].message)}"></bldn-additional-message> </bldn-dropdown> `}getDefaultDemands(){return[{id:"",action:s.action.DELETE,restrictions:{privacy_scope:[{dc:"*",pc:e.pc._,pp:e.pp._}],provenance:{term:t.term._},date_range:{}}}]}addDataCategory(t){t.stopPropagation();const{value:s}=t.detail;this.demands[0].restrictions.privacy_scope.push({dc:s,pc:e.pc._,pp:e.pp._})}removeDataCategory(e){e.stopPropagation();const{value:t}=e.detail;this.demands[0].restrictions.privacy_scope.splice(this.demands[0].restrictions.privacy_scope.findIndex((e=>e.dc===t)),1)}changeDateRestrictionStart(e){e.stopPropagation();const{date:t}=e.detail;this.demands[0].restrictions.date_range.from=t}changeDateRestrictionEnd(e){e.stopPropagation();const{date:t}=e.detail;this.demands[0].restrictions.date_range.to=t}changeProvenanceRestrictionTerm(e){e.stopPropagation();const{term:t}=e.detail;this.demands[0].restrictions.provenance.term=t}changeMessage(e){e.stopPropagation();const{message:t}=e.detail;this.demands[0].message=t}connectedCallback(){super.connectedCallback(),this.addEventListener("bldn-all-checklist:choice-select",this.addDataCategory),this.addEventListener("bldn-all-checklist:choice-deselect",this.removeDataCategory),this.addEventListener("bldn-date-restriction:start-date-change",this.changeDateRestrictionStart),this.addEventListener("bldn-date-restriction:end-date-change",this.changeDateRestrictionEnd),this.addEventListener("bldn-provenance-restriction:term-change",this.changeProvenanceRestrictionTerm),this.addEventListener("bldn-additional-message:message-change",this.changeMessage)}disconnectedCallback(){this.removeEventListener("bldn-all-checklist:choice-select",this.addDataCategory),this.removeEventListener("bldn-all-checklist:choice-deselect",this.removeDataCategory),this.removeEventListener("bldn-date-restriction:start-date-change",this.changeDateRestrictionStart),this.removeEventListener("bldn-date-restriction:end-date-change",this.changeDateRestrictionEnd),this.removeEventListener("bldn-provenance-restriction:term-change",this.changeProvenanceRestrictionTerm),this.removeEventListener("bldn-additional-message:message-change",this.changeMessage)}};Tt.styles=[yt.styles,j`:host{text-align:left;color:var(--bldn-delete-form-font-color,var(--color-dark))}p{margin:2em 0}p+bldn-all-checklist{margin-top:1em;padding-left:1em}`],g([ze({type:Array,attribute:"data-categories"})],Tt.prototype,"dataCategories",void 0),Tt=g([Ye("bldn-delete-form")],Tt);let It=class extends yt{constructor(){super(...arguments),this.action=s.action.MODIFY,this.includeOptions=!1}validateActionInput(){}validateOptionsInput(){}getFormTemplate(){return Ce` <bldn-additional-message message="${We(this.demands[0].message)}"></bldn-additional-message> `}getOptionsTemplate(){return Ce``}getDefaultDemands(){return[{id:"",action:s.action.MODIFY}]}changeMessage(e){e.stopPropagation();const{message:t}=e.detail;this.demands[0].message=t}connectedCallback(){super.connectedCallback(),this.addEventListener("bldn-additional-message:message-change",this.changeMessage)}disconnectedCallback(){this.removeEventListener("bldn-additional-message:message-change",this.changeMessage)}};It.styles=[yt.styles,j`bldn-additional-message{margin:2em 0}`],It=g([Ye("bldn-modify-form")],It);const _t=new URL(new URL(new URL("40f12881.svg",import.meta.url).href,import.meta.url).href,import.meta.url).href,St=new URL(new URL(new URL("8f3b910a.svg",import.meta.url).href,import.meta.url).href,import.meta.url).href;let Nt=class extends He{constructor(){super(...arguments),this.mode="select",this.privacyScope=[{dc:"*",pc:e.pc._,pp:e.pp._}],this.dataCategories=[],this.processingCategories=[],this.purposes=[],this._dataCategories=new Set,this._processingCategories=new Set,this._purposes=new Set,this._showTooltip=!1}getModeTemplate(){return Ce` ${Ke(this.mode,[["select",()=>Ce` ${U("I select the following")} <bldn-button id="scope-tooltip-button" mode="link" underline-mode="dotted" @click="${()=>{this._showTooltip=!this._showTooltip}}">${U(Ce`<b>privacy scope</b>`)}</bldn-button> `],["object",()=>Ce` ${U("I object to the processing of my data within the following")} <bldn-button id="scope-tooltip-button" mode="link-icon" underline-mode="dotted" @click="${()=>{this._showTooltip=!this._showTooltip}}"> ${U(Ce`<b>privacy scope</b>`)} <img src="${St}" alt="privacy scope tooltip"> </bldn-button> `],["restrict",()=>Ce` ${U("I restrict the processing of my data to the following")} <bldn-button id="scope-tooltip-button" mode="link" underline-mode="dotted" @click="${()=>{this._showTooltip=!this._showTooltip}}">${U(Ce`<b>privacy scope</b>`)}</bldn-button> `]])} `}setPrivacyScope(){const e=function(...e){return e.reduce(((e,t)=>e.map((e=>t.map((t=>[...e,t])))).reduce(((e,t)=>[...e,...t]),[])),[[]])}(Array.from(this._dataCategories.values()),Array.from(this._processingCategories.values()),Array.from(this._purposes.values())).map((e=>({dc:e[0],pc:e[1],pp:e[2]})));this.dispatchEvent(new CustomEvent("bldn-privacy-scope-picker:scope-change",{bubbles:!0,composed:!0,detail:{privacyScope:e}}))}addDataCategory(e){const{value:t}=e.detail;this._dataCategories.add(t),this.setPrivacyScope(),this.requestUpdate()}removeDataCategory(e){const{value:t}=e.detail;this._dataCategories.delete(t),this.setPrivacyScope(),this.requestUpdate()}addProcessingCategory(e){const{value:t}=e.detail;this._processingCategories.add(t),this.setPrivacyScope(),this.requestUpdate()}removeProcessingCategory(e){const{value:t}=e.detail;this._processingCategories.delete(t),this.setPrivacyScope(),this.requestUpdate()}addPurpose(e){const{value:t}=e.detail;this._purposes.add(t),this.setPrivacyScope(),this.requestUpdate()}removePurpose(e){const{value:t}=e.detail;this._purposes.delete(t),this.setPrivacyScope(),this.requestUpdate()}handlePrivacyScopeChange(){this._dataCategories=new Set(this.privacyScope.map((e=>e.dc))),this._processingCategories=new Set(this.privacyScope.map((e=>e.pc))),this._purposes=new Set(this.privacyScope.map((e=>e.pp)))}willUpdate(e){e.has("privacyScope")&&this.handlePrivacyScopeChange()}render(){return Ce` <p><b>${this.getModeTemplate()}</b></p> <p id="scope-summary"> ${U(Ce` Data from <span class="scope-counter"><b>${1===this._dataCategories.size&&this._dataCategories.has("*")?"all":this._dataCategories.size}</b></span> categories, processed in <span class="scope-counter"><b>${1===this._processingCategories.size&&this._processingCategories.has(e.pc._)?"all":this._processingCategories.size}</b></span> ways, for <span class="scope-counter"><b>${1===this._purposes.size&&this._purposes.has(e.pp._)?"all":this._purposes.size}</b></span> purposes `)} </p> ${Ze(this._showTooltip,(()=>Ce` <div id="tooltip"> <img src="${_t}" alt="info box"> <span>${U(Ce`A <b><i>Privacy Scope</i></b> describes one or more types of data (<i>data categories</i>), how it is processed (<i>processing categories</i>), and why it is processed that way (<i>purposes of processing</i>).`)}</span> </div> `))} <p id="expand-tip"> <i>${U("Expand a dropdown to customise your scope")}</i> </p> <bldn-dropdown> <span slot="heading"><strong>${U("Data Categories")}</strong></span> <p>${U("The types of data in my privacy scope are:")}</p> <bldn-all-checklist .choices="${this.dataCategories.map((e=>(e.checked=this._dataCategories.has(e.value),e)))}" @bldn-all-checklist:choice-select="${this.addDataCategory}" @bldn-all-checklist:choice-deselect="${this.removeDataCategory}"></bldn-all-checklist> </bldn-dropdown> <bldn-dropdown> <span slot="heading"><strong>${U("Processing Categories")}</strong></span> <p>${U("The ways data in my privacy scope is processed:")}</p> <bldn-all-checklist .choices="${this.processingCategories.map((e=>(e.checked=this._processingCategories.has(e.value),e)))}" @bldn-all-checklist:choice-select="${this.addProcessingCategory}" @bldn-all-checklist:choice-deselect="${this.removeProcessingCategory}"></bldn-all-checklist> </bldn-dropdown> <bldn-dropdown> <span slot="heading"><strong>${U("Purposes of Processing")}</strong></span> <p>${U("The reasons for processing data in my privacy scope:")}</p> <bldn-all-checklist .choices="${this.purposes.map((e=>(e.checked=this._purposes.has(e.value),e)))}" @bldn-all-checklist:choice-select="${this.addPurpose}" @bldn-all-checklist:choice-deselect="${this.removePurpose}"></bldn-all-checklist> </bldn-dropdown> `}};Nt.styles=j`:host{color:var(--bldn-privacy-scope-picker-font-color,var(--color-dark));text-align:left}bldn-dropdown:not(:last-child){border-bottom:2px solid var(--bldn-privacy-scope-picker-dropdown-divider-color,var(--color-lightest))}p{margin:1.5em 0}#scope-summary{line-height:30px}.scope-counter{background:var(--color-light);padding:.3em .5em;border-radius:5px}#tooltip{display:flex;padding:1em;gap:1em;background:var(--color-lightest);border-radius:20px}#tooltip img{align-self:center}#expand-tip{color:var(--color-medium)}`,g([ze({type:String})],Nt.prototype,"mode",void 0),g([ze({type:Array,attribute:"privacy-scope"})],Nt.prototype,"privacyScope",void 0),g([ze({type:Array})],Nt.prototype,"dataCategories",void 0),g([ze({type:Array})],Nt.prototype,"processingCategories",void 0),g([ze({type:Array})],Nt.prototype,"purposes",void 0),g([Ve()],Nt.prototype,"_dataCategories",void 0),g([Ve()],Nt.prototype,"_processingCategories",void 0),g([Ve()],Nt.prototype,"_purposes",void 0),g([Ve()],Nt.prototype,"_showTooltip",void 0),Nt=g([Ye("blnd-privacy-scope-picker")],Nt);let Ot=class extends yt{constructor(){super(...arguments),this.dataCategories=[],this.processingCategories=[],this.purposes=[],this.action=s.action.OBJECT}validateActionInput(){}validateOptionsInput(){}getFormTemplate(){return Ce` <blnd-privacy-scope-picker mode="object" .privacyScope="${this.demands[0].restrictions.privacy_scope}" .dataCategories="${this.dataCategories.map((e=>({value:e,display:"*"===e?Ce`${ot[e]()}`:Ce`<b>${it[e]()}:</b> ${ot[e]()}`,allChoice:"*"===e})))}" .processingCategories="${this.processingCategories.map((e=>({value:e,display:"*"===e?Ce`${ut[e]()}`:Ce`<b>${pt[e]()}:</b> ${ut[e]()}`,allChoice:"*"===e})))}" .purposes="${this.purposes.map((e=>({value:e,display:"*"===e?Ce`${mt[e]()}`:Ce`<b>${gt[e]()}:</b> ${mt[e]()}`,allChoice:"*"===e})))}"></blnd-privacy-scope-picker> `}getOptionsTemplate(){var e,t,s,n,i,a;return Ce` <bldn-dropdown> <span slot="heading"><strong>${U("Date Restriction")}</strong></span> <bldn-date-restriction start="${We(null===(t=null===(e=this.demands[0].restrictions)||void 0===e?void 0:e.date_range)||void 0===t?void 0:t.from)}" end="${We(null===(n=null===(s=this.demands[0].restrictions)||void 0===s?void 0:s.date_range)||void 0===n?void 0:n.to)}"></bldn-date-restriction> </bldn-dropdown> <bldn-dropdown> <span slot="heading"><strong>${U("Provenance Restriction")}</strong></span> <bldn-provenance-restriction term="${We(null===(a=null===(i=this.demands[0].restrictions)||void 0===i?void 0:i.provenance)||void 0===a?void 0:a.term)}"></bldn-provenance-restriction> </bldn-dropdown> <bldn-dropdown> <span slot="heading"><strong>${U("Additional Message")}</strong></span> <bldn-additional-message message="${We(this.demands[0].message)}"></bldn-additional-message> </bldn-dropdown> `}getDefaultDemands(){return[{id:"",action:s.action.OBJECT,restrictions:{privacy_scope:[{dc:"*",pc:e.pc._,pp:e.pp._}],provenance:{term:t.term._},date_range:{}}}]}changePrivacyScopeRestriction(e){e.stopPropagation();const{privacyScope:t}=e.detail;this.demands[0].restrictions.privacy_scope=t}changeDateRestrictionStart(e){e.stopPropagation();const{date:t}=e.detail;this.demands[0].restrictions.date_range.from=t}changeDateRestrictionEnd(e){e.stopPropagation();const{date:t}=e.detail;this.demands[0].restrictions.date_range.to=t}changeProvenanceRestrictionTerm(e){e.stopPropagation();const{term:t}=e.detail;this.demands[0].restrictions.provenance.term=t}changeMessage(e){e.stopPropagation();const{message:t}=e.detail;this.demands[0].message=t}connectedCallback(){super.connectedCallback(),this.addEventListener("bldn-privacy-scope-picker:scope-change",this.changePrivacyScopeRestriction),this.addEventListener("bldn-date-restriction:start-date-change",this.changeDateRestrictionStart),this.addEventListener("bldn-date-restriction:end-date-change",this.changeDateRestrictionEnd),this.addEventListener("bldn-provenance-restriction:term-change",this.changeProvenanceRestrictionTerm),this.addEventListener("bldn-additional-message:message-change",this.changeMessage)}disconnectedCallback(){this.removeEventListener("bldn-privacy-scope-picker:scope-change",this.changePrivacyScopeRestriction),this.removeEventListener("bldn-date-restriction:start-date-change",this.changeDateRestrictionStart),this.removeEventListener("bldn-date-restriction:end-date-change",this.changeDateRestrictionEnd),this.removeEventListener("bldn-provenance-restriction:term-change",this.changeProvenanceRestrictionTerm),this.removeEventListener("bldn-additional-message:message-change",this.changeMessage)}};Ot.styles=[yt.styles,j``],g([ze({type:Array,attribute:"data-categories"})],Ot.prototype,"dataCategories",void 0),g([ze({type:Array,attribute:"processing-categories"})],Ot.prototype,"processingCategories",void 0),g([ze({type:Array,attribute:"purposes"})],Ot.prototype,"purposes",void 0),Ot=g([Ye("bldn-object-form")],Ot);let wt=class extends yt{constructor(){super(...arguments),this.action=s.action.PORTABILITY,this.includeOptions=!1}validateActionInput(){}validateOptionsInput(){}getFormTemplate(){return Ce` <bldn-additional-message message="${We(this.demands[0].message)}"></bldn-additional-message> `}getOptionsTemplate(){return Ce``}getDefaultDemands(){return[{id:"",action:s.action.PORTABILITY}]}changeMessage(e){e.stopPropagation();const{message:t}=e.detail;this.demands[0].message=t}connectedCallback(){super.connectedCallback(),this.addEventListener("bldn-additional-message:message-change",this.changeMessage)}disconnectedCallback(){this.removeEventListener("bldn-additional-message:message-change",this.changeMessage)}};wt.styles=[yt.styles,j`bldn-additional-message{margin:2em 0}`],wt=g([Ye("bldn-portability-form")],wt);let Pt=class extends yt{constructor(){super(...arguments),this.dataCategories=[],this.processingCategories=[],this.purposes=[],this.action=s.action.RESTRICT}validateActionInput(){}validateOptionsInput(){}getFormTemplate(){return Ce` <blnd-privacy-scope-picker mode="restrict" .privacyScope="${this.demands[0].restrictions.privacy_scope}" .dataCategories="${this.dataCategories.map((e=>({value:e,display:"*"===e?Ce`${ot[e]()}`:Ce`<b>${it[e]()}:</b> ${ot[e]()}`,allChoice:"*"===e})))}" .processingCategories="${this.processingCategories.map((e=>({value:e,display:"*"===e?Ce`${ut[e]()}`:Ce`<b>${pt[e]()}:</b> ${ut[e]()}`,allChoice:"*"===e})))}" .purposes="${this.purposes.map((e=>({value:e,display:"*"===e?Ce`${mt[e]()}`:Ce`<b>${gt[e]()}:</b> ${mt[e]()}`,allChoice:"*"===e})))}"></blnd-privacy-scope-picker> `}getOptionsTemplate(){var e,t,s,n,i,a;return Ce` <bldn-dropdown> <span slot="heading"><strong>${U("Date Restriction")}</strong></span> <bldn-date-restriction start="${We(null===(t=null===(e=this.demands[0].restrictions)||void 0===e?void 0:e.date_range)||void 0===t?void 0:t.from)}" end="${We(null===(n=null===(s=this.demands[0].restrictions)||void 0===s?void 0:s.date_range)||void 0===n?void 0:n.to)}"></bldn-date-restriction> </bldn-dropdown> <bldn-dropdown> <span slot="heading"><strong>${U("Provenance Restriction")}</strong></span> <bldn-provenance-restriction term="${We(null===(a=null===(i=this.demands[0].restrictions)||void 0===i?void 0:i.provenance)||void 0===a?void 0:a.term)}"></bldn-provenance-restriction> </bldn-dropdown> <bldn-dropdown> <span slot="heading"><strong>${U("Additional Message")}</strong></span> <bldn-additional-message message="${We(this.demands[0].message)}"></bldn-additional-message> </bldn-dropdown> `}getDefaultDemands(){return[{id:"",action:s.action.RESTRICT,restrictions:{privacy_scope:[{dc:"*",pc:e.pc._,pp:e.pp._}],provenance:{term:t.term._},date_range:{}}}]}changePrivacyScopeRestriction(e){e.stopPropagation();const{privacyScope:t}=e.detail;this.demands[0].restrictions.privacy_scope=t}changeDateRestrictionStart(e){e.stopPropagation();const{date:t}=e.detail;this.demands[0].restrictions.date_range.from=t}changeDateRestrictionEnd(e){e.stopPropagation();const{date:t}=e.detail;this.demands[0].restrictions.date_range.to=t}changeProvenanceRestrictionTerm(e){e.stopPropagation();const{term:t}=e.detail;this.demands[0].restrictions.provenance.term=t}changeMessage(e){e.stopPropagation();const{message:t}=e.detail;this.demands[0].message=t}connectedCallback(){super.connectedCallback(),this.addEventListener("bldn-privacy-scope-picker:scope-change",this.changePrivacyScopeRestriction),this.addEventListener("bldn-date-restriction:start-date-change",this.changeDateRestrictionStart),this.addEventListener("bldn-date-restriction:end-date-change",this.changeDateRestrictionEnd),this.addEventListener("bldn-provenance-restriction:term-change",this.changeProvenanceRestrictionTerm),this.addEventListener("bldn-additional-message:message-change",this.changeMessage)}disconnectedCallback(){this.removeEventListener("bldn-privacy-scope-picker:scope-change",this.changePrivacyScopeRestriction),this.removeEventListener("bldn-date-restriction:start-date-change",this.changeDateRestrictionStart),this.removeEventListener("bldn-date-restriction:end-date-change",this.changeDateRestrictionEnd),this.removeEventListener("bldn-provenance-restriction:term-change",this.changeProvenanceRestrictionTerm),this.removeEventListener("bldn-additional-message:message-change",this.changeMessage)}};Pt.styles=[yt.styles,j``],g([ze({type:Array,attribute:"data-categories"})],Pt.prototype,"dataCategories",void 0),g([ze({type:Array,attribute:"processing-categories"})],Pt.prototype,"processingCategories",void 0),g([ze({type:Array,attribute:"purposes"})],Pt.prototype,"purposes",void 0),Pt=g([Ye("bldn-restrict-form")],Pt);let Dt=class extends yt{constructor(){super(),this._consents=[],this._showEach=!1,this.action=s.action.REVOKE_CONSENT,n.getInstance().apiTokenSet()?n.getInstance().getUserConsents().then((e=>{this._consents=e,1!==this.demands.length||this.demands[0].restrictions?this._showEach=!0:(this.demands=[],this._consents.forEach((e=>{this.demands.push({id:"",action:s.action.REVOKE_CONSENT,restrictions:{consent:{id:e.id}},message:this._message})})))})):console.log("User must be authenticated for this demand type!")}validateActionInput(){}validateOptionsInput(){}getFormTemplate(){return Ce` <p>${U("I want to:")}</p> <bldn-radio-list .choices="${[{value:"all",display:U(Ce`Revoke <b>all</b> consents`),checked:!this._showEach},{value:"some",display:U(Ce`Revoke <b>specific</b> consents (select those you wish to <b>revoke</b>)`),checked:this._showEach}]}" @bldn-radio-list:choice-change="${this.handleRevokeTypeChange}"></bldn-radio-list> ${Ze(this._showEach,(()=>Ce` <bldn-checklist .choices="${this._consents.map((e=>({value:e.id,display:Ce`${e.name} - <i>${U(Ce`Given on ${new Date(e.date).toLocaleString()}`)}</i>`,checked:this.demands.findIndex((t=>t.restrictions.consent.id===e.id))>-1})))}" @bldn-checklist:choice-select="${this.addConsent}" @bldn-checklist:choice-deselect="${this.removeConsent}"></bldn-checklist> `))} `}getOptionsTemplate(){return Ce` <bldn-dropdown> <span slot="heading"><strong>${U("Additional Message")}</strong></span> <bldn-additional-message message="${We(this.demands.length>0?this.demands[0].message:void 0)}"></bldn-additional-message> </bldn-dropdown> `}getDefaultDemands(){return[{id:"",action:s.action.REVOKE_CONSENT}]}handleRevokeTypeChange(e){e.stopPropagation();const{value:t}=e.detail;this._showEach="some"===t,this.demands=[],"all"===t&&this._consents.forEach((e=>{this.demands.push({id:"",action:s.action.REVOKE_CONSENT,restrictions:{consent:{id:e.id}},message:this._message})}))}addConsent(e){e.stopPropagation();const{value:t}=e.detail;this.demands.push({id:"",action:s.action.REVOKE_CONSENT,restrictions:{consent:{id:t}},message:this._message})}removeConsent(e){e.stopPropagation();const{value:t}=e.detail,s=this.demands.findIndex((e=>e.restrictions.consent.id===t));s>-1&&this.demands.splice(s,1)}changeMessage(e){e.stopPropagation();const{message:t}=e.detail;this._message=t,this.demands.forEach((e=>{e.message=this._message}))}connectedCallback(){super.connectedCallback(),this.addEventListener("bldn-additional-message:message-change",this.changeMessage)}disconnectedCallback(){this.removeEventListener("bldn-additional-message:message-change",this.changeMessage)}};Dt.styles=[yt.styles,j`:host{text-align:left;color:var(--bldn-revoke-consent-form-font-color,var(--color-dark))}bldn-checklist{margin-left:1.5em;margin-bottom:1em}`],g([Ve()],Dt.prototype,"_consents",void 0),g([Ve()],Dt.prototype,"_message",void 0),g([Ve()],Dt.prototype,"_showEach",void 0),Dt=g([Ye("bldn-revoke-consent-form")],Dt);let kt=class extends yt{constructor(){super(...arguments),this.transparencyActions=[],this._restrictions={},this.action=s.action.TRANSPARENCY}validateActionInput(){}validateOptionsInput(){}getFormTemplate(){return Ce` <p>${U("I want to know:")}</p> <bldn-all-checklist .choices="${this.transparencyActions.map((e=>({value:e,display:st[e](),checked:-1!==this.demands.findIndex((t=>t.action===e)),allChoice:e===s.action.TRANSPARENCY})))}"></bldn-all-checklist> `}getOptionsTemplate(){var e,t,s,n,i,a;return Ce` <bldn-dropdown> <span slot="heading"><strong>${U("Date Restriction")}</strong></span> <bldn-date-restriction start="${We(null===(t=null===(e=this.demands[0].restrictions)||void 0===e?void 0:e.date_range)||void 0===t?void 0:t.from)}" end="${We(null===(n=null===(s=this.demands[0].restrictions)||void 0===s?void 0:s.date_range)||void 0===n?void 0:n.to)}"></bldn-date-restriction> </bldn-dropdown> <bldn-dropdown> <span slot="heading"><strong>${U("Provenance Restriction")}</strong></span> <bldn-provenance-restriction term="${We(null===(a=null===(i=this.demands[0].restrictions)||void 0===i?void 0:i.provenance)||void 0===a?void 0:a.term)}"></bldn-provenance-restriction> </bldn-dropdown> <bldn-dropdown> <span slot="heading"><strong>${U("Additional Message")}</strong></span> <bldn-additional-message message="${We(this.demands[0].message)}"></bldn-additional-message> </bldn-dropdown> `}getDefaultDemands(){return[{id:"",action:s.action.TRANSPARENCY,restrictions:{provenance:{term:t.term._},date_range:{}}}]}addTransparencyAction(e){const{value:t}=e.detail,s={id:"",action:t,restrictions:this._restrictions};this._message&&(s.message=this._message),this.demands.push(s)}removeTransparencyAction(e){const{value:t}=e.detail,s=this.demands.findIndex((e=>e.action===t));s>-1&&this.demands.splice(s,1)}changeDateRestrictionStart(e){e.stopPropagation();const{date:t}=e.detail;this._restrictions.date_range.from=t,this.demands.forEach((e=>{e.restrictions.date_range.from=t}))}changeDateRestrictionEnd(e){e.stopPropagation();const{date:t}=e.detail;this._restrictions.date_range.to=t,this.demands.forEach((e=>{e.restrictions.date_range.to=t}))}changeProvenanceRestrictionTerm(e){e.stopPropagation();const{term:t}=e.detail;this._restrictions.provenance.term=t,this.demands.forEach((e=>{e.restrictions.provenance.term=t}))}changeMessage(e){e.stopPropagation();const{message:t}=e.detail;this._message=t,this.demands.forEach((e=>{e.message=this._message}))}connectedCallback(){super.connectedCallback(),this.addEventListener("bldn-all-checklist:choice-select",this.addTransparencyAction),this.addEventListener("bldn-all-checklist:choice-deselect",this.removeTransparencyAction),this.addEventListener("bldn-date-restriction:start-date-change",this.changeDateRestrictionStart),this.addEventListener("bldn-date-restriction:end-date-change",this.changeDateRestrictionEnd),this.addEventListener("bldn-provenance-restriction:term-change",this.changeProvenanceRestrictionTerm),this.addEventListener("bldn-additional-message:message-change",this.changeMessage)}disconnectedCallback(){this.removeEventListener("bldn-all-checklist:choice-select",this.addTransparencyAction),this.removeEventListener("bldn-all-checklist:choice-deselect",this.removeTransparencyAction),this.removeEventListener("bldn-date-restriction:start-date-change",this.changeDateRestrictionStart),this.removeEventListener("bldn-date-restriction:end-date-change",this.changeDateRestrictionEnd),this.removeEventListener("bldn-provenance-restriction:term-change",this.changeProvenanceRestrictionTerm),this.removeEventListener("bldn-additional-message:message-change",this.changeMessage)}handleDemandsChange(){this.demands.length>0&&(this.demands[0].restrictions&&(this._restrictions=this.demands[0].restrictions),this.demands[0].message&&(this._message=this.demands[0].message))}willUpdate(e){e.has("demands")&&this.handleDemandsChange()}};kt.styles=[yt.styles,j`:host{text-align:left;color:var(--bldn-transparency-form-font-color,var(--color-dark))}p{margin:2em 0}p+bldn-all-checklist{margin-top:1em;padding-left:1em}`],g([ze({type:Array,attribute:"transparency-actions"})],kt.prototype,"transparencyActions",void 0),g([Ve()],kt.prototype,"_restrictions",void 0),g([Ve()],kt.prototype,"_message",void 0),kt=g([Ye("bldn-transparency-form")],kt);let Lt=class extends yt{constructor(){super(...arguments),this.action=s.action.OTHER,this.includeOptions=!1}validateActionInput(){}validateOptionsInput(){}getFormTemplate(){return Ce` <bldn-additional-message message="${We(this.demands[0].message)}"></bldn-additional-message> `}getOptionsTemplate(){return Ce``}getDefaultDemands(){return[{id:"",action:s.action.OTHER}]}changeMessage(e){e.stopPropagation();const{message:t}=e.detail;this.demands[0].message=t}connectedCallback(){super.connectedCallback(),this.addEventListener("bldn-additional-message:message-change",this.changeMessage)}disconnectedCallback(){this.removeEventListener("bldn-additional-message:message-change",this.changeMessage)}};var qt,xt;Lt.styles=[yt.styles,j`bldn-additional-message{margin:2em 0}`],Lt=g([Ye("bldn-other-form")],Lt),function(e){e.ALL="*",e.AFFILIATION="AFFILIATION",e.BEHAVIOR="BEHAVIOR",e.BIOMETRIC="BIOMETRIC",e.CONTACT="CONTACT",e.DEMOGRAPHIC="DEMOGRAPHIC",e.DEVICE="DEVICE",e.FINANCIAL="FINANCIAL",e.GENETIC="GENETIC",e.HEALTH="HEALTH",e.IMAGE="IMAGE",e.LOCATION="LOCATION",e.NAME="NAME",e.PROFILING="PROFILING",e.RELATIONSHIPS="RELATIONSHIPS",e.UID="UID",e["OTHER-DATA"]="OTHER-DATA"}(qt||(qt={})),function(e){e[e.preModules=0]="preModules",e[e.menu=1]="menu",e[e.edit=2]="edit",e[e.postModules=3]="postModules",e[e.review=4]="review"}(xt||(xt={}));let Mt=class extends(a(He)){constructor(){super(...arguments),this.actions=Object.values(s.action),this.dataCategories=Object.values(qt),this._uiState=xt.menu,this._demandGroups=[],this._allowedActions=Object.values(s.action),this._allowedDataCategories=[],this._preAddons=[],this._postAddons=[],this._currentPreAddon=0,this._currentPostAddon=0}getActionForm(t){return Ce` ${Ke(t,[[s.action.ACCESS,()=>Ce` <bldn-access-form data-categories="${JSON.stringify(this._allowedDataCategories)}" .demands="${void 0!==this._demandGroupIndex?this._demandGroups[this._demandGroupIndex]:We(void 0)}" demand-group-index="${We(this._demandGroupIndex)}"></bldn-access-form> `],[s.action.DELETE,()=>Ce` <bldn-delete-form data-categories="${JSON.stringify(this._allowedDataCategories)}" .demands="${void 0!==this._demandGroupIndex?this._demandGroups[this._demandGroupIndex]:We(void 0)}" demand-group-index="${We(this._demandGroupIndex)}"></bldn-delete-form> `],[s.action.MODIFY,()=>Ce` <bldn-modify-form data-categories="${JSON.stringify(this._allowedDataCategories)}" .demands="${void 0!==this._demandGroupIndex?this._demandGroups[this._demandGroupIndex]:We(void 0)}" demand-group-index="${We(this._demandGroupIndex)}"></bldn-modify-form> `],[s.action.OBJECT,()=>Ce` <bldn-object-form data-categories="${JSON.stringify(this._allowedDataCategories)}" processing-categories="${JSON.stringify(Object.values(e.pc))}" purposes="${JSON.stringify(Object.values(e.pp))}" .demands="${void 0!==this._demandGroupIndex?this._demandGroups[this._demandGroupIndex]:We(void 0)}" demand-group-index="${We(this._demandGroupIndex)}"></bldn-object-form> `],[s.action.PORTABILITY,()=>Ce` <bldn-portability-form data-categories="${JSON.stringify(this._allowedDataCategories)}" .demands="${void 0!==this._demandGroupIndex?this._demandGroups[this._demandGroupIndex]:We(void 0)}" demand-group-index="${We(this._demandGroupIndex)}"></bldn-portability-form> `],[s.action.RESTRICT,()=>Ce` <bldn-restrict-form data-categories="${JSON.stringify(this._allowedDataCategories)}" processing-categories="${JSON.stringify(Object.values(e.pc))}" purposes="${JSON.stringify(Object.values(e.pp))}" .demands="${void 0!==this._demandGroupIndex?this._demandGroups[this._demandGroupIndex]:We(void 0)}" demand-group-index="${We(this._demandGroupIndex)}"></bldn-restrict-form> `],[s.action.TRANSPARENCY,()=>Ce` <bldn-transparency-form .transparencyActions="${this._allowedActions.filter((e=>e.includes("TRANSPARENCY")))}" .demands="${void 0!==this._demandGroupIndex?this._demandGroups[this._demandGroupIndex]:We(void 0)}" demand-group-index="${We(this._demandGroupIndex)}"></bldn-transparency-form> `],[s.action.REVOKE_CONSENT,()=>Ce` <bldn-revoke-consent-form data-categories="${JSON.stringify(this._allowedDataCategories)}" .demands="${void 0!==this._demandGroupIndex?this._demandGroups[this._demandGroupIndex]:We(void 0)}" demand-group-index="${We(this._demandGroupIndex)}"></bldn-revoke-consent-form> `],[s.action.OTHER,()=>Ce` <bldn-other-form data-categories="${JSON.stringify(this._allowedDataCategories)}" .demands="${void 0!==this._demandGroupIndex?this._demandGroups[this._demandGroupIndex]:We(void 0)}" demand-group-index="${We(this._demandGroupIndex)}"></bldn-other-form> `]])} `}selectAction(e){e.stopPropagation();const{value:t}=e.detail;Object.values(s.action).includes(t)&&(this._action=t,this._demandGroupIndex=void 0,this._uiState=xt.preModules)}setDemands(e){e.stopPropagation();const{demandGroupIndex:t,demands:s}=e.detail;void 0!==t?this._demandGroups[t]=s:this._demandGroups.push(s)}deleteDemands(e){e.stopPropagation();const{demandGroupIndex:t}=e.detail;this._demandGroups.splice(t,1),this._uiState=xt.menu}editDemands(e){e.stopPropagation();const{demandGroupIndex:t}=e.detail;this._demandGroupIndex=t,this._currentPostAddon=0,this._uiState=xt.edit}handleReviewBack(e){e.stopPropagation();const{demandGroupIndex:t}=e.detail;this._demandGroupIndex=t,this._uiState=0===this._postAddons.length?xt.edit:xt.postModules}handleSubmitRequest(e){e.stopPropagation();const{target:t}=e.detail,s={demands:this._demandGroups.flat(),...void 0!==t&&{target:t}};if(n.getInstance().apiTokenSet()){const e=JSON.parse(function(e){let t=(e||"").replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("Illegal base64url string!")}return atob(t)}(this.apiToken.split(".")[1]));s.data_subject=[{id:e.uid,schema:"dsid"}]}this.dispatchEvent(new CustomEvent("bldn-request-builder:request-created",{bubbles:!0,composed:!0,detail:{request:s}})),n.getInstance().apiTokenSet()?n.getInstance().sendPrivacyRequest(s).then((e=>{this.dispatchEvent(new CustomEvent("bldn-request-builder:request-sent",{bubbles:!0,composed:!0,detail:{requestId:e.request_id}}))})):(this._action=void 0,this._demandGroupIndex=void 0,this._demandGroups=[],this._uiState=xt.menu)}handleBackClick(e){e.stopPropagation(),0===this._preAddons.length?(this._action=void 0,this._demandGroupIndex=void 0,this._demandGroups=[],this._uiState=xt.menu):this._uiState=xt.preModules}handleReviewClick(e){e.stopPropagation(),this._uiState=xt.postModules}handleModuleBack(e){e.stopPropagation();const t=e.composedPath()[0].slot;"preFormAddon"===t?0===this._currentPreAddon?(this._action=void 0,this._demandGroupIndex=void 0,this._demandGroups=[],this._uiState=xt.menu):this._currentPreAddon-=1:"postFormAddon"===t&&(0===this._currentPostAddon?this._uiState=xt.edit:this._currentPostAddon-=1)}handleModuleNext(e){e.stopPropagation();const t=e.composedPath()[0].slot;"preFormAddon"===t?this._currentPreAddon===this._preAddons.length-1?this._uiState=xt.edit:this._currentPreAddon+=1:"postFormAddon"===t&&(this._currentPostAddon===this._postAddons.length-1?this._uiState=xt.review:this._currentPostAddon+=1)}updateDataCategories(){this.apiToken,this._allowedDataCategories=Object.values(qt);const e=this.dataCategories.map((e=>e.toLowerCase())),t=this._allowedDataCategories.filter((t=>e.includes(t.toLowerCase())||"*"===t));t.length>0&&(this._allowedDataCategories=t)}handleActionsChange(){const e=this.actions.map((e=>e.toLowerCase())),t=this._allowedActions.filter((t=>e.includes(t.toLowerCase())));t.length>0&&(this._allowedActions=t)}handleTokenChange(){this.updateDataCategories()}handlePreAddonSlotChange(e){const t=e.target.assignedElements();if(t[0]instanceof HTMLSlotElement){const e=t[0].assignedElements();0===this._preAddons.length&&0!==e.length&&e.every((e=>e instanceof At))&&(this._preAddons=e)}else 0===this._preAddons.length&&0!==t.length&&t.every((e=>e instanceof At))&&(this._preAddons=t);0===this._preAddons.length&&(this._uiState=xt.edit)}handlePostAddonSlotChange(e){const t=e.target.assignedElements();if(t[0]instanceof HTMLSlotElement){const e=t[0].assignedElements();0===this._postAddons.length&&0!==e.length&&e.every((e=>e instanceof At))&&(this._postAddons=e)}else 0===this._postAddons.length&&0!==t.length&&t.every((e=>e instanceof At))&&(this._postAddons=t);0===this._postAddons.length&&(this._uiState=xt.review)}connectedCallback(){super.connectedCallback(),this.addEventListener("bldn-tile-menu:tile-click",this.selectAction),this.addEventListener("bldn-request-addon:back",this.handleModuleBack),this.addEventListener("bldn-request-addon:complete",this.handleModuleNext),this.addEventListener("bldn-action-form:set-demands",this.setDemands),this.addEventListener("bldn-action-form:back-click",this.handleBackClick),this.addEventListener("bldn-action-form:next-click",this.handleReviewClick),this.addEventListener("bldn-request-review:delete-demands",this.deleteDemands),this.addEventListener("bldn-request-review:edit-demands",this.editDemands),this.addEventListener("bldn-request-review:back-click",this.handleReviewBack),this.addEventListener("bldn-request-review:submit-request",this.handleSubmitRequest)}disconnectedCallback(){this.removeEventListener("bldn-tile-menu:tile-click",this.selectAction),this.removeEventListener("bldn-request-addon:back",this.handleModuleBack),this.removeEventListener("bldn-request-addon:complete",this.handleModuleNext),this.removeEventListener("bldn-action-form:set-demands",this.setDemands),this.removeEventListener("bldn-request-review:delete-demands",this.deleteDemands),this.removeEventListener("bldn-request-review:edit-demands",this.editDemands),this.removeEventListener("bldn-request-review:back-click",this.handleReviewBack),this.removeEventListener("bldn-request-review:submit-request",this.handleSubmitRequest),this.removeEventListener("bldn-action-form:back-click",this.handleBackClick),this.removeEventListener("bldn-action-form:next-click",this.handleReviewClick)}willUpdate(e){super.willUpdate(e),e.has("actions")&&this.handleActionsChange(),e.has("dataCategories")&&this.updateDataCategories(),e.has("apiToken")&&this.handleTokenChange()}render(){return Ce` ${Ke(this._uiState,[[xt.menu,()=>Ce` <bldn-tile-menu .tiles="${this._allowedActions.filter((e=>!e.includes("."))).map((e=>({title:Qe[e](),description:tt[e](),value:e})))}"></bldn-tile-menu> `],[xt.preModules,()=>this._preAddons.length>0?Ce`${this._preAddons[this._currentPreAddon]}`:Ce` <slot name="preFormAddon" @slotchange="${this.handlePreAddonSlotChange}"><span></span></slot> `],[xt.edit,()=>{var e;return this.getActionForm(null!==(e=this._action)&&void 0!==e?e:s.action.ACCESS)}],[xt.postModules,()=>this._postAddons.length>0?Ce`${this._postAddons[this._currentPostAddon]}`:Ce` <slot name="postFormAddon" @slotchange="${this.handlePostAddonSlotChange}"><span></span></slot> `],[xt.review,()=>Ce` <bldn-request-review .demandGroups="${this._demandGroups}"></bldn-request-review> `]])} `}};Mt.styles=j`:host{display:block;width:100%}`,g([ze({type:Array})],Mt.prototype,"actions",void 0),g([ze({type:Array,attribute:"data-categories"})],Mt.prototype,"dataCategories",void 0),g([Ve()],Mt.prototype,"_uiState",void 0),g([Ve()],Mt.prototype,"_action",void 0),g([Ve()],Mt.prototype,"_demandGroupIndex",void 0),g([Ve()],Mt.prototype,"_demandGroups",void 0),g([Ve()],Mt.prototype,"_allowedActions",void 0),g([Ve()],Mt.prototype,"_allowedDataCategories",void 0),g([Ve()],Mt.prototype,"_preAddons",void 0),g([Ve()],Mt.prototype,"_postAddons",void 0),g([Ve()],Mt.prototype,"_currentPreAddon",void 0),g([Ve()],Mt.prototype,"_currentPostAddon",void 0),Mt=g([y(),Ye("bldn-request-builder")],Mt);let Gt=class extends He{handleItemClick(e){this.dispatchEvent(new CustomEvent("bldn-submitted-requests-list:request-click",{detail:{value:e}}))}render(){return Ce` <div class="heading row"> <span><b>${U("Created")}</b></span> <span><b>${U("Status")}</b></span> <span><b>${U("Demands")}</b></span> </div> ${Ze(this.requests&&this.requests.length>0,(()=>Ce` <div id="items"> ${Je(this.requests,(e=>Ce` <button id="${e.id}" class="item row" @click="${()=>this.handleItemClick(e.id)}"> <span>${new Date(e.date).toLocaleString()}</span> <span>${dt[e.status]()}</span> <span>${e.demands}</span> </button> `))} </div> `),(()=>Ce` ${Ze(void 0===this.requests,(()=>Ce` <p>${U("Loading your requests...")}</p> `),(()=>Ce` <p>${U("No requests to display")}</p> `))} `))} `}};Gt.styles=j`:host{display:block;color:var(--bldn-submitted-requests-list-font-color,var(--color-dark));font-size:var(--bldn-submitted-requests-font-size,var(--font-size-small))}#items{display:grid;row-gap:1.25em}.heading{margin-bottom:.5em}.row{display:grid;grid-template-columns:repeat(3,1fr)}.item{border:2px solid var(--color-light);border-radius:5px;padding:1em 0;transition:.3s ease-out}.item:hover{border-color:var(--color-dark);transition:.3s ease}button{width:100%;font-size:var(--bldn-submitted-requests-font-size,var(--font-size-small));font-family:var(--bldn-submitted-requests-font-family,var(--font-family));color:var(--bldn-submitted-requests-list-font-color,var(--color-dark));background:0 0;margin:none;padding:none}`,g([ze({type:Array})],Gt.prototype,"requests",void 0),Gt=g([Ye("bldn-submitted-requests-list")],Gt);
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const Ut=1;class Ht{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,s){this._$Ct=e,this._$AM=t,this._$Ci=s}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Bt=(e=>(...t)=>({_$litDirective$:e,values:t}))(class extends Ht{constructor(e){var t;if(super(e),e.type!==Ut||"class"!==e.name||(null===(t=e.strings)||void 0===t?void 0:t.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter((t=>e[t])).join(" ")+" "}update(e,[t]){var s,n;if(void 0===this.nt){this.nt=new Set,void 0!==e.strings&&(this.st=new Set(e.strings.join(" ").split(/\s/).filter((e=>""!==e))));for(const e in t)t[e]&&!(null===(s=this.st)||void 0===s?void 0:s.has(e))&&this.nt.add(e);return this.render(t)}const i=e.element.classList;this.nt.forEach((e=>{e in t||(i.remove(e),this.nt.delete(e))}));for(const e in t){const s=!!t[e];s===this.nt.has(e)||(null===(n=this.st)||void 0===n?void 0:n.has(e))||(s?(i.add(e),this.nt.add(e)):(i.remove(e),this.nt.delete(e)))}return $e}}),Yt=new URL(new URL(new URL("90b39089.svg",import.meta.url).href,import.meta.url).href,import.meta.url).href,Ft=new URL(new URL(new URL("a9a6f83f.svg",import.meta.url).href,import.meta.url).href,import.meta.url).href,zt=new URL(new URL(new URL("f383a6d9.svg",import.meta.url).href,import.meta.url).href,import.meta.url).href,Vt=new URL(new URL(new URL("1df8289e.svg",import.meta.url).href,import.meta.url).href,import.meta.url).href;let jt=class extends(a(He)){constructor(){super(...arguments),this._requestDetails=[],this._error=!1}getRequestDetails(){n.getInstance().getRequest(this.requestId).then((e=>{this._requestDetails=e,this._error=!1})).catch((e=>{console.log(e),this._error=!0}))}handleCopyLinkClick(){navigator.clipboard.writeText(function(e){const t=new URL(document.URL);return t.searchParams.set("requestId",e),t}(this.requestId).toString())}handleDownloadClick(e){window.location.href=e.data}handleCancelClick(e){n.getInstance().cancelDemand(e.demand_id).then((()=>{this.getRequestDetails()})).catch((e=>{console.log(e)}))}handleRefreshClick(){this.getRequestDetails()}willUpdate(e){e.has("apiToken")&&this.apiToken&&this.requestId&&this.getRequestDetails(),e.has("requestId")&&(this.requestId&&n.getInstance().apiTokenSet()?this.getRequestDetails():this.requestId&&setTimeout((()=>{n.getInstance().apiTokenSet()&&this.getRequestDetails()}),2e3)),e.has("requestId")&&this.requestId&&n.getInstance().apiTokenSet()&&this.getRequestDetails()}render(){return Ce` <bldn-dropdown class="main-section" mode="major" open> <span slot="heading" id="summary-heading"><b>${U(Ce`Request Summary`)}</b> <bldn-button mode="link-icon" underline-mode="none" @bldn-button:click="${this.handleCopyLinkClick}"> <span class="request-action"><b>${U("Copy Link")}</b></span> <img src="${Yt}" alt="copy link to request status page"> </bldn-button> <bldn-button id="refresh-request" mode="link-icon" underline-mode="none" @bldn-button:click="${this.handleRefreshClick}"> <span class="request-action"><b>${U("Refresh")}</b></span> <img src="${Vt}" alt="refresh this request"> </bldn-button> </span> ${Ze(this._requestDetails.length>0,(()=>Ce` ${this._requestDetails.map((e=>{const t={granted:e.status===o.status.GRANTED,denied:e.status===o.status.DENIED,partial:e.status===o.status.PARTIALLY_GRANTED||e.status===o.status.UNDER_REVIEW,canceled:e.status===o.status.CANCELED};return Ce` <bldn-dropdown> <span slot="heading"><strong>${U(Ce`${et[e.requested_action]()}`)}&nbsp;&nbsp;&nbsp;<span class="${Bt(t)}">${lt[e.status]()}</span></strong></span> ${this.getStatusTemplate(e)} </bldn-dropdown> ${Je(e.includes,(e=>{const t={granted:e.status===o.status.GRANTED,denied:e.status===o.status.DENIED,partial:e.status===o.status.PARTIALLY_GRANTED||e.status===o.status.UNDER_REVIEW,canceled:e.status===o.status.CANCELED};return Ce` <bldn-dropdown> <span slot="heading"><strong>${U(Ce`${Qe[e.requested_action]()} Demand`)}&nbsp;&nbsp;&nbsp;<span class="${Bt(t)}">${lt[e.status]()}</span></strong></span> ${this.getStatusTemplate(e)} </bldn-dropdown> `}))} `}))} `),(()=>Ce` <p id="loading-message"> ${Ze(this._error,(()=>Ce` ${U("Error getting request details. Please refresh later.")} `),(()=>Ce` ${U("Loading request details...")} `))} </p> `))} </bldn-dropdown> `}getStatusTemplate(e){return Ce` <p> <b>${U("Requested:")}</b> ${tt[e.requested_action]()} </p> ${Ke(e.status,[[o.status.GRANTED,()=>this.getGrantedResponseTemplate(e)],[o.status.DENIED,()=>Ce` <p> ${U("This demand has been denied. Reason: ")}<i>${e.message}</i> </p> `],[o.status.PARTIALLY_GRANTED,()=>Ce`<p>${U("This demand has been partially granted.")}</p>`],[o.status.UNDER_REVIEW,()=>Ce` <p> ${U("This demand is still under review.")} <bldn-button mode="link-icon" underline-mode="none" @bldn-button:click="${()=>this.handleCancelClick(e)}"> <span class="cancel-demand">${U("Cancel Demand")}</span> <img src="${zt}" alt="cancel demand"> </bldn-button> </p> `],[o.status.CANCELED,()=>Ce`<p>${U("This demand has been cancelled.")}</p>`]])} `}getGrantedResponseTemplate(e){const t=JSON.parse(e.answer);return Ce` ${Ke(e.requested_action,[[o.requested_action.ACCESS,()=>Ce` ${Ze(e.data,(()=>Ce` <bldn-button mode="link-icon" @bldn-button:click="${()=>this.handleDownloadClick(e)}"> <img src="${Ft}" alt="download your data"> <span>${U("Download your data.")}</span> </bldn-button> `),(()=>Ce`<p> ${U("Obtaining data, please wait and refresh the page later.")} </p>`))} `],[o.requested_action.DELETE,()=>Ce` <p>${U("Your delete demand has been granted.")}</p> `],[o.requested_action.MODIFY,()=>Ce` <p>${U("Your modify demand has been granted.")}</p> `],[o.requested_action.OBJECT,()=>Ce` <p>${U("Your object demand has been granted")}</p> `],[o.requested_action.OTHER,()=>Ce` <p>${U("Your demand has been granted.")}</p> `],[o.requested_action.PORTABILITY,()=>Ce` <p>${U("Your portability demand has been granted.")}</p> `],[o.requested_action.RESTRICT,()=>Ce` <p>${U("Your restrict demand has been granted.")}</p> `],[o.requested_action.REVOKE_CONSENT,()=>Ce` <p>${U("Your revoke consent demand has been granted.")}</p> `],[o.requested_action.TRANSPARENCY,()=>Ce` <p> ${U("Your transparency demand has been granted and split into multiple demands below.")} </p> `],[o.requested_action.TRANSPARENCY_DATA_CATEGORIES,()=>Ce` <p> ${Ze(t.length>0,(()=>Ce` ${Je(t,(e=>Ce` ${e}<br> `))} `),(()=>Ce` ${U("There are no categories of data on you.")} `))} </p> `],[o.requested_action.TRANSPARENCY_DPO,()=>Ce` <p> ${Ze(t,(()=>Ce` ${t} `),(()=>Ce` ${U("There is no listed DPO.")} `))} </p> `],[o.requested_action.TRANSPARENCY_KNOWN,()=>Ce` <p> ${Ke(t,[["NO",()=>Ce`${U(Ce`The organization <strong>does not</strong> have data on you.`)}`],["YES",()=>Ce`${U(Ce`The organization <strong>does</strong> have data on you.`)}`]],(()=>Ce`${U("There is no information regarding whether the organization has data on you.")}`))} </p> `],[o.requested_action.TRANSPARENCY_LEGAL_BASES,()=>{const e=t;return Ce` <p> ${Ze(Object.keys(e).length>0,(()=>Ce` ${Je(e,(e=>Ce` <p> ${U("Name: ")}${e.name}<br> ${Ze(e.description,(()=>Ce`${U("Description: ")}${e.description}<br>`))} ${U("Type: ")}${e.lb_type}<br> </p> `))} `),(()=>Ce` ${U("There are no legal bases for processing your data.")} `))} </p> `}],[o.requested_action.TRANSPARENCY_ORGANIZATION,()=>Ce` <p> ${Ze(t,(()=>Ce` ${t} `),(()=>Ce` ${U("There is no organization information.")} `))} </p> `],[o.requested_action.TRANSPARENCY_POLICY,()=>Ce` <p> ${Ze(t,(()=>Ce` ${t} `),(()=>Ce` ${U("There is no policy information.")} `))} </p> `],[o.requested_action.TRANSPARENCY_PROCESSING_CATEGORIES,()=>Ce` <p> ${Ze(t.length>0,(()=>Ce` ${Je(t,(e=>Ce` ${e}<br> `))} `),(()=>Ce`${U("There are no categories of processing being done on your data.")}`))} </p> `],[o.requested_action.TRANSPARENCY_PROVENANCE,()=>{const e=t;return Ce` <p> ${Ze(Object.keys(e).length>0,(()=>Ce` ${Je(Object.entries(e),(([e,t])=>Ce` ${Je(t,(t=>{return Ce` ${s=e,n={...t},Ce` ${Ke(n.provenance,[[r.provenance._,()=>Ce` ${Ze(n.system,(()=>Ce` <b>${at[s]()}:</b> ${U(Ce`Obtained from a user, another system and/or derived from existing data, in the <i>${n.system}</i> system`)} `),(()=>Ce` <b>${at[s]()}:</b> ${U(Ce`Obtained from a user, another system and/or derived from existing data, in some other system.`)} `))} `],[r.provenance.USER,()=>Ce` ${Ze(n.system,(()=>Ce` <b>${at[s]()}:</b> ${U(Ce`Obtained from a user of the <i>${n.system}</i> system`)} `),(()=>Ce` <b>${at[s]()}:</b> ${U(Ce`Obtained from a user`)} `))} `],[r.provenance.USER_DATA_SUBJECT,()=>Ce` ${Ze(n.system,(()=>Ce` <b>${at[s]()}:</b> ${U(Ce`Obtained from a user, providing data about theirself, in the <i>${n.system}</i> system`)} `),(()=>Ce` <b>${at[s]()}:</b> ${U(Ce`Obtained from a user, providing data about theirself`)} `))} `],[r.provenance.TRANSFERRED,()=>Ce` ${Ze(n.system,(()=>Ce` <b>${at[s]()}:</b> ${U(Ce`Transfered from the <i>${n.system}</i> system`)} `),(()=>Ce` <b>${at[s]()}:</b> ${U(Ce`Transfered from some other system`)} `))} `],[r.provenance.DERIVED,()=>Ce` ${Ze(n.system,(()=>Ce` <b>${at[s]()}:</b> ${U(Ce`Derived from existing data in the <i>${n.system}</i> system`)} `),(()=>Ce` <b>${at[s]()}:</b> ${U(Ce`Derived from existing data in some other system`)} `))} `]])} `}<br> `;var s,n}))} `))} `),(()=>Ce` ${U("There are no sources of data concerning you.")} `))} </p> `}],[o.requested_action.TRANSPARENCY_PURPOSE,()=>Ce` <p> ${Ze(t.length>0,(()=>Ce` ${Je(t,(e=>Ce` ${e}<br> `))} `),(()=>Ce` ${U("There is no information about the purposes for processing your data.")} `))} </p> `],[o.requested_action.TRANSPARENCY_RETENTION,()=>{const e=t;return Ce` <p> ${Ze(Object.keys(e).length>0,(()=>Ce` ${Je(Object.entries(e),(([e,t])=>Ce` ${Je(t,(t=>{return Ce` ${s=e,n=t.policy_type,i=t.duration,a=t.after,Ce`<i>${at[s.toLocaleUpperCase()]()}</i> ${U("is kept for")} <i>${ct[n]().toLocaleUpperCase()}</i> <i>${i}</i> ${U("months after")} <i>${ht[a]().toLocaleUpperCase()}</i>`}<br> `;var s,n,i,a}))} `))} `),(()=>Ce` ${U("There is no information about how long your data is kept.")} `))} </p> `}],[o.requested_action.TRANSPARENCY_WHERE,()=>Ce` <p> ${Ze(t.length>0,(()=>Ce` ${Je(t,(e=>Ce` ${e}<br> `))} `),(()=>Ce` ${U("There is no information about where your data is stored.")} `))} </p> `],[o.requested_action.TRANSPARENCY_WHO,()=>Ce` <p> ${Ze(t.length>0,(()=>Ce` ${Je(t,(e=>Ce` ${e}<br> `))} `),(()=>Ce` ${U("There is no information about who has access to your data.")} `))} </p> `]])} `}};jt.styles=j`:host{display:block;text-align:left;color:var(--bldn-request-status-font-color,var(--color-dark))}bldn-dropdown.main-section{border:2px solid var(--bldn-action-form-section-border-color,var(--color-dark));border-radius:20px;padding:2.5em}bldn-dropdown.main-section[open]{padding:2.5em 2.5em .5em 2.5em}bldn-dropdown.main-section>span{font-size:var(--bldn-action-form-section-heading-font-size,var(--font-size-medium));color:var(--bldn-action-form-section-heading-font-color,var(--color-dark))}bldn-dropdown bldn-dropdown span{font-size:var(--font-size-small);color:var(--bldn-action-form-subsection-heading-font-color,var(--color-dark))}bldn-dropdown bldn-dropdown>span[slot=heading]{padding-left:0}bldn-dropdown bldn-dropdown>*{padding-left:1.25em}bldn-dropdown{border-bottom:2px solid var(--bldn-action-form-subsection-divider-color,var(--color-lightest))}bldn-dropdown bldn-dropdown:last-child{border-bottom:none}#summary-heading{display:flex;gap:1em}#loading-message{margin:.8em 0}.request-action{color:var(--color-medium)}.granted{color:var(--color-positive)}.denied{color:var(--color-negative)}.partial{color:var(--color-warning)}.canceled{color:var(--color-light)}.cancel-demand{color:var(--color-negative)}`,g([ze({type:String})],jt.prototype,"requestId",void 0),g([Ve()],jt.prototype,"_requestDetails",void 0),g([Ve()],jt.prototype,"_error",void 0),jt=g([Ye("bldn-request-status")],jt);const Wt=new URL(new URL(new URL("7e20d8fc.svg",import.meta.url).href,import.meta.url).href,import.meta.url).href;var Kt;!function(e){e[e.requestsList=0]="requestsList",e[e.requestStatus=1]="requestStatus"}(Kt||(Kt={}));let Jt=class extends(a(He)){constructor(){super(...arguments),this._requestFilter="all",this._uiState=Kt.requestsList}handleRequestsCategoryChange(e){e.stopPropagation();const{value:t}=e.detail;this._requestFilter=t}handleRequestClick(e){e.stopPropagation();const{value:t}=e.detail;this._selectedRequest=t,this._uiState=Kt.requestStatus}handleBackClick(){this._uiState=Kt.requestsList,this.getRequests()}getRequests(){n.getInstance().getRequestHistory().then((e=>{var t;this._requests=null!==(t=e.history)&&void 0!==t?t:[]}))}getRequestsToDisplay(){if(void 0!==this._requests)switch(this._requestFilter){case"all":default:return this._requests;case"pending":return this._requests.filter((e=>e.status===d.status.IN_PROCESSING));case"answered":return this._requests.filter((e=>e.status===d.status.COMPLETED));case"canceled":return this._requests.filter((e=>e.status===d.status.CANCELED))}return this._requests}goToStatus(){this._selectedRequest=this.requestId,this._uiState=Kt.requestStatus}willUpdate(e){e.has("apiToken")&&this.apiToken&&this.getRequests(),e.has("requestId")&&this.requestId&&this.goToStatus()}connectedCallback(){super.connectedCallback(),n.getInstance().apiTokenSet()&&this.getRequests()}render(){return Ce` ${Ze(this._uiState===Kt.requestsList,(()=>Ce` <bldn-horizontal-list .choices="${[{value:"all",display:U("All")},{value:"pending",display:U("Pending")},{value:"answered",display:U("Answered")},{value:"canceled",display:U("Canceled")}]}" @bldn-horizontal-list:choice-change="${this.handleRequestsCategoryChange}"></bldn-horizontal-list> <bldn-submitted-requests-list .requests="${this.getRequestsToDisplay()}" @bldn-submitted-requests-list:request-click="${this.handleRequestClick}"> </bldn-submitted-requests-list> `),(()=>Ce` <bldn-button mode="link-icon" underline-mode="none" @bldn-button:click="${this.handleBackClick}"> <img src="${Wt}" alt="back to requests"> <span id="back-button"><b>${U("Back to Requests")}</b></span> </bldn-button> <bldn-request-status .requestId="${this._selectedRequest}"></bldn-request-status> `))} `}};Jt.styles=j`:host{display:block}bldn-horizontal-list{margin-bottom:1.75em}#back-button{color:var(--color-darkest)}bldn-request-status{margin-top:1.75em}`,g([ze({type:String,attribute:"request-id"})],Jt.prototype,"requestId",void 0),g([Ve()],Jt.prototype,"_requests",void 0),g([Ve()],Jt.prototype,"_requestFilter",void 0),g([Ve()],Jt.prototype,"_uiState",void 0),g([Ve()],Jt.prototype,"_selectedRequest",void 0),Jt=g([y(),Ye("bldn-request-viewer")],Jt);const Zt=["fr","fr-CA","fr-FR"],{getLocale:Xt,setLocale:Qt}=(es={sourceLocale:"en-US",targetLocales:Zt,loadLocale:e=>import(`./generated/locales/${e}.js`)},function(e){if(H)throw new Error("lit-localize can only be configured once");U=e,H=!0}(((e,t)=>S(k,e,t))),L=w=es.sourceLocale,P=new Set(es.targetLocales),P.add(es.sourceLocale),D=es.loadLocale,{getLocale:M,setLocale:G});var es,ts,ss;!function(e){e.ALL="*",e.AFFILIATION="AFFILIATION",e.BEHAVIOR="BEHAVIOR",e.BIOMETRIC="BIOMETRIC",e.CONTACT="CONTACT",e.DEMOGRAPHIC="DEMOGRAPHIC",e.DEVICE="DEVICE",e.FINANCIAL="FINANCIAL",e.GENETIC="GENETIC",e.HEALTH="HEALTH",e.IMAGE="IMAGE",e.LOCATION="LOCATION",e.NAME="NAME",e.PROFILING="PROFILING",e.RELATIONSHIPS="RELATIONSHIPS",e.UID="UID",e["OTHER-DATA"]="OTHER-DATA"}(ts||(ts={})),function(e){e[e.createRequest=0]="createRequest",e[e.submittedRequests=1]="submittedRequests"}(ss||(ss={}));let ns=class extends(a(He)){constructor(){super(),this.actions=[],this.dataCategories=Object.values(ts),this._uiState=ss.createRequest,this._preAddons=[],this._postAddons=[];try{Qt(navigator.language)}catch(e){console.log(`Could not set locale to ${navigator.language}.`)}const e=new URL(window.location.href),t=e.searchParams.get("requestId");t&&(this.requestId=t,e.searchParams.delete("requestId"),window.history.replaceState({},"",e.href))}handleRequestIdChange(){this._uiState=ss.submittedRequests}handleRequestSent(e){const{requestId:t}=e.detail;this.requestId=t}handleNavClick(e){const{value:t}=e.detail;"create"===t?this._uiState=ss.createRequest:(this.requestId=void 0,this._uiState=ss.submittedRequests)}handleApiTokenEvent(e){const{token:t}=e.detail;t&&(this.apiToken=t)}handlePreAddonSlotChange(e){const t=e.target.assignedElements();0===this._preAddons.length&&0!==t.length&&t.every((e=>e instanceof At))&&(this._preAddons=t)}handlePostAddonSlotChange(e){const t=e.target.assignedElements();0===this._postAddons.length&&0!==t.length&&t.every((e=>e instanceof At))&&(this._postAddons=t)}willUpdate(e){super.willUpdate(e),e.has("requestId")&&this.handleRequestIdChange()}connectedCallback(){super.connectedCallback(),this.addEventListener("bldn-priv-request-api-token:set",this.handleApiTokenEvent)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("bldn-priv-request-api-token:set",this.handleApiTokenEvent)}render(){return Ce` <bldn-nav-toggle .left="${{label:U("Submit a Request"),value:"create",checked:this._uiState===ss.createRequest}}" .right="${{label:U("Submitted Requests"),value:"submitted",checked:this._uiState===ss.submittedRequests}}" @bldn-nav-toggle:click="${this.handleNavClick}"></bldn-nav-toggle> ${Ke(this._uiState,[[ss.createRequest,()=>Ce` <bldn-request-builder api-token="${We(this.apiToken)}" data-categories="${JSON.stringify(this.dataCategories)}" actions="${JSON.stringify(this.actions)}" @bldn-request-builder:request-sent="${this.handleRequestSent}"> ${Ze(this._preAddons.length>0,(()=>Ce` ${this._preAddons} `),(()=>Ce` <slot name="preFormAddon" slot="preFormAddon" @slotchange="${this.handlePreAddonSlotChange}"><span></span></slot> `))} ${Ze(this._postAddons.length>0,(()=>Ce` ${this._postAddons} `),(()=>Ce` <slot name="postFormAddon" slot="postFormAddon" @slotchange="${this.handlePostAddonSlotChange}"><span></span></slot> `))} </bldn-request-builder> `],[ss.submittedRequests,()=>Ce` <bldn-request-viewer request-id="${We(this.requestId)}"></bldn-request-viewer> `]])} `}};ns.styles=[l,j`:host{display:block;width:100%;background:var(--bldn-privacy-request-background,var(--background))}bldn-request-builder,bldn-request-viewer{margin-top:2.5em}bldn-request-viewer{padding:0 10%}`],g([ze({type:Array})],ns.prototype,"actions",void 0),g([ze({type:Array,attribute:"data-categories"})],ns.prototype,"dataCategories",void 0),g([ze({type:Array})],ns.prototype,"requestId",void 0),g([Ve()],ns.prototype,"_uiState",void 0),g([Ve()],ns.prototype,"_preAddons",void 0),g([Ve()],ns.prototype,"_postAddons",void 0),ns=g([y(),Ye("bldn-privacy-portal")],ns);export{u as o};
