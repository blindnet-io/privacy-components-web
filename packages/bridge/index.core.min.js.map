{"version":3,"file":"index.core.min.js","sources":["../../../node_modules/tslib/tslib.es6.js","../src/generated/locale-codes.ts","../src/localization.ts","../src/language/dictionary.ts","../src/bldn-bridge-demand-list-item.ts","../src/bldn-bridge-demand-list.ts","../src/bldn-bridge-requests.ts","../src/bldn-bridge-alerts.ts","../src/bldn-bridge.ts"],"sourcesContent":["/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","// Do not modify this file by hand!\n// Re-generate this file by running lit-localize.\n\n/**\n * The locale code that templates in this source code are written in.\n */\nexport const sourceLocale = `en-US`;\n\n/**\n * The other locale codes that this application is localized into. Sorted\n * lexicographically.\n */\nexport const targetLocales = [\n  `fr`,\n  `fr-CA`,\n  `fr-FR`,\n] as const;\n\n/**\n * All valid project locale codes. Sorted lexicographically.\n */\nexport const allLocales = [\n  `en-US`,\n  `fr`,\n  `fr-CA`,\n  `fr-FR`,\n] as const;\n","/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\nimport { configureLocalization } from '@lit/localize';\nimport { sourceLocale, targetLocales } from './generated/locale-codes.js';\n\nexport const { getLocale, setLocale } = configureLocalization({\n  sourceLocale,\n  targetLocales,\n  loadLocale: (locale: string) => import(`./generated/locales/${locale}.js`),\n});\n","import { msg } from '@lit/localize';\nimport { html } from 'lit';\n\n/**\n * Mapping of PRIV Actions to corresponding titles.\n */\nexport const ACTION_TITLES = {\n  ACCESS: () => msg('Access'),\n  DELETE: () => msg('Delete'),\n  MODIFY: () => msg('Modify'),\n  OBJECT: () => msg('Object'),\n  PORTABILITY: () => msg('Portability'),\n  RESTRICT: () => msg('Restrict'),\n  'REVOKE-CONSENT': () => msg('Revoke'),\n  TRANSPARENCY: () => msg('Transparency'),\n  'TRANSPARENCY.DATA-CATEGORIES': () => msg('Transparency - Data Categories'),\n  'TRANSPARENCY.DPO': () => msg('Transparency - DPO'),\n  'TRANSPARENCY.KNOWN': () => msg('Transparency - Known'),\n  'TRANSPARENCY.LEGAL-BASES': () => msg('Transparency - Legal Bases'),\n  'TRANSPARENCY.ORGANIZATION': () => msg('Transparency - Organization'),\n  'TRANSPARENCY.POLICY': () => msg('Transparency - Policy'),\n  'TRANSPARENCY.PROCESSING-CATEGORIES': () =>\n    msg('Transparency - Processing Categories'),\n  'TRANSPARENCY.PROVENANCE': () => msg('Transparency - Provenance'),\n  'TRANSPARENCY.PURPOSE': () => msg('Transparency - Purpose'),\n  'TRANSPARENCY.RETENTION': () => msg('Transparency - Retention'),\n  'TRANSPARENCY.WHERE': () => msg('Transparency - Where'),\n  'TRANSPARENCY.WHO': () => msg('Transparency - Who'),\n  OTHER: () => msg('Other Demand'),\n};\n\n/**\n * Mapping of PRIV Actions to corresponding descriptions.\n */\nexport const ACTION_DESCRIPTIONS = {\n  ACCESS: () => msg('Access my data'),\n  DELETE: () => msg('Have my data deleted'),\n  MODIFY: () => msg('Modify or complement my data'),\n  OBJECT: () => msg('Object to processing of my data'),\n  PORTABILITY: () => msg('Take my data and have it transfered somewhere else'),\n  RESTRICT: () => msg('Restrict processing of my data to a particular scope'),\n  'REVOKE-CONSENT': () =>\n    msg('Revoke previously given consent for data processing'),\n  TRANSPARENCY: () =>\n    msg(\n      'Demand information related to data processing practices and know if the system has data on me'\n    ),\n  OTHER: () =>\n    msg(\n      'Do or know something else. Please note it may take longer to be answered'\n    ),\n  'TRANSPARENCY.DATA-CATEGORIES': () =>\n    msg('The categories of the data the organization has on me'),\n  'TRANSPARENCY.DPO': () =>\n    msg('The contact details of the data protection officer'),\n  'TRANSPARENCY.KNOWN': () => msg('If the organization has data on me'),\n  'TRANSPARENCY.LEGAL-BASES': () =>\n    msg(\n      'The legal bases for processing my data (including legitimate interests)'\n    ),\n  'TRANSPARENCY.ORGANIZATION': () =>\n    msg(\n      'The identity and contact details of the organization processing my data'\n    ),\n  'TRANSPARENCY.POLICY': () =>\n    msg('The policies applied to processing of data concerning me'),\n  'TRANSPARENCY.PROCESSING-CATEGORIES': () =>\n    msg(\n      'The cateogories of processing being done on the data the organization has on me'\n    ),\n  'TRANSPARENCY.PROVENANCE': () =>\n    msg('The sources that the data concerning me come from'),\n  'TRANSPARENCY.PURPOSE': () =>\n    msg('The purpose of the processing of the data the organization has on me'),\n  'TRANSPARENCY.RETENTION': () =>\n    msg('For how long the data concerning me kept'),\n  'TRANSPARENCY.WHERE': () => msg('Where the data about me is stored'),\n  'TRANSPARENCY.WHO': () =>\n    msg('Who can access the data that the organization has on me'),\n};\n\nexport const TRANSPARENCY_ACTION_DESCRIPTIONS = {\n  TRANSPARENCY: () =>\n    msg(\n      html`<b>All</b> information related to data processing practices and my\n        data`\n    ),\n  OTHER: () =>\n    msg(\n      'Do or know something else. Please note it may take longer to be answered'\n    ),\n  'TRANSPARENCY.DATA-CATEGORIES': () =>\n    msg('The categories of the data the organization has on me'),\n  'TRANSPARENCY.DPO': () =>\n    msg('The contact details of the data protection officer'),\n  'TRANSPARENCY.KNOWN': () => msg('If the organization has data on me'),\n  'TRANSPARENCY.LEGAL-BASES': () =>\n    msg(\n      'The legal bases for processing my data (including legitimate interests)'\n    ),\n  'TRANSPARENCY.ORGANIZATION': () =>\n    msg(\n      'The identity and contact details of the organization processing my data'\n    ),\n  'TRANSPARENCY.POLICY': () =>\n    msg('The policies applied to processing of data concerning me'),\n  'TRANSPARENCY.PROCESSING-CATEGORIES': () =>\n    msg(\n      'The cateogories of processing being done on the data the organization has on me'\n    ),\n  'TRANSPARENCY.PROVENANCE': () =>\n    msg('The sources that the data concerning me come from'),\n  'TRANSPARENCY.PURPOSE': () =>\n    msg('The purpose of the processing of the data the organization has on me'),\n  'TRANSPARENCY.RETENTION': () =>\n    msg('For how long the data concerning me kept'),\n  'TRANSPARENCY.WHERE': () => msg('Where the data about me is stored'),\n  'TRANSPARENCY.WHO': () =>\n    msg('Who can access the data that the organization has on me'),\n};\n\nexport const PROVENANCE_DESCRIPTIONS = {\n  '*': () => msg('All provenances'),\n  USER: () =>\n    msg(\n      'The data provided by a user of the system (potentially the Data Subject)'\n    ),\n  'USER.DATA-SUBJECT': () => msg('The data provided by the Data Subject'),\n  DERIVED: () =>\n    msg(\n      'The data derived from user actions, extracted from other data or inferred'\n    ),\n  TRANSFERRED: () => msg('The data obtained by transfer from another System'),\n};\n\nexport const PROVENANCE_DESCRIPTIONS_STATUS_VIEW = {\n  '*': () => msg('All provenances'),\n  USER: () => msg('Provided by a user of the system'),\n  'USER.DATA-SUBJECT': () => msg('Provided by you while using the system'),\n  DERIVED: () =>\n    msg(\n      'Derived from user actions, extracted from other data or inferred by the system'\n    ),\n  TRANSFERRED: () => msg('Obtained by transfer from another system'),\n};\n\nexport const DATA_CATEGORY_TITLES = {\n  '*': () => msg(''),\n  AFFILIATION: () => msg('Affiliation'),\n  'AFFILIATION.MEMBERSHIP': () => msg('Affiliation membership'),\n  'AFFILIATION.MEMBERSHIP.UNION': () => msg(''),\n  'AFFILIATION.SCHOOL': () => msg(''),\n  'AFFILIATION.WORKPLACE': () => msg(''),\n  BEHAVIOR: () => msg('Behavior'),\n  'BEHAVIOR.ACTIVITY': () => msg(''),\n  'BEHAVIOR.CONNECTION': () => msg(''),\n  'BEHAVIOR.PREFERENCE': () => msg(''),\n  'BEHAVIOR.TELEMETRY': () => msg(''),\n  BIOMETRIC: () => msg('Biometric'),\n  CONTACT: () => msg('Contact'),\n  'CONTACT.EMAIL': () => msg(''),\n  'CONTACT.ADDRESS': () => msg(''),\n  'CONTACT.PHONE': () => msg(''),\n  DEMOGRAPHIC: () => msg('Demographic'),\n  'DEMOGRAPHIC.AGE': () => msg(''),\n  'DEMOGRAPHIC.BELIEFS': () => msg(''),\n  'DEMOGRAPHIC.GENDER': () => msg(''),\n  'DEMOGRAPHIC.ORIGIN': () => msg(''),\n  'DEMOGRAPHIC.RACE': () => msg(''),\n  'DEMOGRAPHIC.SEXUAL-ORIENTATION': () => msg(''),\n  DEVICE: () => msg('Device'),\n  FINANCIAL: () => msg('Financial'),\n  'FINANCIAL.BANK-ACCOUNT': () => msg('Finacial bank account'),\n  GENETIC: () => msg('Genetic'),\n  HEALTH: () => msg('Health'),\n  IMAGE: () => msg('Image'),\n  LOCATION: () => msg('Location'),\n  NAME: () => msg('Name'),\n  PROFILING: () => msg('Profiling'),\n  RELATIONSHIPS: () => msg('Relationships'),\n  UID: () => msg('UID'),\n  'UID.ID': () => msg(''),\n  'UID.IP': () => msg(''),\n  'UID.USER-ACCOUNT': () => msg(''),\n  'UID.SOCIAL-MEDIA': () => msg(''),\n  'OTHER-DATA': () => msg('Other'),\n  'OTHER-DATA.PROOF': () => msg('Other - Proof'),\n};\n\nexport const DATA_CATEGORY_DESCRIPTIONS = {\n  '*': () =>\n    msg(html`<b>All</b> categories of data the organization has on me`),\n  AFFILIATION: () =>\n    msg(\n      html`Groups and Organisations I am linked to through work, studies, or\n      membership`\n    ),\n  'AFFILIATION.MEMBERSHIP': () => msg(html``),\n  'AFFILIATION.MEMBERSHIP.UNION': () => msg(html``),\n  'AFFILIATION.SCHOOL': () => msg(html``),\n  'AFFILIATION.WORKPLACE': () => msg(html``),\n  BEHAVIOR: () => msg(html`Data about my behavior`),\n  'BEHAVIOR.ACTIVITY': () => msg(html``),\n  'BEHAVIOR.CONNECTION': () => msg(html``),\n  'BEHAVIOR.PREFERENCE': () => msg(html``),\n  'BEHAVIOR.TELEMETRY': () => msg(html``),\n  BIOMETRIC: () => msg(html`Data about my unique physical characteristics`),\n  CONTACT: () => msg(html`Data allowing to contact me`),\n  'CONTACT.EMAIL': () => msg(html``),\n  'CONTACT.ADDRESS': () => msg(html``),\n  'CONTACT.PHONE': () => msg(html``),\n  DEMOGRAPHIC: () =>\n    msg(html`All information allowing to class me in a demographic category`),\n  'DEMOGRAPHIC.AGE': () => msg(html``),\n  'DEMOGRAPHIC.BELIEFS': () => msg(html``),\n  'DEMOGRAPHIC.GENDER': () => msg(html``),\n  'DEMOGRAPHIC.ORIGIN': () => msg(html``),\n  'DEMOGRAPHIC.RACE': () => msg(html``),\n  'DEMOGRAPHIC.SEXUAL-ORIENTATION': () => msg(html``),\n  DEVICE: () => msg(html`Data about the device I used`),\n  FINANCIAL: () =>\n    msg(\n      html`Payment data, financial history and data about my financial situation`\n    ),\n  'FINANCIAL.BANK-ACCOUNT': () => msg(html``),\n  GENETIC: () => msg(html`Data related to my genetic characteristics`),\n  HEALTH: () => msg(html`Data about my health`),\n  IMAGE: () => msg(html`Any graphic representation (e.g., image, video) of me`),\n  LOCATION: () => msg(html`Geographic location`),\n  NAME: () => msg(html`First names, last names, nicknames, and other names`),\n  PROFILING: () =>\n    msg(\n      html`Any data establishing a degree of similarity of with others (e.g.,\n      clusters, user-profiles)`\n    ),\n  RELATIONSHIPS: () =>\n    msg(\n      html`Data about relationships I have with others, social activity and\n      interaction`\n    ),\n  UID: () => msg(html`Any data that uniquely identifies me`),\n  'UID.ID': () => msg(html``),\n  'UID.IP': () => msg(html``),\n  'UID.USER-ACCOUNT': () => msg(html``),\n  'UID.SOCIAL-MEDIA': () => msg(html``),\n  'OTHER-DATA': () => msg(html`Any other categories or forms of data`),\n};\n\nexport const TARGET_DESCRIPTIONS = {\n  '*': () => msg(html`All targets`),\n  SYSTEM: () => msg(html`This system`),\n  ORGANIZATION: () =>\n    msg(html`This system and all systems within this organization`),\n  PARTNERS: () =>\n    msg(\n      html`This system, all systems within this organization, and all partners\n        systems where data has been <b>shared or obtained</b>`\n    ),\n  'PARTNERS.DOWNWARD': () =>\n    msg(\n      html`This system, all systems within this organization, and all partners\n        systems with which data has been <b>shared</b>`\n    ),\n  'PARTNERS.UPWARD': () =>\n    msg(\n      html`This system, all systems within this organization, and all partners\n        systems from which data has been <b>obtained</b>`\n    ),\n};\n\nexport const STATUS_DESCRIPTIONS = {\n  IN_PROCESSING: () => msg(html`In processing`),\n  PARTIALLY_COMPLETED: () => msg(html`Partially completed`),\n  COMPLETED: () => msg(html`Completed`),\n  CANCELED: () => msg(html`Canceled`),\n};\n\nexport const DEMAND_STATUS_DESCRIPTIONS = {\n  GRANTED: () => msg('Granted'),\n  DENIED: () => msg('Denied'),\n  'PARTIALLY-GRANTED': () => msg('Partially Granted'),\n  'UNDER-REVIEW': () => msg('Under Review'),\n  CANCELED: () => msg('Canceled'),\n};\n\nexport const POLICY_TYPE_TITLES = {\n  'NO-LONGER-THAN': () => msg('no longer than'),\n  'NO-LESS-THAN': () => msg('no less than'),\n};\n\nexport const AFTER_TITLES = {\n  'CAPTURE-DATE': () => msg('capture date'),\n  'RELATIONSHIP-START': () => msg('relationship start'),\n  'RELATIONSHIP-END': () => msg('relationship end'),\n  'SERVICE-START': () => msg('service start'),\n  'SERVICE-END': () => msg('service end'),\n};\n\nexport const PROCESSING_CATEGORIES = {\n  '*': () => msg('All'),\n  ANONYMIZATION: () => msg('Anonymization'),\n  'AUTOMATED-INFERENCE': () => msg('Automated Inference'),\n  'AUTOMATED-DECISION-MAKING': () => msg('Automated Decision Making'),\n  COLLECTION: () => msg('Collection'),\n  GENERATING: () => msg('Generating'),\n  PUBLISHING: () => msg('Publishing'),\n  STORING: () => msg('Storing'),\n  SHARING: () => msg('Sharing'),\n  USING: () => msg('Using'),\n  'OTHER-PROCESSING': () => msg('Other Processing'),\n};\n\nexport const PROCESSING_CATEGORY_DESCRIPTIONS = {\n  '*': () => msg(html`<b>All</b> processing categories`),\n  ANONYMIZATION: () =>\n    msg(\n      'Processing of personal data in such a manner that the personal data can no longer be attributed to a specific data subject without the use of additional information'\n    ),\n  'AUTOMATED-INFERENCE': () =>\n    msg(\n      'Automatically infering data about the person, including for profiling and clustering'\n    ),\n  'AUTOMATED-DECISION-MAKING': () => msg('Automated decision-making'),\n  COLLECTION: () =>\n    msg(\n      'Collecting data about the person from the person or from another source, including another person or a System'\n    ),\n  GENERATING: () =>\n    msg(\n      'Producing novel data related to the person, such as making photo, voice or video recordings, or reconding user actions such as making a log.'\n    ),\n  MATCHING: () =>\n    msg('Matching the data about the same person across multiple data sources'),\n  PUBLISHING: () => msg('Making data publicly available'),\n  STORING: () =>\n    msg(\n      'Storing data for further use, including adaptations and formating of the data'\n    ),\n  SHARING: () =>\n    msg('Sharing data in controled manner with clearly identified parties'),\n  USING: () => msg('Consulting and using data'),\n  'OTHER-PROCESSING': () => msg('Other processing categories)'),\n};\n\nexport const PURPOSES = {\n  '*': () => msg('All'),\n  ADVERTISING: () => msg('Advertising'),\n  COMPLIANCE: () => msg('Compliance'),\n  EMPLOYMENT: () => msg('Employment'),\n  JUSTICE: () => msg('Justice'),\n  MARKETING: () => msg('Marketing'),\n  MEDICAL: () => msg('Medical'),\n  PERSONALIZATION: () => msg('Personalization'),\n  'PUBLIC-INTERESTS': () => msg('Public Interests'),\n  RESEARCH: () => msg('Research'),\n  SALE: () => msg('Sale'),\n  SECURITY: () => msg('Security'),\n  SERVICES: () => msg('Services'),\n  'SERVICES.ADDITIONAL-SERVICES': () => msg('Services - Additional Services'),\n  'SERVICES.BASIC-SERVICE': () => msg('Services - Basic Services'),\n  'SOCIAL-PROTECTION': () => msg('Social Protection'),\n  TRACKING: () => msg('Tracking'),\n  'VITAL-INTERESTS': () => msg('Vitial Interests'),\n  'OTHER-PURPOSE': () => msg('Other Purpose'),\n};\n\nexport const PURPOSE_DESCRIPTIONS = {\n  '*': () => msg(html`<b>All</b> purposes`),\n  ADVERTISING: () =>\n    msg(\n      'To show ads that are either targeted to the specific user or not targeted'\n    ),\n  COMPLIANCE: () =>\n    msg('Processing is performed to comply with a legal obligation'),\n  EMPLOYMENT: () =>\n    msg(' For personnel training, recruitment, payroll, management, etc'),\n  JUSTICE: () =>\n    msg(\n      'Processing is necessary for the establishment, exercise or defence of legal claims or whenever courts are acting in their judicial capacity'\n    ),\n  MARKETING: () =>\n    msg('To contact the user to offer products, services, or other promotions'),\n  MEDICAL: () =>\n    msg(\n      'Processing is necessary for the purposes of preventive or occupational medicine, for the assessment of the working capacity of the employee, medical diagnosis, the provision of health or social care or treatment or the management of health or social care systems and services'\n    ),\n  PERSONALIZATION: () =>\n    msg('For providing user with a personalized experience'),\n  'PUBLIC-INTERESTS': () =>\n    msg(\n      'Processing is necessary for the performance of a task carried out in the public interest or in the exercise of official authority'\n    ),\n  RESEARCH: () => msg('Scientific and Market Research'),\n  SALE: () => msg('Selling data to third parties'),\n  SECURITY: () =>\n    msg(\n      'For product operation and security, enforcement of terms of service, fraud prevention, protecting users and property, etc. '\n    ),\n  SERVICES: () =>\n    msg(\n      'Processing is necessary performed in the context of services provided to the Data Subject or contracts and transactions being concluded with them'\n    ),\n  'SERVICES.ADDITIONAL-SERVICES': () =>\n    msg(\n      'Providing the services that the person requires that are not part of the basic service'\n    ),\n  'SERVICES.BASIC-SERVICE': () =>\n    msg('Providing the basic service to the person'),\n  'SOCIAL-PROTECTION': () =>\n    msg(\n      'Processing is necessary for the purposes of employment and social security and social protection'\n    ),\n  TRACKING: () =>\n    msg('Tracking information about user behavior and activity online'),\n  'VITAL-INTERESTS': () =>\n    msg(\n      'Processing is necessary in order to protect the vital interests of the data subject or of another natural person'\n    ),\n  'OTHER-PURPOSE': () => msg('Other specific purpose'),\n};\n","import { msg } from '@lit/localize';\nimport { css, html, LitElement, PropertyValueMap } from 'lit';\nimport { customElement, property, state } from 'lit/decorators.js';\nimport { choose } from 'lit/directives/choose.js';\nimport { map } from 'lit/directives/map.js';\nimport { when } from 'lit/directives/when.js';\nimport {\n  ComputationAPI,\n  PendingDemandDetailsPayload,\n  PendingDemandPayload,\n  Recommendation,\n} from '@blindnet/core';\nimport { bldnStyles } from '@blindnet/core-ui';\nimport { ACTION_TITLES } from './language/dictionary.js';\n\nenum DropdownUIState {\n  Respond,\n  History,\n  Responded,\n}\n\n@customElement('bldn-bridge-demand-list-item')\nexport class BldnBridgeDemandListItem extends LitElement {\n  @property({ type: Object }) demand: PendingDemandPayload | undefined;\n\n  @state() _demandDetails: PendingDemandDetailsPayload | undefined;\n\n  @state() _open = false;\n\n  @state() _dropdownUiState: DropdownUIState = DropdownUIState.Respond;\n\n  @state() _selectedResponseType: Recommendation.status | undefined = undefined;\n\n  @state() _message: string = '';\n\n  isRecommended(): boolean {\n    return (\n      this._selectedResponseType === this._demandDetails?.recommendation?.status\n    );\n  }\n\n  handleDropdownToggleChange(e: CustomEvent) {\n    const { newValue } = e.detail;\n    this._dropdownUiState =\n      newValue === 'History'\n        ? DropdownUIState.History\n        : DropdownUIState.Respond;\n  }\n\n  handleMessageInput(e: Event) {\n    const { value } = e.target as HTMLTextAreaElement;\n    this._message = value;\n  }\n\n  handleSubmitClick() {\n    switch (this._selectedResponseType) {\n      case Recommendation.status.GRANTED:\n        ComputationAPI.getInstance()\n          .grantDemand(this.demand!.id, this._message)\n          .then(() => {\n            this._dropdownUiState = DropdownUIState.Responded;\n          });\n        break;\n      case Recommendation.status.PARTIALLY_GRANTED:\n        break;\n      case Recommendation.status.DENIED:\n        ComputationAPI.getInstance()\n          .denyDemand(\n            this.demand!.id,\n            Recommendation.motive.OTHER_MOTIVE,\n            this._message\n          )\n          .then(() => {\n            this._dropdownUiState = DropdownUIState.Responded;\n          });\n        break;\n      default:\n        break;\n    }\n  }\n\n  // Uses inline SVGs so we can adjust the colour\n  getRadioSVG(selected: boolean) {\n    return selected\n      ? html`\n          <svg\n            width=\"24\"\n            height=\"24\"\n            viewBox=\"0 0 24 24\"\n            fill=\"currentColor\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <path\n              d=\"M12 7C9.24 7 7 9.24 7 12C7 14.76 9.24 17 12 17C14.76 17 17 14.76 17 12C17 9.24 14.76 7 12 7ZM12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4C16.42 4 20 7.58 20 12C20 16.42 16.42 20 12 20Z\"\n            />\n          </svg>\n        `\n      : html`\n          <svg\n            width=\"24\"\n            height=\"24\"\n            viewBox=\"0 0 24 24\"\n            fill=\"currentColor\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <path\n              d=\"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4C16.42 4 20 7.58 20 12C20 16.42 16.42 20 12 20Z\"\n            />\n          </svg>\n        `;\n  }\n\n  // Uses inline SVGs so we can adjust the colour\n  getArrowSVG(type: 'open' | 'close') {\n    return type === 'open'\n      ? html`\n          <svg\n            width=\"32\"\n            height=\"32\"\n            viewBox=\"0 0 32 32\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <path\n              d=\"M22.12 20.5469L16 14.4402L9.88 20.5469L8 18.6669L16 10.6669L24 18.6669L22.12 20.5469Z\"\n            />\n          </svg>\n        `\n      : html`\n          <svg\n            width=\"32\"\n            height=\"32\"\n            viewBox=\"0 0 32 32\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <path\n              d=\"M9.88 11.4531L16 17.5598L22.12 11.4531L24 13.3331L16 21.3331L8 13.3331L9.88 11.4531Z\"\n            />\n          </svg>\n        `;\n  }\n\n  protected willUpdate(\n    _changedProperties: PropertyValueMap<any> | Map<PropertyKey, unknown>\n  ): void {\n    if (_changedProperties.has('demand') && this.demand) {\n      ComputationAPI.getInstance()\n        .getPendingDemandDetails(this.demand.id)\n        .then(details => {\n          this._demandDetails = details;\n          if (this._demandDetails!.recommendation?.status) {\n            this._selectedResponseType =\n              this._demandDetails!.recommendation?.status;\n          }\n        });\n    }\n  }\n\n  render() {\n    // List of status, css class, and display message objects for each response option\n    const responseStatusOptions: {\n      respStatus: Recommendation.status;\n      class: string;\n      display: string;\n    }[] = [\n      {\n        respStatus: Recommendation.status.GRANTED,\n        class: 'grant',\n        display: msg('Grant'),\n      },\n      // {respStatus: Recommendation.status.PARTIALLY_GRANTED, class: 'partial', display: msg('Partially Grant')},\n      {\n        respStatus: Recommendation.status.DENIED,\n        class: 'deny',\n        display: msg('Deny'),\n      },\n    ];\n\n    return html`\n      ${when(\n        this.demand !== undefined,\n        () => html`\n          <div id=\"list-item\">\n            <span class=\"list-item__text\"\n              >${new Date(this.demand!.date).toLocaleDateString('en-gb')}</span\n            >\n            <span class=\"list-item__text\"\n              >${this.demand!.data_subject?.id}</span\n            >\n            <span class=\"list-item__text\"\n              >${ACTION_TITLES[this.demand!.action]()}</span\n            >\n            <button\n              id=\"list-item__expand-btn\"\n              class=\"svg-btn\"\n              @click=${() => {\n                this._open = !this._open;\n              }}\n            >\n              ${this.getArrowSVG(this._open ? 'open' : 'close')}\n            </button>\n          </div>\n\n          ${when(\n            this._open,\n            () => html`\n              <div id=\"dropdown\">\n                <bldn-toggle-button\n                  left=\"Respond\"\n                  right=\"History\"\n                  @bldn-toggle-button-change=${this.handleDropdownToggleChange}\n                ></bldn-toggle-button>\n                ${choose(this._dropdownUiState, [\n                  [\n                    DropdownUIState.Respond,\n                    () => html`\n                      <div id=\"dropdown__response-ctr\">\n                        <span id=\"dropdown__response-heading\"\n                          >${msg('Response')}\n                          -${when(\n                            this.isRecommended(),\n                            () => html`\n                              <span\n                                id=\"dropdown__response-heading--recommended\"\n                              >\n                                ${msg('Recommended')}\n                                <svg\n                                  width=\"12\"\n                                  height=\"12\"\n                                  viewBox=\"0 0 12 12\"\n                                  fill=\"none\"\n                                  xmlns=\"http://www.w3.org/2000/svg\"\n                                >\n                                  <path\n                                    d=\"M6 1C3.24 1 1 3.24 1 6C1 8.76 3.24 11 6 11C8.76 11 11 8.76 11 6C11 3.24 8.76 1 6 1ZM5 8.5L2.5 6L3.205 5.295L5 7.085L8.795 3.29L9.5 4L5 8.5Z\"\n                                    fill=\"currentColor\"\n                                  />\n                                </svg>\n                              </span>\n                            `,\n                            () => html`\n                              <span\n                                id=\"dropdown__response-heading--not-recommended\"\n                              >\n                                ${msg('Not Recommended')}\n                                <svg\n                                  width=\"12\"\n                                  height=\"12\"\n                                  viewBox=\"0 0 12 12\"\n                                  fill=\"none\"\n                                  xmlns=\"http://www.w3.org/2000/svg\"\n                                >\n                                  <path\n                                    d=\"M6 1C3.235 1 1 3.235 1 6C1 8.765 3.235 11 6 11C8.765 11 11 8.765 11 6C11 3.235 8.765 1 6 1ZM8.5 7.795L7.795 8.5L6 6.705L4.205 8.5L3.5 7.795L5.295 6L3.5 4.205L4.205 3.5L6 5.295L7.795 3.5L8.5 4.205L6.705 6L8.5 7.795Z\"\n                                    fill=\"currentColor\"\n                                  />\n                                </svg>\n                              </span>\n                            `\n                          )}</span\n                        >\n                        <textarea\n                          placeholder=${msg('Optional Message')}\n                          @input=${this.handleMessageInput}\n                        ></textarea>\n                        <div id=\"dropdown__response-btns\">\n                          ${map(\n                            responseStatusOptions,\n                            option => html`\n                              <button\n                                class=\"response-btn response-btn--${option.class} ${this\n                                  ._selectedResponseType === option.respStatus\n                                  ? 'response-btn--selected'\n                                  : ''}\"\n                                @click=${() => {\n                                  this._selectedResponseType =\n                                    option.respStatus;\n                                }}\n                              >\n                                ${this.getRadioSVG(\n                                  this._selectedResponseType ===\n                                    option.respStatus\n                                )}\n                                <span>${option.display}</span>\n                              </button>\n                            `\n                          )}\n                        </div>\n                      </div>\n                      <bldn-button @click=${this.handleSubmitClick}\n                        >${msg('Submit')}</bldn-button\n                      >\n                    `,\n                  ],\n                  [\n                    DropdownUIState.History,\n                    () => html`${msg('History view coming soon!')}`,\n                  ],\n                  [\n                    DropdownUIState.Responded,\n                    () => html`${msg('Response Submmitted')} 📨`,\n                  ],\n                ])}\n              </div>\n            `\n          )}\n        `\n      )}\n    `;\n  }\n\n  static styles = [\n    bldnStyles,\n    css`\n      :host textarea {\n        font-family: var(\n          --bldn-font-family,\n          -apple-system,\n          BlinkMacSystemFont,\n          'Segoe UI',\n          Roboto,\n          Oxygen,\n          Ubuntu,\n          Cantarell,\n          'Open Sans',\n          'Helvetica Neue',\n          sans-serif\n        );\n      }\n\n      #list-item {\n        display: grid;\n        grid-template-columns: repeat(3, 2fr) 1fr;\n        border: 1px solid var(--color-light);\n        border-radius: 5px;\n      }\n\n      .list-item__text {\n        padding: 20px 0px;\n      }\n\n      #list-item__expand-btn {\n        border: none;\n        border-left: 1px solid var(--color-light);\n        border-radius: 0px 5px 5px 0px;\n      }\n\n      #list-item__expand-btn svg {\n        fill: var(--color-primary);\n      }\n\n      #dropdown {\n        display: flex;\n        margin-top: -5px;\n        padding: 2vh 0vw;\n        row-gap: 2vh;\n        flex-direction: column;\n        align-items: center;\n        border: 1px solid var(--color-light);\n        border-width: 0px 1px 1px 1px;\n        border-radius: 0px 0px 20px 20px;\n      }\n\n      #dropdown__response-ctr {\n        width: 75%;\n        text-align: left;\n      }\n\n      #dropdown bldn-toggle-button {\n        width: 200px;\n      }\n\n      #dropdown__response-heading {\n        color: var(--color-dark);\n        padding: 0px 0px 0px 5px;\n        font-size: 14px;\n      }\n\n      #dropdown__response-heading--recommended {\n        display: inline-flex;\n        align-items: center;\n        color: var(--color-positive);\n        column-gap: 3px;\n      }\n\n      #dropdown__response-heading--not-recommended {\n        display: inline-flex;\n        align-items: center;\n        color: var(--color-negative);\n        column-gap: 3px;\n      }\n\n      #dropdown textarea {\n        display: block;\n        box-sizing: border-box;\n        height: 7.5vh;\n        width: 100%;\n        margin: 3px 0px 0px 0px;\n        padding: 5px;\n        border: 1px solid var(--color-light);\n        border-bottom: none;\n        border-radius: 5px 5px 0px 0px;\n        resize: none;\n      }\n\n      #dropdown__response-btns {\n        width: 100%;\n        display: flex;\n        width: 100%;\n      }\n\n      .response-btn {\n        display: flex;\n        width: 100%;\n        padding: 5px;\n        align-items: center;\n        justify-content: center;\n        border: 1px solid var(--color-light);\n        column-gap: 3px;\n      }\n\n      .response-btn--grant {\n        color: var(--color-positive);\n        border-radius: 0px 0px 0px 5px;\n      }\n\n      .response-btn--partial {\n        color: var(--color-warning);\n        border-radius: 0px;\n      }\n\n      .response-btn--deny {\n        color: var(--color-negative);\n        border-radius: 0px 0px 5px 0px;\n      }\n\n      .response-btn--selected {\n        /* background-color: var(--color-light); */\n        border-color: var(--color-primary);\n        background: linear-gradient(\n            0deg,\n            rgba(var(--color-primary-rgb), 0.1),\n            rgba(var(--color-primary-rgb), 0.1)\n          ),\n          #ffffff;\n      }\n    `,\n  ];\n}\n","import { msg } from '@lit/localize';\nimport { css, html, LitElement } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\nimport { map } from 'lit/directives/map.js';\nimport { when } from 'lit/directives/when.js';\nimport { PendingDemandPayload } from '@blindnet/core';\nimport { bldnStyles } from '@blindnet/core-ui';\nimport './bldn-bridge-demand-list-item.js';\n\n@customElement('bldn-bridge-demand-list')\nexport class BldnBridgeDemandList extends LitElement {\n  @property({ type: Array }) demands: PendingDemandPayload[] = [];\n\n  render() {\n    return html`\n      ${when(\n        this.demands.length > 0,\n        () => html`\n          <div id=\"list__row--heading\">\n            <span class=\"list__date-col\"><b>${msg('Created')}</b></span>\n            <span><b>${msg('Data Subject')}</b></span>\n            <span><b>${msg('Action')}</b></span>\n          </div>\n          <div id=\"list__items\">\n            ${map(\n              this.demands,\n              d => html`\n                <bldn-bridge-demand-list-item\n                  demand=${JSON.stringify(d)}\n                ></bldn-bridge-demand-list-item>\n              `\n            )}\n          </div>\n        `,\n        () => html`${msg('No requests to display.')}`\n      )}\n    `;\n  }\n\n  static styles = [\n    bldnStyles,\n    css`\n      :host {\n        color: var(--color-dark);\n      }\n\n      #list__row--heading {\n        display: grid;\n        grid-template-columns: repeat(3, 2fr) 1fr;\n        padding: 0px 0px 5px 0px;\n        font-size: 14px;\n      }\n\n      #list__items {\n        display: grid;\n        row-gap: 10px;\n      }\n    `,\n  ];\n}\n","import { localized, msg } from '@lit/localize';\nimport { css, html, LitElement } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\nimport { PendingDemandPayload } from '@blindnet/core';\nimport { setLocale } from './localization.js';\n\nimport '@blindnet/core-ui';\nimport './bldn-bridge-demand-list.js';\n\n@localized()\n@customElement('bldn-bridge-requests')\nexport class BldnBridgeRequests extends LitElement {\n  @property({ type: Array }) demands: PendingDemandPayload[] = [];\n\n  constructor() {\n    super();\n\n    // Set locale if current one is supported\n    try {\n      setLocale(navigator.language);\n    } catch (e) {\n      // eslint-disable-next-line no-console\n      console.log(`Could not set locale to ${navigator.language}.`);\n    }\n  }\n\n  render() {\n    return html`\n      <bldn-horizontal-list\n        choices=${JSON.stringify([\n          { value: 'all', display: msg('All') },\n          { value: 'pending', display: msg('Pending'), selected: true },\n          { value: 'answered', display: msg('Answered') },\n          { value: 'canceled', display: msg('Canceled') },\n        ])}\n      ></bldn-horizontal-list>\n      <bldn-bridge-demand-list\n        demands=${JSON.stringify(this.demands)}\n      ></bldn-bridge-demand-list>\n    `;\n  }\n\n  static styles = css`\n    bldn-horizontal-list {\n      padding-bottom: 4vh;\n    }\n  `;\n}\n","import { localized } from '@lit/localize';\nimport { html, LitElement } from 'lit';\nimport { customElement } from 'lit/decorators.js';\nimport { setLocale } from './localization.js';\n\n@localized()\n@customElement('bldn-bridge-alerts')\nexport class BldnBridgeAlerts extends LitElement {\n  constructor() {\n    super();\n\n    // Set locale if current one is supported\n    try {\n      setLocale(navigator.language);\n    } catch (e) {\n      // eslint-disable-next-line no-console\n      console.log(`Could not set locale to ${navigator.language}.`);\n    }\n  }\n\n  render() {\n    return html`Alerts view coming soon!`;\n  }\n}\n","import { localized, msg } from '@lit/localize';\nimport { css, html, LitElement, PropertyValueMap } from 'lit';\nimport { customElement, state } from 'lit/decorators.js';\nimport { choose } from 'lit/directives/choose.js';\n\nimport '@blindnet/core-ui';\nimport './bldn-bridge-requests.js';\nimport './bldn-bridge-alerts.js';\n\nimport {\n  ComputationAPI,\n  CoreConfigurationMixin,\n  PendingDemandPayload,\n} from '@blindnet/core';\nimport { setLocale } from './localization.js';\n\nenum BridgeUIState {\n  requests,\n  alerts,\n}\n\n@localized()\n@customElement('bldn-bridge')\nexport class BldnBridge extends CoreConfigurationMixin(LitElement) {\n  @state() _uiState: BridgeUIState = BridgeUIState.requests;\n\n  @state() _demands: PendingDemandPayload[] = [];\n\n  constructor() {\n    super();\n\n    // Set locale if current one is supported\n    try {\n      setLocale(navigator.language);\n    } catch (e) {\n      // eslint-disable-next-line no-console\n      console.log(`Could not set locale to ${navigator.language}.`);\n    }\n  }\n\n  handleViewToggleChange(e: CustomEvent) {\n    const { newValue } = e.detail;\n    this._uiState =\n      newValue === 'Alerts' ? BridgeUIState.alerts : BridgeUIState.requests;\n  }\n\n  connectedCallback() {\n    // eslint-disable-next-line wc/guard-super-call\n    super.connectedCallback();\n  }\n\n  protected willUpdate(\n    _changedProperties: PropertyValueMap<any> | Map<PropertyKey, unknown>\n  ): void {\n    if (_changedProperties.has('adminToken') && this.adminToken) {\n      ComputationAPI.getInstance()\n        .getPendingDemands(this.adminToken)\n        .then(demands => {\n          this._demands = demands;\n        });\n    }\n  }\n\n  render() {\n    return html`\n      <bldn-toggle-button\n        left=${msg('Requests')}\n        right=${msg('Alerts')}\n        @bldn-toggle-button-change=${this.handleViewToggleChange}\n      ></bldn-toggle-button>\n      ${choose(this._uiState, [\n        [\n          BridgeUIState.requests,\n          () =>\n            html`<bldn-bridge-requests\n              demands=${JSON.stringify(this._demands)}\n            ></bldn-bridge-requests>`,\n        ],\n        [\n          BridgeUIState.alerts,\n          () => html`<bldn-bridge-alerts></bldn-bridge-alerts>`,\n        ],\n      ])}\n    `;\n  }\n\n  static styles = css`\n    :host {\n      display: block;\n      width: 100%;\n    }\n    bldn-toggle-button {\n      padding-bottom: 4vh;\n    }\n  `;\n}\n"],"names":["__decorate","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","targetLocales","getLocale","setLocale","configureLocalization","sourceLocale","loadLocale","locale","import","ACTION_TITLES","ACCESS","msg","DELETE","MODIFY","OBJECT","PORTABILITY","RESTRICT","TRANSPARENCY","OTHER","DropdownUIState","BldnBridgeDemandListItem","LitElement","constructor","this","_open","_dropdownUiState","Respond","_selectedResponseType","undefined","_message","isRecommended","_a","_demandDetails","recommendation","_b","status","handleDropdownToggleChange","e","newValue","detail","History","handleMessageInput","value","handleSubmitClick","Recommendation","GRANTED","ComputationAPI","getInstance","grantDemand","demand","id","then","Responded","PARTIALLY_GRANTED","DENIED","denyDemand","motive","OTHER_MOTIVE","getRadioSVG","selected","html","getArrowSVG","type","willUpdate","_changedProperties","has","getPendingDemandDetails","details","render","responseStatusOptions","respStatus","class","display","when","Date","date","toLocaleDateString","data_subject","action","choose","map","option","styles","bldnStyles","css","property","prototype","state","customElement","BldnBridgeDemandList","demands","JSON","stringify","Array","BldnBridgeRequests","super","navigator","language","console","log","localized","BldnBridgeAlerts","BridgeUIState","BldnBridge","CoreConfigurationMixin","_uiState","requests","_demands","handleViewToggleChange","alerts","connectedCallback","adminToken","getPendingDemands"],"mappings":"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"}