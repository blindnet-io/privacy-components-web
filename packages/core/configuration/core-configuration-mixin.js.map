{"version":3,"file":"core-configuration-mixin.js","sources":["../../src/configuration/core-configuration-mixin.ts"],"sourcesContent":["import type { LitElement } from 'lit';\nimport { BlindnetCore } from '../BlindnetCore.js';\n\ndeclare type Constructor<T = {}> = new (...args: any[]) => T;\n\nexport interface CoreConfigurationMixinInterface {\n  computationBaseURL: string;\n}\n\n/**\n * Add BlindnetCore configuration parameters to a component as properties\n *\n * All PC4W in the same document needs to use the same configuration.\n * Favor using BlindnetCore.configure when using more than one PC4W in the same document.\n */\nexport function CoreConfigurationMixin<\n  SuperClass extends Constructor<LitElement>\n>(\n  superClass: SuperClass\n): SuperClass & Constructor<CoreConfigurationMixinInterface> {\n  return class CoreConfiguratorElement extends superClass {\n    static get properties() {\n      // @ts-ignore\n      const superProps = super.properties || {};\n      return {\n        ...superProps,\n        computationBaseURL: { type: String, attribute: 'computation-base-url' },\n      };\n    }\n\n    /**\n     * base URL of the computation API\n     * if \"false\", then a mocked endpoint will be used\n     * if empty, then the blindnet staging endpoint will be used\n     *\n     * @example 'https://localhost:9000/v0\n     */\n    computationBaseURL = '';\n\n    connectedCallback() {\n      super.connectedCallback();\n\n      BlindnetCore.configure(\n        {\n          computationBaseUrl: this.computationBaseURL,\n        },\n        false\n      );\n    }\n  };\n}\n"],"names":[],"mappings":";;AASA;;;;;AAKG;AACG,SAAU,sBAAsB,CAGpC,UAAsB,EAAA;IAEtB,OAAO,MAAM,uBAAwB,SAAQ,UAAU,CAAA;AAAhD,QAAA,WAAA,GAAA;;AAUL;;;;;;AAMG;YACH,IAAkB,CAAA,kBAAA,GAAG,EAAE,CAAC;SAYzB;AA5BC,QAAA,WAAW,UAAU,GAAA;;AAEnB,YAAA,MAAM,UAAU,GAAG,KAAK,CAAC,UAAU,IAAI,EAAE,CAAC;YAC1C,OAAO;AACL,gBAAA,GAAG,UAAU;gBACb,kBAAkB,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,sBAAsB,EAAE;aACxE,CAAC;SACH;QAWD,iBAAiB,GAAA;YACf,KAAK,CAAC,iBAAiB,EAAE,CAAC;YAE1B,YAAY,CAAC,SAAS,CACpB;gBACE,kBAAkB,EAAE,IAAI,CAAC,kBAAkB;aAC5C,EACD,KAAK,CACN,CAAC;SACH;KACF,CAAC;AACJ;;;;"}