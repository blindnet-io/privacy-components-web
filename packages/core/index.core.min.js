import{css as e,LitElement as t,html as o}from"lit";import{property as r,customElement as n,state as i}from"lit/decorators.js";import{when as E}from"lit/directives/when.js";import{msg as s}from"@lit/localize";import{choose as a}from"lit/directives/choose.js";import{map as R}from"lit/directives/map.js";import{classMap as A}from"lit/directives/class-map.js";class d extends Error{constructor(e,t,o){super(o),this.name="ApiError",this.url=t.url,this.status=t.status,this.statusText=t.statusText,this.body=t.body,this.request=e}}class N extends Error{constructor(e){super(e),this.name="CancelError"}get isCancelled(){return!0}}class T{constructor(e){this._isResolved=!1,this._isRejected=!1,this._isCancelled=!1,this._cancelHandlers=[],this._promise=new Promise(((t,o)=>{this._resolve=t,this._reject=o;const r=e=>{this._isResolved||this._isRejected||this._isCancelled||this._cancelHandlers.push(e)};return Object.defineProperty(r,"isResolved",{get:()=>this._isResolved}),Object.defineProperty(r,"isRejected",{get:()=>this._isRejected}),Object.defineProperty(r,"isCancelled",{get:()=>this._isCancelled}),e((e=>{var t;this._isResolved||this._isRejected||this._isCancelled||(this._isResolved=!0,null===(t=this._resolve)||void 0===t||t.call(this,e))}),(e=>{var t;this._isResolved||this._isRejected||this._isCancelled||(this._isRejected=!0,null===(t=this._reject)||void 0===t||t.call(this,e))}),r)}))}then(e,t){return this._promise.then(e,t)}catch(e){return this._promise.catch(e)}finally(e){return this._promise.finally(e)}cancel(){var e;if(!(this._isResolved||this._isRejected||this._isCancelled)){if(this._isCancelled=!0,this._cancelHandlers.length)try{for(const e of this._cancelHandlers)e()}catch(e){return void console.warn("Cancellation threw an error",e)}this._cancelHandlers.length=0,null===(e=this._reject)||void 0===e||e.call(this,new N("Request aborted"))}}get isCancelled(){return this._isCancelled}}const l={BASE:"",VERSION:"0.5.0-SNAPSHOT",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0};var c,S,I,p,C,O,u,h,P,g,m,L,v,_,D,b,f;!function(e){var t;(t=e.lb_type||(e.lb_type={})).CONTRACT="CONTRACT",t.CONSENT="CONSENT",t.LEGITIMATE_INTEREST="LEGITIMATE-INTEREST",t.NECESSARY="NECESSARY",t.NECESSARY_LEGAL_OBLIGATION="NECESSARY.LEGAL-OBLIGATION",t.NECESSARY_PUBLIC_INTEREST="NECESSARY.PUBLIC-INTEREST",t.NECESSARY_VITAL_INTEREST="NECESSARY.VITAL-INTEREST",t.OTHER_LEGAL_BASE="OTHER-LEGAL-BASE"}(c||(c={})),function(e){var t;(t=e.provenance||(e.provenance={}))._="*",t.DERIVED="DERIVED",t.TRANSFERRED="TRANSFERRED",t.USER="USER",t.USER_DATA_SUBJECT="USER.DATA-SUBJECT"}(S||(S={})),function(e){var t,o;(t=e.policy||(e.policy={})).NO_LONGER_THAN="NO-LONGER-THAN",t.NO_LESS_THAN="NO-LESS-THAN",(o=e.after||(e.after={})).CAPTURE_DATE="CAPTURE-DATE",o.RELATIONSHIP_START="RELATIONSHIP-START",o.RELATIONSHIP_END="RELATIONSHIP-END",o.SERVICE_START="SERVICE-START",o.SERVICE_END="SERVICE-END"}(I||(I={})),function(e){e.AUTO="auto",e.MANUAL="manual"}(p||(p={})),function(e){var t;(t=e.motive||(e.motive={})).IDENTITY_UNCONFIRMED="IDENTITY-UNCONFIRMED",t.LANGUAGE_UNSUPPORTED="LANGUAGE-UNSUPPORTED",t.VALID_REASONS="VALID-REASONS",t.IMPOSSIBLE="IMPOSSIBLE",t.NO_SUCH_DATA="NO-SUCH-DATA",t.REQUEST_UNSUPPORTED="REQUEST-UNSUPPORTED",t.USER_UNKNOWN="USER-UNKNOWN",t.OTHER_MOTIVE="OTHER-MOTIVE"}(C||(C={})),function(e){var t;(t=e.lb_type||(e.lb_type={})).CONTRACT="CONTRACT",t.CONSENT="CONSENT",t.LEGITIMATE_INTEREST="LEGITIMATE-INTEREST",t.NECESSARY="NECESSARY",t.NECESSARY_LEGAL_OBLIGATION="NECESSARY.LEGAL-OBLIGATION",t.NECESSARY_PUBLIC_INTEREST="NECESSARY.PUBLIC-INTEREST",t.NECESSARY_VITAL_INTEREST="NECESSARY.VITAL-INTEREST",t.OTHER_LEGAL_BASE="OTHER-LEGAL-BASE"}(O||(O={})),function(e){var t;(t=e.action||(e.action={})).ACCESS="ACCESS",t.DELETE="DELETE",t.MODIFY="MODIFY",t.OBJECT="OBJECT",t.PORTABILITY="PORTABILITY",t.RESTRICT="RESTRICT",t.REVOKE_CONSENT="REVOKE-CONSENT",t.TRANSPARENCY="TRANSPARENCY",t.TRANSPARENCY_DATA_CATEGORIES="TRANSPARENCY.DATA-CATEGORIES",t.TRANSPARENCY_DPO="TRANSPARENCY.DPO",t.TRANSPARENCY_KNOWN="TRANSPARENCY.KNOWN",t.TRANSPARENCY_LEGAL_BASES="TRANSPARENCY.LEGAL-BASES",t.TRANSPARENCY_ORGANIZATION="TRANSPARENCY.ORGANIZATION",t.TRANSPARENCY_POLICY="TRANSPARENCY.POLICY",t.TRANSPARENCY_PROCESSING_CATEGORIES="TRANSPARENCY.PROCESSING-CATEGORIES",t.TRANSPARENCY_PROVENANCE="TRANSPARENCY.PROVENANCE",t.TRANSPARENCY_PURPOSE="TRANSPARENCY.PURPOSE",t.TRANSPARENCY_RETENTION="TRANSPARENCY.RETENTION",t.TRANSPARENCY_WHERE="TRANSPARENCY.WHERE",t.TRANSPARENCY_WHO="TRANSPARENCY.WHO",t.OTHER="OTHER"}(u||(u={})),function(e){var t;(t=e.action||(e.action={})).ACCESS="ACCESS",t.DELETE="DELETE",t.MODIFY="MODIFY",t.OBJECT="OBJECT",t.PORTABILITY="PORTABILITY",t.RESTRICT="RESTRICT",t.REVOKE_CONSENT="REVOKE-CONSENT",t.TRANSPARENCY="TRANSPARENCY",t.TRANSPARENCY_DATA_CATEGORIES="TRANSPARENCY.DATA-CATEGORIES",t.TRANSPARENCY_DPO="TRANSPARENCY.DPO",t.TRANSPARENCY_KNOWN="TRANSPARENCY.KNOWN",t.TRANSPARENCY_LEGAL_BASES="TRANSPARENCY.LEGAL-BASES",t.TRANSPARENCY_ORGANIZATION="TRANSPARENCY.ORGANIZATION",t.TRANSPARENCY_POLICY="TRANSPARENCY.POLICY",t.TRANSPARENCY_PROCESSING_CATEGORIES="TRANSPARENCY.PROCESSING-CATEGORIES",t.TRANSPARENCY_PROVENANCE="TRANSPARENCY.PROVENANCE",t.TRANSPARENCY_PURPOSE="TRANSPARENCY.PURPOSE",t.TRANSPARENCY_RETENTION="TRANSPARENCY.RETENTION",t.TRANSPARENCY_WHERE="TRANSPARENCY.WHERE",t.TRANSPARENCY_WHO="TRANSPARENCY.WHO",t.OTHER="OTHER"}(h||(h={})),function(e){var t;(t=e.status||(e.status={})).IN_PROCESSING="IN_PROCESSING",t.PARTIALLY_COMPLETED="PARTIALLY_COMPLETED",t.COMPLETED="COMPLETED",t.CANCELED="CANCELED"}(P||(P={})),function(e){var t,o,r;(t=e.requested_action||(e.requested_action={})).ACCESS="ACCESS",t.DELETE="DELETE",t.MODIFY="MODIFY",t.OBJECT="OBJECT",t.PORTABILITY="PORTABILITY",t.RESTRICT="RESTRICT",t.REVOKE_CONSENT="REVOKE-CONSENT",t.TRANSPARENCY="TRANSPARENCY",t.TRANSPARENCY_DATA_CATEGORIES="TRANSPARENCY.DATA-CATEGORIES",t.TRANSPARENCY_DPO="TRANSPARENCY.DPO",t.TRANSPARENCY_KNOWN="TRANSPARENCY.KNOWN",t.TRANSPARENCY_LEGAL_BASES="TRANSPARENCY.LEGAL-BASES",t.TRANSPARENCY_ORGANIZATION="TRANSPARENCY.ORGANIZATION",t.TRANSPARENCY_POLICY="TRANSPARENCY.POLICY",t.TRANSPARENCY_PROCESSING_CATEGORIES="TRANSPARENCY.PROCESSING-CATEGORIES",t.TRANSPARENCY_PROVENANCE="TRANSPARENCY.PROVENANCE",t.TRANSPARENCY_PURPOSE="TRANSPARENCY.PURPOSE",t.TRANSPARENCY_RETENTION="TRANSPARENCY.RETENTION",t.TRANSPARENCY_WHERE="TRANSPARENCY.WHERE",t.TRANSPARENCY_WHO="TRANSPARENCY.WHO",t.OTHER="OTHER",(o=e.status||(e.status={})).GRANTED="GRANTED",o.DENIED="DENIED",o.PARTIALLY_GRANTED="PARTIALLY-GRANTED",o.UNDER_REVIEW="UNDER-REVIEW",o.CANCELED="CANCELED",(r=e.motive||(e.motive={})).IDENTITY_UNCONFIRMED="IDENTITY-UNCONFIRMED",r.LANGUAGE_UNSUPPORTED="LANGUAGE-UNSUPPORTED",r.VALID_REASONS="VALID-REASONS",r.IMPOSSIBLE="IMPOSSIBLE",r.NO_SUCH_DATA="NO-SUCH-DATA",r.REQUEST_UNSUPPORTED="REQUEST-UNSUPPORTED",r.USER_UNKNOWN="USER-UNKNOWN",r.OTHER_MOTIVE="OTHER-MOTIVE"}(g||(g={})),function(e){var t,o;(t=e.pc||(e.pc={}))._="*",t.ANONYMIZATION="ANONYMIZATION",t.AUTOMATED_INFERENCE="AUTOMATED-INFERENCE",t.AUTOMATED_DECISION_MAKING="AUTOMATED-DECISION-MAKING",t.COLLECTION="COLLECTION",t.GENERATING="GENERATING",t.PUBLISHING="PUBLISHING",t.STORING="STORING",t.SHARING="SHARING",t.USING="USING",t.OTHER_PROCESSING="OTHER-PROCESSING",(o=e.pp||(e.pp={}))._="*",o.ADVERTISING="ADVERTISING",o.COMPLIANCE="COMPLIANCE",o.EMPLOYMENT="EMPLOYMENT",o.JUSTICE="JUSTICE",o.MARKETING="MARKETING",o.MEDICAL="MEDICAL",o.PERSONALIZATION="PERSONALIZATION",o.PUBLIC_INTERESTS="PUBLIC-INTERESTS",o.RESEARCH="RESEARCH",o.SALE="SALE",o.SECURITY="SECURITY",o.SERVICES="SERVICES",o.SERVICES_ADDITIONAL_SERVICES="SERVICES.ADDITIONAL-SERVICES",o.SERVICES_BASIC_SERVICE="SERVICES.BASIC-SERVICE",o.SOCIAL_PROTECTION="SOCIAL-PROTECTION",o.TRACKING="TRACKING",o.VITAL_INTERESTS="VITAL-INTERESTS",o.OTHER_PURPOSE="OTHER-PURPOSE"}(m||(m={})),function(e){var t,o;(t=e.processing_category||(e.processing_category={}))._="*",t.ANONYMIZATION="ANONYMIZATION",t.AUTOMATED_INFERENCE="AUTOMATED-INFERENCE",t.AUTOMATED_DECISION_MAKING="AUTOMATED-DECISION-MAKING",t.COLLECTION="COLLECTION",t.GENERATING="GENERATING",t.PUBLISHING="PUBLISHING",t.STORING="STORING",t.SHARING="SHARING",t.USING="USING",t.OTHER_PROCESSING="OTHER-PROCESSING",(o=e.purpose||(e.purpose={}))._="*",o.ADVERTISING="ADVERTISING",o.COMPLIANCE="COMPLIANCE",o.EMPLOYMENT="EMPLOYMENT",o.JUSTICE="JUSTICE",o.MARKETING="MARKETING",o.MEDICAL="MEDICAL",o.PERSONALIZATION="PERSONALIZATION",o.PUBLIC_INTERESTS="PUBLIC-INTERESTS",o.RESEARCH="RESEARCH",o.SALE="SALE",o.SECURITY="SECURITY",o.SERVICES="SERVICES",o.SERVICES_ADDITIONAL_SERVICES="SERVICES.ADDITIONAL-SERVICES",o.SERVICES_BASIC_SERVICE="SERVICES.BASIC-SERVICE",o.SOCIAL_PROTECTION="SOCIAL-PROTECTION",o.TRACKING="TRACKING",o.VITAL_INTERESTS="VITAL-INTERESTS",o.OTHER_PURPOSE="OTHER-PURPOSE"}(L||(L={})),function(e){var t;(t=e.provenance||(e.provenance={}))._="*",t.DERIVED="DERIVED",t.TRANSFERRED="TRANSFERRED",t.USER="USER",t.USER_DATA_SUBJECT="USER.DATA-SUBJECT"}(v||(v={})),function(e){var t,o;(t=e.term||(e.term={}))._="*",t.DERIVED="DERIVED",t.TRANSFERRED="TRANSFERRED",t.USER="USER",t.USER_DATA_SUBJECT="USER.DATA-SUBJECT",(o=e.target||(e.target={}))._="*",o.ORGANIZATION="ORGANIZATION",o.SYSTEM="SYSTEM",o.PARTNERS="PARTNERS",o.PARTNERS_DOWNWARD="PARTNERS.DOWNWARD",o.PARTNERS_UPWARD="PARTNERS.UPWARD"}(_||(_={})),function(e){var t,o,r,n;(t=e.status||(e.status={})).GRANTED="GRANTED",t.DENIED="DENIED",t.PARTIALLY_GRANTED="PARTIALLY-GRANTED",t.UNDER_REVIEW="UNDER-REVIEW",t.CANCELED="CANCELED",(o=e.motive||(e.motive={})).IDENTITY_UNCONFIRMED="IDENTITY-UNCONFIRMED",o.LANGUAGE_UNSUPPORTED="LANGUAGE-UNSUPPORTED",o.VALID_REASONS="VALID-REASONS",o.IMPOSSIBLE="IMPOSSIBLE",o.NO_SUCH_DATA="NO-SUCH-DATA",o.REQUEST_UNSUPPORTED="REQUEST-UNSUPPORTED",o.USER_UNKNOWN="USER-UNKNOWN",o.OTHER_MOTIVE="OTHER-MOTIVE",(r=e.provenance||(e.provenance={}))._="*",r.DERIVED="DERIVED",r.TRANSFERRED="TRANSFERRED",r.USER="USER",r.USER_DATA_SUBJECT="USER.DATA-SUBJECT",(n=e.target||(e.target={}))._="*",n.ORGANIZATION="ORGANIZATION",n.SYSTEM="SYSTEM",n.PARTNERS="PARTNERS",n.PARTNERS_DOWNWARD="PARTNERS.DOWNWARD",n.PARTNERS_UPWARD="PARTNERS.UPWARD"}(D||(D={})),function(e){var t,o;(t=e.policy_type||(e.policy_type={})).NO_LONGER_THAN="NO-LONGER-THAN",t.NO_LESS_THAN="NO-LESS-THAN",(o=e.after||(e.after={})).CAPTURE_DATE="CAPTURE-DATE",o.RELATIONSHIP_START="RELATIONSHIP-START",o.RELATIONSHIP_END="RELATIONSHIP-END",o.SERVICE_START="SERVICE-START",o.SERVICE_END="SERVICE-END"}(b||(b={})),function(e){var t,o;(t=e.pc||(e.pc={}))._="*",t.ANONYMIZATION="ANONYMIZATION",t.AUTOMATED_INFERENCE="AUTOMATED-INFERENCE",t.AUTOMATED_DECISION_MAKING="AUTOMATED-DECISION-MAKING",t.COLLECTION="COLLECTION",t.GENERATING="GENERATING",t.PUBLISHING="PUBLISHING",t.STORING="STORING",t.SHARING="SHARING",t.USING="USING",t.OTHER_PROCESSING="OTHER-PROCESSING",(o=e.pp||(e.pp={}))._="*",o.ADVERTISING="ADVERTISING",o.COMPLIANCE="COMPLIANCE",o.EMPLOYMENT="EMPLOYMENT",o.JUSTICE="JUSTICE",o.MARKETING="MARKETING",o.MEDICAL="MEDICAL",o.PERSONALIZATION="PERSONALIZATION",o.PUBLIC_INTERESTS="PUBLIC-INTERESTS",o.RESEARCH="RESEARCH",o.SALE="SALE",o.SECURITY="SECURITY",o.SERVICES="SERVICES",o.SERVICES_ADDITIONAL_SERVICES="SERVICES.ADDITIONAL-SERVICES",o.SERVICES_BASIC_SERVICE="SERVICES.BASIC-SERVICE",o.SOCIAL_PROTECTION="SOCIAL-PROTECTION",o.TRACKING="TRACKING",o.VITAL_INTERESTS="VITAL-INTERESTS",o.OTHER_PURPOSE="OTHER-PURPOSE"}(f||(f={}));const y=e=>null!=e,U=e=>"string"==typeof e,G=e=>U(e)&&""!==e,Y=e=>"object"==typeof e&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.arrayBuffer&&"function"==typeof e.constructor&&"string"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag]),w=e=>e instanceof FormData,M=e=>{const t=[],o=(e,r)=>{y(r)&&(Array.isArray(r)?r.forEach((t=>{o(e,t)})):"object"==typeof r?Object.entries(r).forEach((([t,r])=>{o(`${e}[${t}]`,r)})):((e,o)=>{t.push(`${encodeURIComponent(e)}=${encodeURIComponent(String(o))}`)})(e,r))};return Object.entries(e).forEach((([e,t])=>{o(e,t)})),t.length>0?`?${t.join("&")}`:""},H=async(e,t)=>"function"==typeof t?t(e):t,V=async(e,t)=>{const o=await H(t,e.TOKEN),r=await H(t,e.USERNAME),n=await H(t,e.PASSWORD),i=await H(t,e.HEADERS),E=Object.entries({Accept:"application/json",...i,...t.headers}).filter((([e,t])=>y(t))).reduce(((e,[t,o])=>({...e,[t]:String(o)})),{});if(G(o)&&(E.Authorization=`Bearer ${o}`),G(r)&&G(n)){const e=(e=>{try{return btoa(e)}catch(t){return Buffer.from(e).toString("base64")}})(`${r}:${n}`);E.Authorization=`Basic ${e}`}return t.body&&(t.mediaType?E["Content-Type"]=t.mediaType:Y(t.body)?E["Content-Type"]=t.body.type||"application/octet-stream":U(t.body)?E["Content-Type"]="text/plain":w(t.body)||(E["Content-Type"]="application/json")),new Headers(E)},x=(e,t)=>new T((async(o,r,n)=>{try{const r=((e,t)=>{const o=e.ENCODE_PATH||encodeURI,r=t.url.replace("{api-version}",e.VERSION).replace(/{(.*?)}/g,((e,r)=>{var n;return(null===(n=t.path)||void 0===n?void 0:n.hasOwnProperty(r))?o(String(t.path[r])):e})),n=`${e.BASE}${r}`;return t.query?`${n}${M(t.query)}`:n})(e,t),i=(e=>{if(e.formData){const t=new FormData,o=(e,o)=>{U(o)||Y(o)?t.append(e,o):t.append(e,JSON.stringify(o))};return Object.entries(e.formData).filter((([e,t])=>y(t))).forEach((([e,t])=>{Array.isArray(t)?t.forEach((t=>o(e,t))):o(e,t)})),t}})(t),E=(e=>{var t;if(e.body)return(null===(t=e.mediaType)||void 0===t?void 0:t.includes("/json"))?JSON.stringify(e.body):U(e.body)||Y(e.body)||w(e.body)?e.body:JSON.stringify(e.body)})(t),s=await V(e,t);if(!n.isCancelled){const a=await(async(e,t,o,r,n,i,E)=>{const s=new AbortController,a={headers:i,body:null!=r?r:n,method:t.method,signal:s.signal};return e.WITH_CREDENTIALS&&(a.credentials=e.CREDENTIALS),E((()=>s.abort())),await fetch(o,a)})(e,t,r,E,i,s,n),R=await(async e=>{if(204!==e.status)try{const t=e.headers.get("Content-Type");if(t)return t.toLowerCase().startsWith("application/json")?await e.json():await e.text()}catch(e){console.error(e)}})(a),A=((e,t)=>{if(t){const o=e.headers.get(t);if(U(o))return o}})(a,t.responseHeader),N={url:r,ok:a.ok,status:a.status,statusText:a.statusText,body:null!=A?A:R};((e,t)=>{const o={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",...e.errors}[t.status];if(o)throw new d(e,t,o);if(!t.ok)throw new d(e,t,"Generic Error")})(t,N),o(N.body)}}catch(e){r(e)}}));class B{static postV0CallbackCallbackid(e,t){return x(l,{method:"POST",url:"/v0/callback/{callbackId}",path:{callbackId:e},body:t,mediaType:"application/json",errors:{400:"Invalid value for: path parameter callbackId, Invalid value for: body"}})}}class k{static getV0ConfigureGeneralInfo(){return x(l,{method:"GET",url:"/v0/configure/general-info"})}static putV0ConfigureGeneralInfo(e){return x(l,{method:"PUT",url:"/v0/configure/general-info",body:e,mediaType:"application/json",errors:{400:"Invalid value for: body"}})}static getV0ConfigurePrivacyScopeDimensions(){return x(l,{method:"GET",url:"/v0/configure/privacy-scope-dimensions"})}static putV0ConfigureSelectors(e){return x(l,{method:"PUT",url:"/v0/configure/selectors",body:e,mediaType:"application/json",errors:{400:"Invalid value for: body"}})}static getV0ConfigureLegalBases(){return x(l,{method:"GET",url:"/v0/configure/legal-bases"})}static putV0ConfigureLegalBases(e){return x(l,{method:"PUT",url:"/v0/configure/legal-bases",body:e,mediaType:"application/json",errors:{400:"Invalid value for: body"}})}static getV0ConfigureLegalBasesLegalbaseid(e){return x(l,{method:"GET",url:"/v0/configure/legal-bases/{legalBaseId}",path:{legalBaseId:e},errors:{400:"Invalid value for: path parameter legalBaseId"}})}static putV0ConfigureRetentionPolicies(e){return x(l,{method:"PUT",url:"/v0/configure/retention-policies",body:e,mediaType:"application/json",errors:{400:"Invalid value for: body"}})}static deleteV0ConfigureRetentionPoliciesRetentionpolicyid(e){return x(l,{method:"DELETE",url:"/v0/configure/retention-policies/{retentionPolicyId}",path:{retentionPolicyId:e},errors:{400:"Invalid value for: path parameter retentionPolicyId"}})}static putV0ConfigureProvenances(e){return x(l,{method:"PUT",url:"/v0/configure/provenances",body:e,mediaType:"application/json",errors:{400:"Invalid value for: body"}})}static deleteV0ConfigureProvenancesProvenanceid(e){return x(l,{method:"DELETE",url:"/v0/configure/provenances/{provenanceId}",path:{provenanceId:e},errors:{400:"Invalid value for: path parameter provenanceId"}})}static getV0ConfigureDataCategories(){return x(l,{method:"GET",url:"/v0/configure/data-categories"})}static getV0ConfigureRegulations(){return x(l,{method:"GET",url:"/v0/configure/regulations"})}static putV0ConfigureRegulations(e){return x(l,{method:"PUT",url:"/v0/configure/regulations",body:e,mediaType:"application/json",errors:{400:"Invalid value for: body"}})}static getV0ConfigureRegulationsApp(){return x(l,{method:"GET",url:"/v0/configure/regulations/app"})}static deleteV0ConfigureRegulationsRegulationid(e){return x(l,{method:"DELETE",url:"/v0/configure/regulations/{regulationId}",path:{regulationId:e},errors:{400:"Invalid value for: path parameter regulationId"}})}static getV0ConfigureDemandResolutionStrategy(){return x(l,{method:"GET",url:"/v0/configure/demand-resolution-strategy"})}static putV0ConfigureDemandResolutionStrategy(e){return x(l,{method:"PUT",url:"/v0/configure/demand-resolution-strategy",body:e,mediaType:"application/json",errors:{400:"Invalid value for: body"}})}}class ${static getV0ConsumerInterfacePendingRequests(){return x(l,{method:"GET",url:"/v0/consumer-interface/pending-requests"})}static getV0ConsumerInterfacePendingRequestsDemandid(e){return x(l,{method:"GET",url:"/v0/consumer-interface/pending-requests/{demandId}",path:{demandId:e},errors:{400:"Invalid value for: path parameter demandId"}})}static postV0ConsumerInterfacePendingRequestsApprove(e){return x(l,{method:"POST",url:"/v0/consumer-interface/pending-requests/approve",body:e,mediaType:"application/json"})}static postV0ConsumerInterfacePendingRequestsDeny(e){return x(l,{method:"POST",url:"/v0/consumer-interface/pending-requests/deny",body:e,mediaType:"application/json"})}}class W{static getV0Health(){return x(l,{method:"GET",url:"/v0/health"})}}class F{static postV0UserEventsConsent(e){return x(l,{method:"POST",url:"/v0/user-events/consent",body:e,mediaType:"application/json",errors:{400:"Invalid value for: body"}})}static postV0UserEventsContractStart(e){return x(l,{method:"POST",url:"/v0/user-events/contract/start",body:e,mediaType:"application/json",errors:{400:"Invalid value for: body"}})}static postV0UserEventsContractEnd(e){return x(l,{method:"POST",url:"/v0/user-events/contract/end",body:e,mediaType:"application/json",errors:{400:"Invalid value for: body"}})}static postV0UserEventsLegitimateInterestStart(e){return x(l,{method:"POST",url:"/v0/user-events/legitimate-interest/start",body:e,mediaType:"application/json",errors:{400:"Invalid value for: body"}})}static postV0UserEventsLegitimateInterestEnd(e){return x(l,{method:"POST",url:"/v0/user-events/legitimate-interest/end",body:e,mediaType:"application/json",errors:{400:"Invalid value for: body"}})}}class j{static getV0UserConsents(e){return x(l,{method:"GET",url:"/v0/user/consents",headers:{Authorization:e},errors:{400:"Invalid value for: header Authorization"}})}}var K,Z,J,q,z,Q,X,ee,te,oe,re,ne,ie,Ee;!function(e){e.ACCESS="ACCESS",e.DELETE="DELETE",e.MODIFY="MODIFY",e.OBJECT="OBJECT",e.PORTABILITY="PORTABILITY",e.RESTRICT="RESTRICT",e.REVOKE="REVOKE-CONSENT",e.TRANSPARENCY="TRANSPARENCY",e["TRANSPARENCY.DATA.CATEGORIES"]="TRANSPARENCY.DATA-CATEGORIES",e["TRANSPARENCY.DPO"]="TRANSPARENCY.DPO",e["TRANSPARENCY.KNOWN"]="TRANSPARENCY.KNOWN",e["TRANSPARENCY.LEGAL.BASES"]="TRANSPARENCY.LEGAL-BASES",e["TRANSPARENCY.ORGANIZATION"]="TRANSPARENCY.ORGANIZATION",e["TRANSPARENCY.POLICY"]="TRANSPARENCY.POLICY",e["TRANSPARENCY.PROCESSING.CATEGORIES"]="TRANSPARENCY.PROCESSING-CATEGORIES",e["TRANSPARENCY.PROVENANCE"]="TRANSPARENCY.PROVENANCE",e["TRANSPARENCY.PURPOSE"]="TRANSPARENCY.PURPOSE",e["TRANSPARENCY.RETENTION"]="TRANSPARENCY.RETENTION",e["TRANSPARENCY.WHERE"]="TRANSPARENCY.WHERE",e["TRANSPARENCY.WHO"]="TRANSPARENCY.WHO",e["OTHER.DEMAND"]="OTHER-DEMAND"}(K||(K={})),function(e){e.TRANSPARENCY_DATA_CATEGORIES="TRANSPARENCY.DATA-CATEGORIES",e.TRANSPARENCY_DPO="TRANSPARENCY.DPO",e.TRANSPARENCY_KNOWN="TRANSPARENCY.KNOWN",e.TRANSPARENCY_LEGAL_BASES="TRANSPARENCY.LEGAL-BASES",e.TRANSPARENCY_ORGANIZATION="TRANSPARENCY.ORGANIZATION",e.TRANSPARENCY_POLICY="TRANSPARENCY.POLICY",e.TRANSPARENCY_PROCESSING_CATEGORIES="TRANSPARENCY.PROCESSING-CATEGORIES",e.TRANSPARENCY_PROVENANCE="TRANSPARENCY.PROVENANCE",e.TRANSPARENCY_PURPOSE="TRANSPARENCY.PURPOSE",e.TRANSPARENCY_RETENTION="TRANSPARENCY.RETENTION",e.TRANSPARENCY_WHERE="TRANSPARENCY.WHERE",e.TRANSPARENCY_WHO="TRANSPARENCY.WHO"}(Z||(Z={})),function(e){e.ALL="*",e.USER="USER",e["USER.DATA-SUBJECT"]="USER.DATA-SUBJECT",e.DERIVED="DERIVED",e.TRANSFERRED="TRANSFERRED"}(J||(J={})),function(e){e.IN_PROCESSING="IN_PROCESSING",e.PARTIALLY_COMPLETED="PARTIALLY_COMPLETED",e.COMPLETED="COMPLETED",e.CANCELED="CANCELED"}(q||(q={})),function(e){e.GRANTED="GRANTED",e.DENIED="DENIED",e["PARTIALLY-GRANTED"]="PARTIALLY-GRANTED",e["UNDER-REVIEW"]="UNDER-REVIEW",e.CANCELED="CANCELED"}(z||(z={})),function(e){e.ALL="*",e.SYSTEM="SYSTEM",e.ORGANIZATION="ORGANIZATION",e.PARTNERS="PARTNERS",e["PARTNERS.DOWNWARD"]="PARTNERS.DOWNWARD",e["PARTNERS.UPWARD"]="PARTNERS.UPWARD"}(Q||(Q={})),function(e){e["PARTNERS.DOWNWARD"]="PARTNERS.DOWNWARD",e["PARTNERS.UPWARD"]="PARTNERS.UPWARD"}(X||(X={})),function(e){e.ALL="*",e.AFFILIATION="AFFILIATION",e["AFFILIATION.MEMBERSHIP"]="AFFILIATION.MEMBERSHIP",e["AFFILIATION.MEMBERSHIP.UNION"]="AFFILIATION.MEMBERSHIP.UNION",e["AFFILIATION.SCHOOL"]="AFFILIATION.SCHOOL",e["AFFILIATION.WORKPLACE"]="AFFILIATION.WORKPLACE",e.BEHAVIOR="BEHAVIOR",e["BEHAVIOR.ACTIVITY"]="BEHAVIOR.ACTIVITY",e["BEHAVIOR.CONNECTION"]="BEHAVIOR.CONNECTION",e["BEHAVIOR.PREFERENCE"]="BEHAVIOR.PREFERENCE",e["BEHAVIOR.TELEMETRY"]="BEHAVIOR.TELEMETRY",e.BIOMETRIC="BIOMETRIC",e.CONTACT="CONTACT",e["CONTACT.EMAIL"]="CONTACT.EMAIL",e["CONTACT.ADDRESS"]="CONTACT.ADDRESS",e["CONTACT.PHONE"]="CONTACT.PHONE",e.DEMOGRAPHIC="DEMOGRAPHIC",e["DEMOGRAPHIC.AGE"]="DEMOGRAPHIC.AGE",e["DEMOGRAPHIC.BELIEFS"]="DEMOGRAPHIC.BELIEFS",e["DEMOGRAPHIC.GENDER"]="DEMOGRAPHIC.GENDER",e["DEMOGRAPHIC.ORIGIN"]="DEMOGRAPHIC.ORIGIN",e["DEMOGRAPHIC.RACE"]="DEMOGRAPHIC.RACE",e["DEMOGRAPHIC.SEXUAL-ORIENTATION"]="DEMOGRAPHIC.SEXUAL-ORIENTATION",e.DEVICE="DEVICE",e.FINANCIAL="FINANCIAL",e["FINANCIAL.BANK-ACCOUNT"]="FINANCIAL.BANK-ACCOUNT",e.GENETIC="GENETIC",e.HEALTH="HEALTH",e.IMAGE="IMAGE",e.LOCATION="LOCATION",e.NAME="NAME",e.PROFILING="PROFILING",e.RELATIONSHIPS="RELATIONSHIPS",e.UID="UID",e["UID.ID"]="UID.ID",e["UID.IP"]="UID.IP",e["UID.USER-ACCOUNT"]="UID.USER-ACCOUNT",e["UID.SOCIAL-MEDIA"]="UID.SOCIAL-MEDIA",e["OTHER-DATA"]="OTHER-DATA"}(ee||(ee={})),function(e){e.ALL="*",e.ANONYMIZATION="ANONYMIZATION",e["AUTOMATED-INFERENCE"]="AUTOMATED-INFERENCE",e["AUTOMATED-DECISION-MAKING"]="AUTOMATED-DECISION-MAKING",e.COLLECTION="COLLECTION",e.GENERATING="GENERATING",e.PUBLISHING="PUBLISHING",e.STORING="STORING",e.SHARING="SHARING",e.USING="USING",e["OTHER-PROCESSING"]="OTHER-PROCESSING"}(te||(te={})),function(e){e.ALL="*",e.ADVERTISING="ADVERTISING",e.COMPLIANCE="COMPLIANCE",e.EMPLOYMENT="EMPLOYMENT",e.JUSTICE="JUSTICE",e.MARKETING="MARKETING",e.MEDICAL="MEDICAL",e.PERSONALIZATION="PERSONALIZATION",e["PUBLIC-INTERESTS"]="PUBLIC-INTERESTS",e.RESEARCH="RESEARCH",e.SALE="SALE",e.SECURITY="SECURITY",e.SERVICES="SERVICES",e["SERVICES.ADDITIONAL-SERVICES"]="SERVICES.ADDITIONAL-SERVICES",e["SERVICES.BASIC-SERVICE"]="SERVICES.BASIC-SERVICE",e["SOCIAL-PROTECTION"]="SOCIAL-PROTECTION",e.TRACKING="TRACKING",e["VITAL-INTERESTS"]="VITAL-INTERESTS",e["OTHER-PURPOS"]="OTHER-PURPOSE"}(oe||(oe={})),function(e){e["IDENTITY-UNCONFIRMED"]="IDENTITY-UNCONFIRMED",e["LANGUAGE-UNSUPPORTED"]="LANGUAGE-UNSUPPORTED",e["VALID-REASONS"]="VALID-REASONS",e.IMPOSSIBLE="IMPOSSIBLE",e["NO-SUCH-DATA"]="NO-SUCH-DATA",e["REQUEST-UNSUPPORTED"]="REQUEST-UNSUPPORTED",e["USER-UNKNOWN"]="USER-UNKNOWN",e["OTHER-MOTIVE"]="OTHER-MOTIVE"}(re||(re={})),function(e){e.CONTRACT="CONTRACT",e.CONSENT="CONSENT",e["LEGITIMATE-INTEREST"]="LEGITIMATE-INTEREST",e.NECESSARY="NECESSARY",e["NECESSARY.LEGAL-OBLIGATION"]="NECESSARY.LEGAL-OBLIGATION",e["NECESSARY.PUBLIC-INTEREST"]="NECESSARY.PUBLIC-INTEREST",e["NECESSARY.VITAL-INTEREST"]="NECESSARY.VITAL-INTEREST",e["OTHER-LEGAL-BASE"]="OTHER-LEGAL-BASE"}(ne||(ne={})),function(e){e["NO-LONGER-THAN"]="NO-LONGER-THAN",e["NO-LESS-THAN"]="NO-LESS-THAN"}(ie||(ie={})),function(e){e["CAPTURE-DATE"]="CAPTURE-DATE",e["RELATIONSHIP-START"]="RELATIONSHIP-START",e["RELATIONSHIP-END"]="RELATIONSHIP-END",e["SERVICE-START"]="SERVICE-START",e["SERVICE-END"]="SERVICE-END"}(Ee||(Ee={}));class se{constructor(e,t,o){this._baseURL=e?"false"===e?se.MOCK_URL:e:se.DEFAULT_URL,this._baseURL=this._baseURL.replace(/\/+$/,""),this._apiToken=t||"",this._adminToken=o||""}get isMocked(){return this._baseURL===se.MOCK_URL}fullURL(e){return`${this._baseURL}${e.replace(/^\/*/,"/")}`}get baseURL(){return this._baseURL}setToken(e){this._apiToken=e}hasApiToken(){return""!==this._apiToken}setAdminToken(e){this._adminToken=e}hasAdminToken(){return""!==this._adminToken}static configure(e,t,o,r=!1){return se.instance&&!r?(e!==se.getInstance().baseURL&&e&&"false"!==e&&(console.log("[Computation API] Configuration conflict"),console.log(`[Computation API] configured value: ${se.getInstance().baseURL}`),console.log(`[Computation API] conflicting value: ${e}`)),!1):(se.instance=new se(e,t,o),!0)}static getInstance(){if(!se.instance)throw new Error("[Computation API] trying to use the API before configuring it");return se.instance}headers(e=!1,t=!0,o){const r=new Headers({"Content-Type":"application/json","Access-Control-Allow-Origin":"*",...this.isMocked&&o?{Prefer:this.getMockHeader(o)}:{},...e?{accept:"application/json"}:{}});if(t&&!this._apiToken)throw new Error("You must include a valid Authorization header!");return this._apiToken&&r.append("Authorization",`Bearer ${this._apiToken}`),r}getMockHeader(e){if(e.demands.length>1)return"code=200, example=TRANSPARENCY Multi-Response";if(1===e.demands.length){const{action:t}=e.demands[0];return`code=200, example=${t} Response`}return"code=400"}preProcessRequest(e){const t=Object.values(ee).filter((e=>e!==ee.ALL&&!e.includes(".")));return e.demands.forEach((e=>{if(e.restrictions&&e.restrictions.privacy_scope){const o=e.restrictions.privacy_scope.map((e=>e.dc));if(t.every((e=>o.includes(e)))){delete e.restrictions.privacy_scope}}})),e}async sendPrivacyRequest(e){const t=this.preProcessRequest(e),o=!e.demands.every((e=>e.action.includes("TRANSPARENCY"))),r=await fetch(this.fullURL("/privacy-request"),{method:"POST",headers:this.headers(!0,o,e),body:JSON.stringify(t)});if(!r.ok)throw new Error(r.statusText);return r.json()}async getRequestHistory(){const e=await fetch(this.fullURL("/privacy-request/history"),{method:"GET",headers:this.headers(!0)});if(!e.ok)throw new Error(e.statusText);return e.json()}async getRequest(e){const t=`/privacy-request/${e}`,o=await fetch(this.fullURL(t),{method:"GET",headers:this.headers(!0)});if(!o.ok)throw new Error(o.statusText);return o.json()}async cancelDemand(e){const t=this.headers(!0),o=JSON.stringify({demand_id:e}),r=await fetch(this.fullURL("/privacy-request/cancel"),{method:"POST",headers:t,body:o});if(!r.ok)throw new Error(r.statusText)}async getPendingDemands(e){if(void 0!==e)this.setAdminToken(e);else if(!this._adminToken)throw new Error("You must set an admin token before making API calls!");return fetch("https://devkit-pce-staging.azurewebsites.net/v0/consumer-interface/pending-requests",{method:"GET",headers:{accept:"application/json",Authorization:`Bearer ${this._adminToken}`}}).then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()}))}async getPendingDemandDetails(e,t){if(void 0!==t)this.setAdminToken(t);else if(!this._adminToken)throw new Error("You must set an admin token before making API calls!");return fetch(`https://devkit-pce-staging.azurewebsites.net/v0/consumer-interface/pending-requests/${e}`,{method:"GET",headers:{accept:"application/json",Authorization:`Bearer ${this._adminToken}`}}).then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()}))}async grantDemand(e,t,o,r){if(void 0!==r)this.setAdminToken(r);else if(!this._adminToken)throw new Error("You must set an admin token before making API calls!");if(void 0===e)throw TypeError("You must pass an ID of the demand to deny.");t||(t=void 0);const n={id:e,msg:t,lang:o};return fetch("https://devkit-pce-staging.azurewebsites.net/v0/consumer-interface/pending-requests/approve",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this._adminToken}`},body:JSON.stringify(n)}).then((e=>{if(!e.ok)throw new Error(e.statusText)}))}async denyDemand(e,t=C.motive.OTHER_MOTIVE,o,r,n){if(void 0!==n)this.setAdminToken(n);else if(!this._adminToken)throw new Error("You must set an admin token before making API calls!");if(void 0===e)throw TypeError("You must pass an ID of the demand to deny.");const i={id:e,motive:t,msg:o,lang:r};return fetch("https://devkit-pce-staging.azurewebsites.net/v0/consumer-interface/pending-requests/deny",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this._adminToken}`},body:JSON.stringify(i)}).then((e=>{if(!e.ok)throw new Error(e.statusText)}))}static clean(){se.instance=null}}se.instance=null,se.MOCK_URL="https://stoplight.io/mocks/blindnet/product-management:open-api/74767654",se.DEFAULT_URL="https://devkit-pce-staging.azurewebsites.net/v0";class ae{static configure(e,t=!0){const o=ae.setUp(e,t);return o&&(ae._configuration=e),o}static setToken(e){ae._configuration.apiToken=e,se.getInstance().setToken(e)}static setAdminToken(e){ae._configuration.adminToken=e,se.getInstance().setAdminToken(e)}static setUp(e,t){let o=!0;return o=o&&se.configure(e.computationBaseUrl,e.apiToken,e.adminToken,t),o}static get configuration(){return ae._configuration}}function Re(e){return class extends e{constructor(){super(...arguments),this.computationBaseURL="",this.apiToken="",this.adminToken=""}static get properties(){return{...super.properties||{},computationBaseURL:{type:String,attribute:"computation-base-url"},apiToken:{type:String,attribute:"api-token",reflect:!0},adminToken:{type:String,attribute:"admin-token",reflect:!0}}}connectedCallback(){super.connectedCallback(),ae.configure({computationBaseUrl:this.computationBaseURL,apiToken:this.apiToken,adminToken:this.adminToken},!1)}willUpdate(e){e.has("apiToken")&&this.apiToken&&ae.setToken(this.apiToken),e.has("adminToken")&&this.adminToken&&ae.setAdminToken(this.adminToken)}}}function Ae(e,t,o,r){var n,i=arguments.length,E=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)E=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(E=(i<3?n(E):i>3?n(t,o,E):n(t,o))||E);return i>3&&E&&Object.defineProperty(t,o,E),E}(globalThis||window).BlindnetCore=ae;const de=e`:host{--color-primary:rgb(var(--bldn-color-primary, 65, 105, 225));--color-primary-rgb:var(--bldn-color-primary, 65, 105, 225);--color-positive:rgb(var(--bldn-color-positive, 9, 185, 70));--color-positive-rgb:var(--bldn-color-positive, 9, 185, 70);--color-negative:rgb(var(--bldn-color-negative, 209, 53, 13));--color-negative-rgb:var(--bldn-color-negative, 209, 53, 13);--color-warning:rgb(var(--bldn-color-warning, 244, 144, 30));--color-warning-rgb:var(--bldn-color-warning, 244, 144, 30);--color-light:rgb(var(--bldn-color-light, 200, 200, 200));--color-light-rgb:var(--bldn-color-light, 200, 200, 200);--color-medium:rgb(var(--bldn-color-medium, 151, 151, 151));--color-medium-rgb:var(--bldn-color-medium, 151, 151, 151);--color-dark:rgb(var(--bldn-color-dark, 91, 91, 91));--color-dark-rgb:var(--bldn-color-dark, 91, 91, 91)}*{font-family:var(
      --bldn-font-family,
      -apple-system,
      BlinkMacSystemFont,
      'Segoe UI',
      Roboto,
      Oxygen,
      Ubuntu,
      Cantarell,
      'Open Sans',
      'Helvetica Neue',
      sans-serif
    )}`,Ne=new URL(new URL("assets/close-container-arrow.svg",import.meta.url).href,import.meta.url).href,Te=new URL(new URL("assets/open-container-arrow.svg",import.meta.url).href,import.meta.url).href;let le=class extends t{constructor(){super(...arguments),this.header="Expand",this.open=!1,this.includeButtons=!1}render(){return o`${E(this.header,(()=>o`<button class="header link-btn" @click="${()=>{this.open=!this.open}}"><span class="medium-font underline">${this.header}</span> ${E(this.open,(()=>o`<img src="${Ne}" alt="close arrow">`),(()=>o`<img src="${Te}" alt="open arrow">`))}<simple-icon icon="expand-${this.open?"less":"more"}"></simple-icon></button>`))}<div id="dropdown"><div id="content-ctr"><slot name="prompt"></slot><slot></slot></div>${E(this.includeButtons,(()=>o`<div id="close-btn-ctr"><button class="svg-btn" @click="${()=>{this.open=!this.open}}"><img src="${Ne}" alt="close arrow"></button></div>`))}</div>`}};le.styles=[de,e`#content-ctr{display:grid;row-gap:50px}#dropdown{display:none;border:var(--bldn-thin-border-width,1px) solid var(--bldn-light-border-color,#c4c4c4);border-radius:10px;padding:40px 40px 20px 40px;margin:20px 0 0 0}:host([open]) #dropdown{display:block}.header{margin:0}#close-btn-ctr{margin:20px 0 0 0;text-align:center}.svg-btn{border:none;padding:0;margin:0;background:0 0}.link-btn{color:#5b5b5b;text-decoration:underline;display:grid;grid-auto-flow:column;font-size:16px;column-gap:7.5px;background:0 0;border:none;width:fit-content;align-items:center;padding:0}`],Ae([r({type:String})],le.prototype,"header",void 0),Ae([r({type:Boolean,reflect:!0})],le.prototype,"open",void 0),Ae([r({type:Boolean,attribute:"include-buttons"})],le.prototype,"includeButtons",void 0),le=Ae([n("slotted-dropdown")],le);let ce=class extends t{render(){return o`Alerts view coming soon!`}};var Se;ce=Ae([n("bldn-data-consum-alerts")],ce),function(e){e[e.Respond=0]="Respond",e[e.History=1]="History",e[e.Responded=2]="Responded"}(Se||(Se={}));let Ie=class extends t{constructor(){super(...arguments),this._open=!1,this._dropdownUiState=Se.Respond,this._selectedResponseType=void 0,this._message=""}isRecommended(){var e,t;return this._selectedResponseType===(null===(t=null===(e=this._demandDetails)||void 0===e?void 0:e.recommendation)||void 0===t?void 0:t.status)}handleDropdownToggleChange(e){const{newValue:t}=e.detail;this._dropdownUiState="History"===t?Se.History:Se.Respond}handleMessageInput(e){const{value:t}=e.target;this._message=t}handleSubmitClick(){switch(this._selectedResponseType){case D.status.GRANTED:se.getInstance().grantDemand(this.demand.id,this._message).then((()=>{this._dropdownUiState=Se.Responded}));break;case D.status.PARTIALLY_GRANTED:break;case D.status.DENIED:se.getInstance().denyDemand(this.demand.id,D.motive.OTHER_MOTIVE,this._message).then((()=>{this._dropdownUiState=Se.Responded}))}}getRadioSVG(e){return e?o`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 7C9.24 7 7 9.24 7 12C7 14.76 9.24 17 12 17C14.76 17 17 14.76 17 12C17 9.24 14.76 7 12 7ZM12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4C16.42 4 20 7.58 20 12C20 16.42 16.42 20 12 20Z"/></svg>`:o`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4C16.42 4 20 7.58 20 12C20 16.42 16.42 20 12 20Z"/></svg>`}getArrowSVG(e){return"open"===e?o`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M22.12 20.5469L16 14.4402L9.88 20.5469L8 18.6669L16 10.6669L24 18.6669L22.12 20.5469Z"/></svg>`:o`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.88 11.4531L16 17.5598L22.12 11.4531L24 13.3331L16 21.3331L8 13.3331L9.88 11.4531Z"/></svg>`}willUpdate(e){e.has("demand")&&this.demand&&se.getInstance().getPendingDemandDetails(this.demand.id).then((e=>{var t,o;this._demandDetails=e,(null===(t=this._demandDetails.recommendation)||void 0===t?void 0:t.status)&&(this._selectedResponseType=null===(o=this._demandDetails.recommendation)||void 0===o?void 0:o.status)}))}render(){const e=[{respStatus:D.status.GRANTED,class:"grant",display:s("Grant")},{respStatus:D.status.DENIED,class:"deny",display:s("Deny")}];return o`${E(void 0!==this.demand,(()=>{var t;return o`<div id="list-item"><span class="list-item__text">${new Date(this.demand.date).toLocaleDateString("en-gb")}</span> <span class="list-item__text">${null===(t=this.demand.data_subject)||void 0===t?void 0:t.id}</span> <span class="list-item__text">${this.demand.action}</span> <button id="list-item__expand-btn" class="svg-btn" @click="${()=>{this._open=!this._open}}">${this.getArrowSVG(this._open?"open":"close")}</button></div>${E(this._open,(()=>o`<div id="dropdown"><bldn-toggle-button left="Respond" right="History" @bldn-toggle-button-change="${this.handleDropdownToggleChange}"></bldn-toggle-button>${a(this._dropdownUiState,[[Se.Respond,()=>o`<div id="dropdown__response-ctr"><span id="dropdown__response-heading">${s("Response")} -${E(this.isRecommended(),(()=>o`<span id="dropdown__response-heading--recommended">${s("Recommended")} <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 1C3.24 1 1 3.24 1 6C1 8.76 3.24 11 6 11C8.76 11 11 8.76 11 6C11 3.24 8.76 1 6 1ZM5 8.5L2.5 6L3.205 5.295L5 7.085L8.795 3.29L9.5 4L5 8.5Z" fill="currentColor"/></svg></span>`),(()=>o`<span id="dropdown__response-heading--not-recommended">${s("Not Recommended")} <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 1C3.235 1 1 3.235 1 6C1 8.765 3.235 11 6 11C8.765 11 11 8.765 11 6C11 3.235 8.765 1 6 1ZM8.5 7.795L7.795 8.5L6 6.705L4.205 8.5L3.5 7.795L5.295 6L3.5 4.205L4.205 3.5L6 5.295L7.795 3.5L8.5 4.205L6.705 6L8.5 7.795Z" fill="currentColor"/></svg></span>`))}</span> <textarea placeholder="${s("Optional Message")}" @input="${this.handleMessageInput}"></textarea><div id="dropdown__response-btns">${R(e,(e=>o`<button class="response-btn response-btn--${e.class} ${this._selectedResponseType===e.respStatus?"response-btn--selected":""}" @click="${()=>{this._selectedResponseType=e.respStatus}}">${this.getRadioSVG(this._selectedResponseType===e.respStatus)} <span>${e.display}</span></button>`))}</div></div><bldn-button @click="${this.handleSubmitClick}">${s("Submit")}</bldn-button>`],[Se.History,()=>o`${s("History view coming soon!")}`],[Se.Responded,()=>o`${s("Response Submmitted")} 📨`]])}</div>`))}`}))}`}};Ie.styles=[de,e`:host textarea{font-family:var(
          --bldn-font-family,
          -apple-system,
          BlinkMacSystemFont,
          'Segoe UI',
          Roboto,
          Oxygen,
          Ubuntu,
          Cantarell,
          'Open Sans',
          'Helvetica Neue',
          sans-serif
        )}#list-item{display:grid;grid-template-columns:repeat(3,2fr) 1fr;border:1px solid var(--color-light);border-radius:5px}.list-item__text{padding:20px 0}#list-item__expand-btn{border:none;border-left:1px solid var(--color-light);border-radius:0 5px 5px 0}#list-item__expand-btn svg{fill:var(--color-primary)}#dropdown{display:flex;margin-top:-5px;padding:2vh 0;row-gap:2vh;flex-direction:column;align-items:center;border:1px solid var(--color-light);border-width:0 1px 1px 1px;border-radius:0 0 20px 20px}#dropdown__response-ctr{width:75%;text-align:left}#dropdown bldn-toggle-button{width:200px}#dropdown__response-heading{color:var(--color-dark);padding:0 0 0 5px;font-size:14px}#dropdown__response-heading--recommended{display:inline-flex;align-items:center;color:var(--color-positive);column-gap:3px}#dropdown__response-heading--not-recommended{display:inline-flex;align-items:center;color:var(--color-negative);column-gap:3px}#dropdown textarea{display:block;box-sizing:border-box;height:7.5vh;width:100%;margin:3px 0 0 0;padding:5px;border:1px solid var(--color-light);border-bottom:none;border-radius:5px 5px 0 0;resize:none}#dropdown__response-btns{width:100%;display:flex;width:100%}.response-btn{display:flex;width:100%;padding:5px;align-items:center;justify-content:center;border:1px solid var(--color-light);column-gap:3px}.response-btn--grant{color:var(--color-positive);border-radius:0 0 0 5px}.response-btn--partial{color:var(--color-warning);border-radius:0}.response-btn--deny{color:var(--color-negative);border-radius:0 0 5px 0}.response-btn--selected{border-color:var(--color-primary);background:linear-gradient(0deg,rgba(var(--color-primary-rgb),.1),rgba(var(--color-primary-rgb),.1)),#fff}`],Ae([r({type:Object})],Ie.prototype,"demand",void 0),Ae([i()],Ie.prototype,"_demandDetails",void 0),Ae([i()],Ie.prototype,"_open",void 0),Ae([i()],Ie.prototype,"_dropdownUiState",void 0),Ae([i()],Ie.prototype,"_selectedResponseType",void 0),Ae([i()],Ie.prototype,"_message",void 0),Ie=Ae([n("bldn-data-consum-demand-list-item")],Ie);let pe=class extends t{constructor(){super(...arguments),this.demands=[]}render(){return o`${E(this.demands.length>0,(()=>o`<div id="list__row--heading"><span class="list__date-col"><b>${s("Created")}</b></span> <span><b>${s("Data Subject")}</b></span> <span><b>${s("Action")}</b></span></div><div id="list__items">${R(this.demands,(e=>o`<bldn-data-consum-demand-list-item demand="${JSON.stringify(e)}"></bldn-data-consum-demand-list-item>`))}</div>`),(()=>o`${s("No requests to display.")}`))}`}};pe.styles=[de,e`:host{color:var(--color-dark)}#list__row--heading{display:grid;grid-template-columns:repeat(3,2fr) 1fr;padding:0 0 5px 0;font-size:14px}#list__items{display:grid;row-gap:10px}`],Ae([r({type:Array})],pe.prototype,"demands",void 0),pe=Ae([n("bldn-data-consum-demand-list")],pe);let Ce=class extends t{constructor(){super(...arguments),this.demands=[]}render(){return o`<bldn-horizontal-list choices="${JSON.stringify([{id:"all",display:"All"},{id:"pending",display:"Pending",selected:!0},{id:"answered",display:"Answered"},{id:"canceled",display:"Canceled"}])}"></bldn-horizontal-list><bldn-data-consum-demand-list demands="${JSON.stringify(this.demands)}"></bldn-data-consum-demand-list>`}};Ce.styles=e`bldn-horizontal-list{padding-bottom:4vh}`,Ae([r({type:Array})],Ce.prototype,"demands",void 0),Ce=Ae([n("bldn-data-consum-requests")],Ce);let Oe=class extends t{constructor(){super(...arguments),this.choices=[],this._selected=0}render(){return o`${R(this.choices,((e,t)=>o`<button id="${e.id}" class="choice ${t===this._selected?"choice--selected":""}" @click="${()=>{this._selected=t}}">${e.display}</button>`))}`}willUpdate(e){e.has("choices")&&(this._selected=this.choices.findIndex((e=>e.selected)),this._selected<0&&(this._selected=0)),e.has("_selected")&&this.dispatchEvent(new CustomEvent("horizontal-list-choice-change",{detail:{selected:this.choices[this._selected]}}))}};Oe.styles=[de,e`:host{display:grid;grid-auto-flow:column;grid-auto-columns:1fr}.choice{padding:5px 20px;border:none;border-bottom:1px solid var(--color-medium)}.choice--selected{color:var(--color-primary);border-bottom:2px solid var(--color-primary)}button{color:var(--color-dark);font-size:16px}`],Ae([r({type:Array})],Oe.prototype,"choices",void 0),Ae([i()],Oe.prototype,"_selected",void 0),Oe=Ae([n("bldn-horizontal-list")],Oe);let ue=class extends t{constructor(){super(...arguments),this.left="",this.right="",this.selected="left"}handleClick(e){this.dispatchEvent(new CustomEvent("bldn-toggle-button-change",{detail:{newValue:"left"===e?this.left:this.right}})),this.selected=e}render(){return o`<button id="toggle-button-half__left" class="${"left"===this.selected?"toggle-button-half__selected":""}" @click="${()=>this.handleClick("left")}">${this.left}</button> <button id="toggle-button-half__right" class="${"right"===this.selected?"toggle-button-half__selected":""}" @click="${()=>this.handleClick("right")}">${this.right}</button>`}};ue.styles=[de,e`:host{display:grid;grid-template-columns:repeat(2,1fr)}button{color:var(--color-dark);border:1px solid var(--color-light);padding:10px 20px;font-size:16px}#toggle-button-half__left{border-radius:7.5px 0 0 7.5px;border-right-width:1px;border-right-color:var(--color-primary)}#toggle-button-half__right{border-radius:0 7.5px 7.5px 0;border-left-width:0;border-left-color:var(--color-primary)}.toggle-button-half__selected{border-color:var(--color-primary);background:linear-gradient(0deg,rgba(var(--color-primary-rgb),.1),rgba(var(--color-primary-rgb),.1)),#fff;color:var(--color-primary)}`],Ae([r({type:String,attribute:"left"})],ue.prototype,"left",void 0),Ae([r({type:String,attribute:"right"})],ue.prototype,"right",void 0),Ae([r({type:String,attribute:"selected"})],ue.prototype,"selected",void 0),ue=Ae([n("bldn-toggle-button")],ue);let he=class extends t{constructor(){super(...arguments),this.mode="primary"}handleClick(){this.dispatchEvent(new Event("bldn-button:click"))}render(){return o`<button class="${this.mode}" @click="${this.handleClick}"><slot></slot></button>`}};he.styles=[de,e`button{border:none;border-radius:var(--bldn-button-border-radius,5px);padding:1vh 2vw;color:#fff;font-size:16px;background:var(--bldn-button-color-primary,var(--color-primary));box-shadow:0 5px 10px rgba(0,0,0,.1),0 2px 4px rgba(0,0,0,.2),0 4px 8px rgba(0,0,0,.2),0 8px 16px rgba(0,0,0,.2)}button:not([disabled]):active{transform:translateY(2px);transition:.2s;box-shadow:0 5px 10px 0 rgba(0,0,0,.1),0 2px 4px rgba(0,0,0,.2),0 4px 8px rgba(0,0,0,.2),0 8px 16px rgba(0,0,0,.2)}button.link:active{transform:none;transition:none;box-shadow:none}.secondary{background:#fff;color:rgb(var(--bldn-button-color-primary,var(--bldn-color-primary,5,80,222)));border:1px solid rgb(var(--bldn-button-color-primary,var(--bldn-color-primary,5,80,222)))}.positive{background:var(--bldn-button-color-positive,var(--color-positive))}.warning{background:var(--bldn-button-color-warning,var(--color-warning))}.negative{background:var(--bldn-button-color-negative,var(--color-negative))}.link{border:none;background:0 0;box-shadow:none;text-decoration:underline;color:var(--color-dark);padding:inherit}`],Ae([r({type:String,reflect:!0})],he.prototype,"mode",void 0),he=Ae([n("bldn-button")],he);let Pe=class extends t{constructor(){super(...arguments),this.mode="default",this.type="text",this.value="",this.placeholder=""}handleChange(e){const{value:t}=e.target;this.dispatchEvent(new CustomEvent("bldn-input:input",{detail:t}))}render(){const e={confirmed:"confirmed"===this.mode,error:"error"===this.mode};return o`<input class="${A(e)}" type="${this.type}" .value="${this.value}" placeholder="${this.placeholder}" @change="${this.handleChange}">`}};Pe.styles=[de,e`input{padding:10px 10px 10px 0;text-indent:10px;border-radius:5px;border:2px solid var(--color-light)}:host([mode=default]) input:focus,input:active{outline:0;border-color:var(--color-primary)}:host([mode=error]) input:focus,input:active{outline:0;border-color:var(--color-negative)}::placeholder{color:var(--color-light);opacity:1}:-ms-input-placeholder{color:var(--color-light)}::-ms-input-placeholder{color:var(--color-light)}.confirmed{border-color:var(--color-positive)}.error{border-color:var(--color-negative)}`],Ae([r({type:String,reflect:!0})],Pe.prototype,"mode",void 0),Ae([r({type:String})],Pe.prototype,"type",void 0),Ae([r({type:String})],Pe.prototype,"value",void 0),Ae([r({type:String})],Pe.prototype,"placeholder",void 0),Pe=Ae([n("bldn-input")],Pe);export{K as ACTION,Ee as AFTER,d as ApiError,he as BldnButton,Pe as BldnInput,ae as BlindnetCore,B as CallbacksService,N as CancelError,T as CancelablePromise,se as ComputationAPI,k as ConfigurationService,Re as CoreConfigurationMixin,c as CreateLegalBasePayload,S as CreateProvenancePayload,I as CreateRetentionPolicyPayload,ee as DATA_CATEGORY,z as DEMAND_STATUS,ce as DataConsumerAlerts,pe as DataConsumerDemandList,Ie as DataConsumerDemandListItem,$ as DataConsumerInterfaceService,Ce as DataConsumerRequests,p as DemandResolution,C as DenyDemandPayload,W as HealthService,Oe as HorizontalList,ne as LEGAL_BASE_TYPE,O as LegalBase,re as MOTIVE,l as OpenAPI,ie as POLICY_TYPE,te as PROCESSING_CATEGORY,J as PROVENANCE,oe as PURPOSE,u as PendingDemandDetailsPayload,h as PendingDemandPayload,P as PrItem,g as PrivacyResponsePayload,m as PrivacyScopeRestriction,L as PrivacyScopeTriple,v as Provenance,_ as ProvenanceRestriction,q as REQUEST_STATUS,D as Recommendation,b as RetentionPolicy,f as ScopePayload,le as SlottedDropdown,Q as TARGET,X as TARGET_DIRECTION,Z as TRANSPARENCY_ACTION,ue as ToggleButton,F as UserEventsService,j as UserInfoService};
//# sourceMappingURL=index.core.min.js.map
