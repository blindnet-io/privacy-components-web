{"version":3,"file":"bldn-submitted-requests-list.js","sources":["../../src/request-viewer/bldn-submitted-requests-list.ts"],"sourcesContent":["import { PrItem } from '@blindnet/core';\nimport { msg } from '@lit/localize';\nimport { css, html, LitElement } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\nimport { map } from 'lit/directives/map.js';\nimport { when } from 'lit/directives/when.js';\nimport { STATUS_DESCRIPTIONS } from '../utils/dictionary.js';\n\n@customElement('bldn-submitted-requests-list')\nexport class BldnSubmittedRequestsList extends LitElement {\n  @property({ type: Array }) requests: PrItem[] | undefined;\n\n  handleItemClick(id: string) {\n    this.dispatchEvent(\n      new CustomEvent('bldn-submitted-requests-list:request-click', {\n        detail: {\n          value: id,\n        },\n      })\n    );\n  }\n\n  render() {\n    return html`\n      <div class=\"heading row\">\n        <span><b>${msg('Created')}</b></span>\n        <span><b>${msg('Status')}</b></span>\n        <span><b>${msg('Demands')}</b></span>\n      </div>\n      ${when(\n        this.requests && this.requests.length > 0,\n        () => html`\n          <div id=\"items\">\n            ${map(\n              this.requests,\n              r => html`\n                <button\n                  id=${r.id}\n                  class=\"item row\"\n                  @click=${() => this.handleItemClick(r.id)}\n                >\n                  <span>${new Date(r.date).toLocaleString()}</span>\n                  <span>${STATUS_DESCRIPTIONS[r.status]()}</span>\n                  <span>${r.demands}</span>\n                </button>\n              `\n            )}\n          </div>\n        `,\n        () => html`\n          ${when(\n            this.requests === undefined,\n            () => html` <p>${msg('Loading your requests...')}</p> `,\n            () => html` <p>${msg('No requests to display')}</p> `\n          )}\n        `\n      )}\n    `;\n  }\n\n  static styles = css`\n    :host {\n      display: block;\n      color: var(--bldn-submitted-requests-list-font-color, var(--color-dark));\n      font-size: var(\n        --bldn-submitted-requests-font-size,\n        var(--font-size-small)\n      );\n    }\n\n    #items {\n      display: grid;\n      row-gap: 1.25em;\n    }\n\n    .heading {\n      margin-bottom: 0.5em;\n    }\n\n    .row {\n      display: grid;\n      grid-template-columns: repeat(3, 1fr);\n    }\n\n    .item {\n      border: 2px solid var(--color-light);\n      border-radius: 5px;\n      padding: 1em 0;\n      transition: 0.3s ease-out;\n    }\n\n    .item:hover {\n      border-color: var(--color-dark);\n      transition: 0.3s ease;\n    }\n\n    button {\n      width: 100%;\n      font-size: var(\n        --bldn-submitted-requests-font-size,\n        var(--font-size-small)\n      );\n      font-family: var(\n        --bldn-submitted-requests-font-family,\n        var(--font-family)\n      );\n      color: var(--bldn-submitted-requests-list-font-color, var(--color-dark));\n      background: none;\n      margin: none;\n      padding: none;\n    }\n  `;\n}\n"],"names":[],"mappings":";;;;;;;;AASO,IAAM,yBAAyB,GAA/B,MAAM,yBAA0B,SAAQ,UAAU,CAAA;AAGvD,IAAA,eAAe,CAAC,EAAU,EAAA;AACxB,QAAA,IAAI,CAAC,aAAa,CAChB,IAAI,WAAW,CAAC,4CAA4C,EAAE;AAC5D,YAAA,MAAM,EAAE;AACN,gBAAA,KAAK,EAAE,EAAE;AACV,aAAA;AACF,SAAA,CAAC,CACH,CAAC;KACH;IAED,MAAM,GAAA;AACJ,QAAA,OAAO,IAAI,CAAA,CAAA;;mBAEI,GAAG,CAAC,SAAS,CAAC,CAAA;mBACd,GAAG,CAAC,QAAQ,CAAC,CAAA;mBACb,GAAG,CAAC,SAAS,CAAC,CAAA;;AAEzB,MAAA,EAAA,IAAI,CACJ,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EACzC,MAAM,IAAI,CAAA,CAAA;;cAEJ,GAAG,CACH,IAAI,CAAC,QAAQ,EACb,CAAC,IAAI,IAAI,CAAA,CAAA;;AAEA,qBAAA,EAAA,CAAC,CAAC,EAAE,CAAA;;2BAEA,MAAM,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,EAAE,CAAC,CAAA;;0BAEjC,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,cAAc,EAAE,CAAA;AACjC,wBAAA,EAAA,mBAAmB,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,CAAA;AAC/B,wBAAA,EAAA,CAAC,CAAC,OAAO,CAAA;;eAEpB,CACF,CAAA;;AAEJ,QAAA,CAAA,EACD,MAAM,IAAI,CAAA,CAAA;AACN,UAAA,EAAA,IAAI,CACJ,IAAI,CAAC,QAAQ,KAAK,SAAS,EAC3B,MAAM,IAAI,CAAA,OAAO,GAAG,CAAC,0BAA0B,CAAC,CAAO,KAAA,CAAA,EACvD,MAAM,IAAI,CAAA,CAAA,IAAA,EAAO,GAAG,CAAC,wBAAwB,CAAC,OAAO,CACtD,CAAA;SACF,CACF,CAAA;KACF,CAAC;KACH;;AAEM,yBAAM,CAAA,MAAA,GAAG,GAAG,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAmDlB,CAAC;AArGyB,UAAA,CAAA;AAA1B,IAAA,QAAQ,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;AAAgC,CAAA,EAAA,yBAAA,CAAA,SAAA,EAAA,UAAA,EAAA,KAAA,CAAA,CAAA,CAAA;AAD/C,yBAAyB,GAAA,UAAA,CAAA;IADrC,aAAa,CAAC,8BAA8B,CAAC;AACjC,CAAA,EAAA,yBAAyB,CAuGrC;;;;"}