{"version":3,"file":"bldn-request-status.js","sources":["../../src/request-viewer/bldn-request-status.ts"],"sourcesContent":["/* eslint-disable camelcase */\nimport {\n  CoreConfigurationMixin,\n  PrivacyResponsePayload,\n  ComputationAPI,\n  LegalBase,\n  PrivacyScopeTriple,\n  RetentionPolicy,\n  Provenance,\n  PrivacyResponseAnswer,\n} from '@blindnet/core';\nimport { msg } from '@lit/localize';\nimport { css, html, LitElement, PropertyValueMap } from 'lit';\nimport { customElement, property, state } from 'lit/decorators.js';\nimport { classMap } from 'lit/directives/class-map.js';\nimport { map } from 'lit/directives/map.js';\nimport { when } from 'lit/directives/when.js';\nimport { choose } from 'lit/directives/choose.js';\n\nimport '@blindnet/core-ui';\nimport {\n  ACTION_DESCRIPTIONS,\n  ACTION_TITLES_WITH_DEMAND,\n  AFTER_TITLES,\n  DATA_CATEGORY_TITLES_WITH_DATA,\n  DEMAND_STATUS_DESCRIPTIONS,\n  POLICY_TYPE_TITLES,\n} from '../utils/dictionary.js';\n\nconst linkSvg = new URL(\n  './../assets/icons/akar-icons_link-chain.svg',\n  import.meta.url\n).href;\n\nconst downloadSvg = new URL(\n  './../assets/icons/akar-icons_download.svg',\n  import.meta.url\n).href;\n\nconst cancelSvg = new URL(\n  './../assets/icons/ic_round-cancel.svg',\n  import.meta.url\n).href;\n\nconst refreshSvg = new URL(\n  './../assets/icons/heroicons-solid_refresh.svg',\n  import.meta.url\n).href;\n\n/**\n * Get a user friendly string for a retention policy\n * @param dataCategory Data category the policy pertains to\n * @param policy Type of the policy\n * @param duration String quantifying the duration, e.g. 10 months\n * @param after Point after which the data is kept\n * @returns String combining the provided information to represent a retention policy\n */\nexport function getRetentionPolicyString(\n  dataCategory: string,\n  policyType: RetentionPolicy.policy_type,\n  duration: string,\n  after: RetentionPolicy.after\n) {\n  // FIXME: For our first demo, we assume duration is in months\n  return html`<i\n      >${DATA_CATEGORY_TITLES_WITH_DATA[dataCategory.toLocaleUpperCase()]()}</i\n    >\n    ${msg('is kept for')}\n    <i>${POLICY_TYPE_TITLES[policyType]().toLocaleUpperCase()}</i>\n    <i>${duration}</i> ${msg('months after')}\n    <i>${AFTER_TITLES[after]().toLocaleUpperCase()}</i>`;\n}\n\n/**\n * Get a user friendly string for a provenance in regard to some data category\n * @param dataCategory Data category the provenance pertains to\n * @param provenance Provenance object\n * @returns String combining the data category and provenance into a readable form\n */\nfunction getProvenanceString(dataCategory: string, provenance: Provenance) {\n  return html`\n    ${choose(provenance.provenance, [\n      [\n        Provenance.provenance._,\n        () => html`\n          ${when(\n            provenance.system,\n            () => html`\n              <b>${DATA_CATEGORY_TITLES_WITH_DATA[dataCategory]()}:</b> ${msg(\n                html`Obtained from a user, another system and/or derived from\n                  existing data, in the <i>${provenance.system}</i> system`\n              )}\n            `,\n            () => html`\n              <b>${DATA_CATEGORY_TITLES_WITH_DATA[dataCategory]()}:</b> ${msg(\n                html`Obtained from a user, another system and/or derived from\n                existing data, in some other system.`\n              )}\n            `\n          )}\n        `,\n      ],\n      [\n        Provenance.provenance.USER,\n        () => html`\n          ${when(\n            provenance.system,\n            () => html`\n              <b>${DATA_CATEGORY_TITLES_WITH_DATA[dataCategory]()}:</b> ${msg(\n                html`Obtained from a user of the\n                  <i>${provenance.system}</i> system`\n              )}\n            `,\n            () => html`\n              <b>${DATA_CATEGORY_TITLES_WITH_DATA[dataCategory]()}:</b> ${msg(\n                html`Obtained from a user`\n              )}\n            `\n          )}\n        `,\n      ],\n      [\n        Provenance.provenance.USER_DATA_SUBJECT,\n        () => html`\n          ${when(\n            provenance.system,\n            () => html`\n              <b>${DATA_CATEGORY_TITLES_WITH_DATA[dataCategory]()}:</b> ${msg(\n                html`Obtained from a user, providing data about theirself, in\n                  the <i>${provenance.system}</i> system`\n              )}\n            `,\n            () => html`\n              <b>${DATA_CATEGORY_TITLES_WITH_DATA[dataCategory]()}:</b> ${msg(\n                html`Obtained from a user, providing data about theirself`\n              )}\n            `\n          )}\n        `,\n      ],\n      [\n        Provenance.provenance.TRANSFERRED,\n        () => html`\n          ${when(\n            provenance.system,\n            () => html`\n              <b>${DATA_CATEGORY_TITLES_WITH_DATA[dataCategory]()}:</b> ${msg(\n                html`Transfered from the <i>${provenance.system}</i> system`\n              )}\n            `,\n            () => html`\n              <b>${DATA_CATEGORY_TITLES_WITH_DATA[dataCategory]()}:</b> ${msg(\n                html`Transfered from some other system`\n              )}\n            `\n          )}\n        `,\n      ],\n      [\n        Provenance.provenance.DERIVED,\n        () => html`\n          ${when(\n            provenance.system,\n            () => html`\n              <b>${DATA_CATEGORY_TITLES_WITH_DATA[dataCategory]()}:</b> ${msg(\n                html`Derived from existing data in the\n                  <i>${provenance.system}</i> system`\n              )}\n            `,\n            () => html`\n              <b>${DATA_CATEGORY_TITLES_WITH_DATA[dataCategory]()}:</b> ${msg(\n                html`Derived from existing data in some other system`\n              )}\n            `\n          )}\n        `,\n      ],\n    ])}\n  `;\n}\n\n/**\n * Get a link to the status page for the request denoted by requestId\n * @param requestId ID of the privacy request\n * @returns\n */\nexport function getRequestLink(requestId: string): URL {\n  const url = new URL(document.URL);\n  url.searchParams.set('requestId', requestId);\n  return url;\n}\n\n@customElement('bldn-request-status')\nexport class BldnRequestStatus extends CoreConfigurationMixin(LitElement) {\n  @property({ type: String }) requestId: string | undefined;\n\n  @state() _requestDetails: PrivacyResponsePayload[] = [];\n\n  @state() _error: boolean = false;\n\n  getRequestDetails() {\n    ComputationAPI.getInstance()\n      .getRequest(this.requestId!)\n      .then(requestDetails => {\n        this._requestDetails = requestDetails;\n        this._error = false;\n      })\n      .catch(e => {\n        // eslint-disable-next-line no-console\n        console.log(e);\n        this._error = true;\n      });\n  }\n\n  handleCopyLinkClick() {\n    navigator.clipboard.writeText(getRequestLink(this.requestId!).toString());\n  }\n\n  handleDownloadClick(demand: PrivacyResponsePayload) {\n    window.location.href = demand.data!;\n  }\n\n  handleCancelClick(demand: PrivacyResponsePayload) {\n    ComputationAPI.getInstance()\n      .cancelDemand(demand.demand_id)\n      .then(() => {\n        // Refetch request status after cancelling\n        this.getRequestDetails();\n      })\n      .catch(e => {\n        // eslint-disable-next-line no-console\n        console.log(e);\n      });\n  }\n\n  handleRefreshClick() {\n    this.getRequestDetails();\n  }\n\n  protected willUpdate(\n    _changedProperties: PropertyValueMap<any> | Map<PropertyKey, unknown>\n  ): void {\n    if (_changedProperties.has('apiToken') && this.apiToken && this.requestId) {\n      this.getRequestDetails();\n    }\n\n    if (_changedProperties.has('requestId')) {\n      if (this.requestId && ComputationAPI.getInstance().apiTokenSet()) {\n        this.getRequestDetails();\n      } else if (this.requestId) {\n        // Try waiting 2 seconds incase there is a delay in setting the api token,\n        // such as in our demo\n        setTimeout(() => {\n          if (ComputationAPI.getInstance().apiTokenSet()) {\n            this.getRequestDetails();\n          }\n        }, 2000);\n      }\n    }\n\n    if (\n      _changedProperties.has('requestId') &&\n      this.requestId &&\n      ComputationAPI.getInstance().apiTokenSet()\n    )\n      this.getRequestDetails();\n  }\n\n  render() {\n    return html`\n      <bldn-dropdown class=\"main-section\" mode=\"major\" open>\n        <span slot=\"heading\" id='summary-heading'><b>${msg(\n          html`Request Summary`\n        )}</b>\n          <bldn-button mode='link-icon' underline-mode='none' @bldn-button:click=${\n            this.handleCopyLinkClick\n          }>\n            <span class='request-action'><b>${msg('Copy Link')}</b></span>\n            <img src=${linkSvg} alt='copy link to request status page'></img>\n          </bldn-button>\n          <bldn-button id='refresh-request' mode='link-icon' underline-mode='none' @bldn-button:click=${\n            this.handleRefreshClick\n          }>\n            <span class='request-action'><b>${msg('Refresh')}</b></span>\n            <img src=${refreshSvg} alt='refresh this request'></img>\n          </bldn-button>\n        </span>\n        ${when(\n          this._requestDetails.length > 0,\n          () => html`\n            ${this._requestDetails.map(demand => {\n              const classes = {\n                granted:\n                  demand.status === PrivacyResponsePayload.status.GRANTED,\n                denied: demand.status === PrivacyResponsePayload.status.DENIED,\n                partial:\n                  demand.status ===\n                    PrivacyResponsePayload.status.PARTIALLY_GRANTED ||\n                  demand.status === PrivacyResponsePayload.status.UNDER_REVIEW,\n                canceled:\n                  demand.status === PrivacyResponsePayload.status.CANCELED,\n              };\n              return html`\n                <bldn-dropdown>\n                  <span slot=\"heading\"\n                    ><strong\n                      >${msg(\n                        html`${ACTION_TITLES_WITH_DEMAND[\n                          demand.requested_action\n                        ]()}`\n                      )}&nbsp;&nbsp;&nbsp;<span class=${classMap(classes)}\n                        >${DEMAND_STATUS_DESCRIPTIONS[demand.status]()}</span\n                      ></strong\n                    ></span\n                  >\n                  ${this.getStatusTemplate(demand)}\n                </bldn-dropdown>\n                ${map(demand.includes, subDemand => {\n                  const subClasses = {\n                    granted:\n                      subDemand.status ===\n                      PrivacyResponsePayload.status.GRANTED,\n                    denied:\n                      subDemand.status === PrivacyResponsePayload.status.DENIED,\n                    partial:\n                      subDemand.status ===\n                        PrivacyResponsePayload.status.PARTIALLY_GRANTED ||\n                      subDemand.status ===\n                        PrivacyResponsePayload.status.UNDER_REVIEW,\n                    canceled:\n                      subDemand.status ===\n                      PrivacyResponsePayload.status.CANCELED,\n                  };\n                  return html`\n                    <bldn-dropdown>\n                      <span slot=\"heading\"\n                        ><strong\n                          >${msg(\n                            html`${ACTION_TITLES_WITH_DEMAND[\n                              subDemand.requested_action\n                            ]()}`\n                          )}&nbsp;&nbsp;&nbsp;<span\n                            class=${classMap(subClasses)}\n                            >${DEMAND_STATUS_DESCRIPTIONS[\n                              subDemand.status\n                            ]()}</span\n                          ></strong\n                        ></span\n                      >\n                      ${this.getStatusTemplate(subDemand)}\n                    </bldn-dropdown>\n                  `;\n                })}\n              `;\n            })}\n          `,\n          () => html`\n            <p id=\"loading-message\">\n              ${when(\n                this._error,\n                () => html`\n                  ${msg('Error getting request details. Please refresh later.')}\n                `,\n                () => html` ${msg('Loading request details...')} `\n              )}\n            </p>\n          `\n        )}\n      </bldn-dropdown>\n    `;\n  }\n\n  getStatusTemplate(demand: PrivacyResponsePayload) {\n    return html`\n      <p>\n        <b>${msg('Requested:')}</b> ${ACTION_DESCRIPTIONS[\n          demand.requested_action\n        ]()}\n      </p>\n\n      ${choose(demand.status, [\n        [\n          PrivacyResponsePayload.status.GRANTED,\n          () => this.getGrantedResponseTemplate(demand),\n        ],\n        [\n          PrivacyResponsePayload.status.DENIED,\n          () => html`\n            <p>\n              ${msg('This demand has been denied. Reason: ')}<i\n                >${demand.message}</i\n              >\n            </p>\n          `,\n        ],\n        [\n          PrivacyResponsePayload.status.PARTIALLY_GRANTED,\n          () => html`<p>${msg('This demand has been partially granted.')}</p>`,\n        ],\n        [\n          PrivacyResponsePayload.status.UNDER_REVIEW,\n          () => html`\n            <p>\n              ${msg('This demand is still under review.')}\n              <bldn-button\n                mode=\"link-icon\"\n                underline-mode='none'\n                @bldn-button:click=${() => this.handleCancelClick(demand)}\n              >\n                <span class=\"cancel-demand\">${msg('Cancel Demand')}</span>\n                <img src=${cancelSvg} alt='cancel demand'></img>\n              </bldn-button>\n            </p>\n          `,\n        ],\n        [\n          PrivacyResponsePayload.status.CANCELED,\n          () => html`<p>${msg('This demand has been cancelled.')}</p>`,\n        ],\n      ])}\n    `;\n  }\n\n  // NOTE: For now, we assume demand.data is a JSON file\n  getGrantedResponseTemplate(demand: PrivacyResponsePayload) {\n    const answer = JSON.parse(demand.answer);\n\n    return html`\n      ${choose(demand.requested_action, [\n        [\n          PrivacyResponsePayload.requested_action.ACCESS,\n          () => html`\n            ${when(\n              demand.data,\n              () =>\n                // TODO: change this\n                when(\n                  demand.data!.startsWith('http'),\n                  () => html`\n                  <bldn-button mode='link-icon' @bldn-button:click=${() =>\n                    this.handleDownloadClick(demand)}>\n                    <img src=${downloadSvg} alt='download your data'></img>\n                    <span>${msg('Download your data.')}</span>\n                  </bldn-button>`,\n                  () => html`<p>${msg('No data was found for the user.')}</p>`\n                ),\n              () =>\n                html`<p>\n                  ${msg(\n                    'Obtaining data, please wait and refresh the page later.'\n                  )}\n                </p>`\n            )}\n          `,\n        ],\n        [\n          PrivacyResponsePayload.requested_action.DELETE,\n          () => html` <p>${msg('Your delete demand has been granted.')}</p> `,\n        ],\n        [\n          PrivacyResponsePayload.requested_action.MODIFY,\n          () => html` <p>${msg('Your modify demand has been granted.')}</p> `,\n        ],\n        [\n          PrivacyResponsePayload.requested_action.OBJECT,\n          () => html` <p>${msg('Your object demand has been granted')}</p> `,\n        ],\n        [\n          PrivacyResponsePayload.requested_action.OTHER,\n          () => html` <p>${msg('Your demand has been granted.')}</p> `,\n        ],\n        [\n          PrivacyResponsePayload.requested_action.PORTABILITY,\n          () => html`\n            <p>${msg('Your portability demand has been granted.')}</p>\n          `,\n        ],\n        [\n          PrivacyResponsePayload.requested_action.RESTRICT,\n          () => html` <p>${msg('Your restrict demand has been granted.')}</p> `,\n        ],\n        [\n          PrivacyResponsePayload.requested_action.REVOKE_CONSENT,\n          () => html`\n            <p>${msg('Your revoke consent demand has been granted.')}</p>\n          `,\n        ],\n        [\n          PrivacyResponsePayload.requested_action.TRANSPARENCY,\n          () => html`\n            <p>\n              ${msg(\n                'Your transparency demand has been granted and split into multiple demands below.'\n              )}\n            </p>\n          `,\n        ],\n        [\n          PrivacyResponsePayload.requested_action.TRANSPARENCY_DATA_CATEGORIES,\n          () => html`\n            <p>\n              ${when(\n                answer.length > 0,\n                () => html`\n                  ${map(\n                    answer as PrivacyResponseAnswer.TRANSPARENCY_DATA_CATEGORIES,\n                    dc => html` ${dc}<br /> `\n                  )}\n                `,\n                () => html` ${msg('There are no categories of data on you.')} `\n              )}\n            </p>\n          `,\n        ],\n        [\n          PrivacyResponsePayload.requested_action.TRANSPARENCY_DPO,\n          () => html`\n            <p>\n              ${when(\n                answer,\n                () => html`\n                  ${answer as PrivacyResponseAnswer.TRANSPARENCY_DPO}\n                `,\n                () => html` ${msg('There is no listed DPO.')} `\n              )}\n            </p>\n          `,\n        ],\n        [\n          PrivacyResponsePayload.requested_action.TRANSPARENCY_KNOWN,\n          () => html`\n            <p>\n              ${choose(\n                answer as PrivacyResponseAnswer.TRANSPARENCY_KNOWN,\n                [\n                  [\n                    'NO',\n                    () =>\n                      html`${msg(\n                        html`The organization <strong>does not</strong> have\n                          data on you.`\n                      )}`,\n                  ],\n                  [\n                    'YES',\n                    () =>\n                      html`${msg(\n                        html`The organization <strong>does</strong> have data on\n                          you.`\n                      )}`,\n                  ],\n                ],\n                () =>\n                  html`${msg(\n                    'There is no information regarding whether the organization has data on you.'\n                  )}`\n              )}\n            </p>\n          `,\n        ],\n        [\n          PrivacyResponsePayload.requested_action.TRANSPARENCY_LEGAL_BASES,\n          () => {\n            const lbAnswer =\n              answer as PrivacyResponseAnswer.TRANSPARENCY_LEGAL_BASES;\n            return html`\n              <p>\n                ${when(\n                  Object.keys(lbAnswer).length > 0,\n                  () => html`\n                    ${map(\n                      lbAnswer,\n                      lb => html`\n                        <p>\n                          ${msg('Name: ')}${lb.name}<br />\n                          ${when(\n                            lb.description,\n                            () =>\n                              html`${msg(\n                                  'Description: '\n                                )}${lb.description}<br />`\n                          )}\n                          ${msg('Type: ')}${lb.lb_type}<br />\n                        </p>\n                      `\n                    )}\n                  `,\n                  () => html`\n                    ${msg('There are no legal bases for processing your data.')}\n                  `\n                )}\n              </p>\n            `;\n          },\n        ],\n        [\n          PrivacyResponsePayload.requested_action.TRANSPARENCY_ORGANIZATION,\n          () => html`\n            <p>\n              ${when(\n                answer,\n                () => html`\n                  ${answer as PrivacyResponseAnswer.TRANSPARENCY_ORGANIZATION}\n                `,\n                () => html` ${msg('There is no organization information.')} `\n              )}\n            </p>\n          `,\n        ],\n        [\n          PrivacyResponsePayload.requested_action.TRANSPARENCY_POLICY,\n          () => html`\n            <p>\n              ${when(\n                answer,\n                () => html`\n                  ${answer as PrivacyResponseAnswer.TRANSPARENCY_POLICY}\n                `,\n                () => html` ${msg('There is no policy information.')} `\n              )}\n            </p>\n          `,\n        ],\n        [\n          PrivacyResponsePayload.requested_action\n            .TRANSPARENCY_PROCESSING_CATEGORIES,\n          () => html`\n            <p>\n              ${when(\n                answer.length > 0,\n                () => html`\n                  ${map(\n                    answer as PrivacyResponseAnswer.TRANSPARENCY_PROCESSING_CATEGORIES,\n                    pc => html` ${pc}<br /> `\n                  )}\n                `,\n                () =>\n                  html`${msg(\n                    'There are no categories of processing being done on your data.'\n                  )}`\n              )}\n            </p>\n          `,\n        ],\n        [\n          PrivacyResponsePayload.requested_action.TRANSPARENCY_PROVENANCE,\n          () => {\n            const provAnswer =\n              answer as PrivacyResponseAnswer.TRANSPARENCY_PROVENANCE;\n            return html`\n              <p>\n                ${when(\n                  Object.keys(provAnswer).length > 0,\n                  () => html`\n                    ${map(\n                      Object.entries(provAnswer),\n                      ([dc, provs]) => html`\n                        ${map(\n                          provs,\n                          prov => html`\n                            ${getProvenanceString(dc, { ...prov })}<br />\n                          `\n                        )}\n                      `\n                    )}\n                  `,\n                  () => html`\n                    ${msg('There are no sources of data concerning you.')}\n                  `\n                )}\n              </p>\n            `;\n          },\n        ],\n        [\n          PrivacyResponsePayload.requested_action.TRANSPARENCY_PURPOSE,\n          () => html`\n            <p>\n              ${when(\n                answer.length > 0,\n                () => html`\n                  ${map(\n                    answer as PrivacyResponseAnswer.TRANSPARENCY_PURPOSE,\n                    purpose => html` ${purpose}<br /> `\n                  )}\n                `,\n                () => html`\n                  ${msg(\n                    'There is no information about the purposes for processing your data.'\n                  )}\n                `\n              )}\n            </p>\n          `,\n        ],\n        [\n          PrivacyResponsePayload.requested_action.TRANSPARENCY_RETENTION,\n          () => {\n            const retAnswer =\n              answer as PrivacyResponseAnswer.TRANSPARENCY_RETENTION;\n            return html`\n              <p>\n                ${when(\n                  Object.keys(retAnswer).length > 0,\n                  () => html`\n                    ${map(\n                      Object.entries(retAnswer),\n                      ([dc, rp]) => html`\n                        ${map(\n                          rp,\n                          policy => html`\n                            ${getRetentionPolicyString(\n                              dc,\n                              policy.policy_type,\n                              policy.duration,\n                              policy.after\n                            )}<br />\n                          `\n                        )}\n                      `\n                    )}\n                  `,\n                  () => html`\n                    ${msg(\n                      'There is no information about how long your data is kept.'\n                    )}\n                  `\n                )}\n              </p>\n            `;\n          },\n        ],\n        [\n          PrivacyResponsePayload.requested_action.TRANSPARENCY_WHERE,\n          () => html`\n            <p>\n              ${when(\n                answer.length > 0,\n                () => html`\n                  ${map(\n                    answer as PrivacyResponseAnswer.TRANSPARENCY_WHERE,\n                    where => html` ${where}<br /> `\n                  )}\n                `,\n                () => html`\n                  ${msg(\n                    'There is no information about where your data is stored.'\n                  )}\n                `\n              )}\n            </p>\n          `,\n        ],\n        [\n          PrivacyResponsePayload.requested_action.TRANSPARENCY_WHO,\n          () => html`\n            <p>\n              ${when(\n                answer.length > 0,\n                () => html`\n                  ${map(\n                    answer as PrivacyResponseAnswer.TRANSPARENCY_WHO,\n                    who => html` ${who}<br /> `\n                  )}\n                `,\n                () => html`\n                  ${msg(\n                    'There is no information about who has access to your data.'\n                  )}\n                `\n              )}\n            </p>\n          `,\n        ],\n      ])}\n    `;\n  }\n\n  static styles = css`\n    :host {\n      display: block;\n      text-align: left;\n      color: var(--bldn-request-status-font-color, var(--color-dark));\n    }\n\n    bldn-dropdown.main-section {\n      border: 2px solid\n        var(--bldn-action-form-section-border-color, var(--color-dark));\n      border-radius: 20px;\n      padding: 2.5em;\n      /* FIXME: This makes the border expansion jump weird */\n      /* transition: 0.3s ease-out; */\n    }\n\n    bldn-dropdown.main-section[open] {\n      padding: 2.5em 2.5em 0.5em 2.5em;\n    }\n\n    /* Font for main sections: Demand Details and Other Options */\n    bldn-dropdown.main-section > span {\n      font-size: var(\n        --bldn-action-form-section-heading-font-size,\n        var(--font-size-medium)\n      );\n      color: var(\n        --bldn-action-form-section-heading-font-color,\n        var(--color-dark)\n      );\n    }\n\n    /* Font for other options headings */\n    bldn-dropdown bldn-dropdown span {\n      font-size: var(--font-size-small);\n      color: var(\n        --bldn-action-form-subsection-heading-font-color,\n        var(--color-dark)\n      );\n    }\n\n    bldn-dropdown bldn-dropdown > span[slot='heading'] {\n      padding-left: 0;\n    }\n\n    bldn-dropdown bldn-dropdown > * {\n      padding-left: 1.25em;\n    }\n\n    /* Divider between other options dropdowns */\n    bldn-dropdown {\n      border-bottom: 2px solid\n        var(--bldn-action-form-subsection-divider-color, var(--color-lightest));\n    }\n\n    /* Last dropdown in other options should have no border */\n    bldn-dropdown bldn-dropdown:last-child {\n      border-bottom: none;\n    }\n\n    #summary-heading {\n      display: flex;\n      gap: 1em;\n    }\n\n    #loading-message {\n      margin: 0.8em 0em;\n    }\n\n    .request-action {\n      color: var(--color-medium);\n    }\n\n    .granted {\n      color: var(--color-positive);\n    }\n\n    .denied {\n      color: var(--color-negative);\n    }\n\n    .partial {\n      color: var(--color-warning);\n    }\n\n    .canceled {\n      color: var(--color-light);\n    }\n\n    .cancel-demand {\n      color: var(--color-negative);\n    }\n  `;\n}\n"],"names":[],"mappings":"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"}