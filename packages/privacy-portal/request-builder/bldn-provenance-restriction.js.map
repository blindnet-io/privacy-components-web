{"version":3,"file":"bldn-provenance-restriction.js","sources":["../../src/request-builder/bldn-provenance-restriction.ts"],"sourcesContent":["import { ProvenanceRestriction } from '@blindnet/core';\nimport { msg } from '@lit/localize';\nimport { css, html, LitElement } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\nimport { PROVENANCE_DESCRIPTIONS } from '../utils/dictionary.js';\n\n/**\n * @event {CustomEvent} bldn-provenance-restriction:term-change - Fired when term selection changes\n * @event {CustomEvent} bldn-provenance-restriction:target-change - Fired when target selection changes\n */\n@customElement('bldn-provenance-restriction')\nexport class BldnProvenanceRestriction extends LitElement {\n  /** @prop Optional initial provenance category */\n  @property({ type: String }) term: undefined | string;\n\n  /** @prop Optional initial provenance target */\n  @property({ type: String }) target: undefined | string;\n\n  private handleTermChange(term: ProvenanceRestriction.term) {\n    this.dispatchEvent(\n      new CustomEvent('bldn-provenance-restriction:term-change', {\n        bubbles: true,\n        composed: true,\n        detail: {\n          term,\n        },\n      })\n    );\n  }\n\n  private handleTargetChange(target: ProvenanceRestriction.target) {\n    this.dispatchEvent(\n      new CustomEvent('bldn-provenance-restriction:target-change', {\n        bubbles: true,\n        composed: true,\n        detail: {\n          target,\n        },\n      })\n    );\n  }\n\n  render() {\n    return html`\n      <p>${msg('My demand applies to data from the following provenance:')}</p>\n      <fieldset class=\"provenance-restriction\">\n        ${Object.values(ProvenanceRestriction.term).map(\n          term => html`\n            <input\n              id=${term}\n              name='provenance-term'\n              type='radio'\n              ?checked=${this.term === term}\n              @click=${() => this.handleTermChange(term)}>\n            </input>\n            <label for=${term}>${PROVENANCE_DESCRIPTIONS[term]()}</label><br/>\n          `\n        )}\n      </fieldset>\n    `;\n\n    // NOTE: Until (if) we support multiple demand groups per request, we only need to allow setting target on the whole request\n    //\n    // <p> ${msg('I address my demand to:')} </p>\n    // <fieldset class=\"provenance-restriction\">\n    //   ${Object.values(ProvenanceRestriction.target)\n    //     .map(\n    //       target => html`\n    //         <input\n    //           id=${target}\n    //           name='provenance-target'\n    //           type='radio'\n    //           ?checked=${this.target === target}\n    //           @click=${() => this.handleTargetChange(target)}>\n    //         </input>\n    //         <label for=${target}>${TARGET_DESCRIPTIONS[target]()}</label><br/>\n    //       `\n    //     )}\n    // </fieldset>\n  }\n\n  static styles = css`\n    :host {\n      display: block;\n      text-align: left;\n    }\n\n    fieldset {\n      border: none;\n      margin: 0;\n      padding: 0em;\n      text-align: left;\n    }\n\n    input ~ input {\n      margin-top: 1em;\n    }\n  `;\n}\n"],"names":[],"mappings":";;;;;;;AAMA;;;AAGG;AAEI,IAAM,yBAAyB,GAA/B,MAAM,yBAA0B,SAAQ,UAAU,CAAA;AAO/C,IAAA,gBAAgB,CAAC,IAAgC,EAAA;AACvD,QAAA,IAAI,CAAC,aAAa,CAChB,IAAI,WAAW,CAAC,yCAAyC,EAAE;AACzD,YAAA,OAAO,EAAE,IAAI;AACb,YAAA,QAAQ,EAAE,IAAI;AACd,YAAA,MAAM,EAAE;gBACN,IAAI;AACL,aAAA;AACF,SAAA,CAAC,CACH,CAAC;KACH;AAEO,IAAA,kBAAkB,CAAC,MAAoC,EAAA;AAC7D,QAAA,IAAI,CAAC,aAAa,CAChB,IAAI,WAAW,CAAC,2CAA2C,EAAE;AAC3D,YAAA,OAAO,EAAE,IAAI;AACb,YAAA,QAAQ,EAAE,IAAI;AACd,YAAA,MAAM,EAAE;gBACN,MAAM;AACP,aAAA;AACF,SAAA,CAAC,CACH,CAAC;KACH;IAED,MAAM,GAAA;AACJ,QAAA,OAAO,IAAI,CAAA,CAAA;WACJ,GAAG,CAAC,0DAA0D,CAAC,CAAA;;AAEhE,QAAA,EAAA,MAAM,CAAC,MAAM,CAAC,qBAAqB,CAAC,IAAI,CAAC,CAAC,GAAG,CAC7C,IAAI,IAAI,IAAI,CAAA,CAAA;;mBAEH,IAAI,CAAA;;;yBAGE,IAAI,CAAC,IAAI,KAAK,IAAI,CAAA;AACpB,qBAAA,EAAA,MAAM,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAA;;AAE/B,uBAAA,EAAA,IAAI,CAAI,CAAA,EAAA,uBAAuB,CAAC,IAAI,CAAC,EAAE,CAAA;WACrD,CACF,CAAA;;KAEJ,CAAC;;;;;;;;;;;;;;;;;;;KAoBH;;AAEM,yBAAM,CAAA,MAAA,GAAG,GAAG,CAAA,CAAA;;;;;;;;;;;;;;;;GAgBlB,CAAC;AApF0B,UAAA,CAAA;AAA3B,IAAA,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;AAA0B,CAAA,EAAA,yBAAA,CAAA,SAAA,EAAA,MAAA,EAAA,KAAA,CAAA,CAAA,CAAA;AAGzB,UAAA,CAAA;AAA3B,IAAA,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;AAA4B,CAAA,EAAA,yBAAA,CAAA,SAAA,EAAA,QAAA,EAAA,KAAA,CAAA,CAAA,CAAA;AAL5C,yBAAyB,GAAA,UAAA,CAAA;IADrC,aAAa,CAAC,6BAA6B,CAAC;AAChC,CAAA,EAAA,yBAAyB,CAuFrC;;;;"}