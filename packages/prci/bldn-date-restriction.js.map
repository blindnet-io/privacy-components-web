{"version":3,"file":"bldn-date-restriction.js","sources":["../src/bldn-date-restriction.ts"],"sourcesContent":["/* eslint-disable lit/no-value-attribute */\nimport { msg } from '@lit/localize';\nimport { css, html, LitElement } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\nimport { ifDefined } from 'lit/directives/if-defined.js';\n\n/**\n * @event {CustomEvent} bldn-date-restriction:start-date-change - Fires when the start date is changed.\n * Contains a date string in the form yyyy-mm-dd in event.details.date field.\n *\n * @event {CustomEvent} bldn-date-restriction:end-date-change - Fires when the end date is changed\n * Contains a date string in the form yyyy-mm-dd in event.details.date field.\n */\n@customElement('bldn-date-restriction')\nexport class BldnDateRestriction extends LitElement {\n  /**\n   * @prop Optional initial start date string\n   *\n   * Expects a valid date string as described here:\n   * https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats#date_strings\n   */\n  @property({ type: String }) start: undefined | string;\n\n  /**\n   * @prop Optional initial end date string\n   *\n   * Expects a valid date string as described here:\n   * https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats#date_strings\n   */\n  @property({ type: String }) end: undefined | string;\n\n  private handleDateChange(e: Event) {\n    const { id, value } = e.target as HTMLInputElement;\n    const date = new Date(value).toISOString();\n\n    // Emit change event if date and element id are valid\n    if (\n      date.toString() !== 'Invalid Date' &&\n      ['start-date', 'end-date'].includes(id)\n    ) {\n      this.dispatchEvent(\n        new CustomEvent(\n          `bldn-date-restriction:${\n            id === 'start-date' ? 'start' : 'end'\n          }-date-change`,\n          {\n            bubbles: true,\n            composed: true,\n            detail: {\n              date,\n            },\n          }\n        )\n      );\n    }\n  }\n\n  render() {\n    // Get properly formatted date strings to pass to input elements\n    const start =\n      this.start !== undefined\n        ? new Date(this.start).toISOString().split('T')[0]\n        : undefined;\n    const end =\n      this.end !== undefined\n        ? new Date(this.end).toISOString().split('T')[0]\n        : undefined;\n\n    return html`\n      <p>${msg('Specify a date range for the selected data categories:')}</p>\n      <span>${msg('From')}</span>\n      <input\n        id=\"start-date\"\n        type=\"date\"\n        value=${ifDefined(start)}\n        @input=${this.handleDateChange}\n      />\n      <span>${msg('to')}</span>\n      <input\n        id=\"end-date\"\n        type=\"date\"\n        value=${ifDefined(end)}\n        @input=${this.handleDateChange}\n      />\n    `;\n  }\n\n  static styles = css`\n    :host {\n      display: block;\n      text-align: left;\n      color: var(--bldn-data-restriction-font-color, var(--color-dark));\n    }\n\n    p {\n      margin: 1.3em 0em;\n    }\n\n    input {\n      border-radius: 10px;\n      padding: 0.75em;\n      border: 2px solid\n        var(--bldn-date-restriction-input-border-color, var(--color-light));\n      background: var(\n        --bldn-date-restriction-input-background-color,\n        var(--color-lightest)\n      );\n      margin: 0em 1em;\n      transition: 0.3s ease-out;\n    }\n\n    input:hover {\n      border-color: var(\n        --bldn-date-restriction-input-border-color-hover,\n        var(--color-medium)\n      );\n      transition: 0.3s ease;\n    }\n  `;\n}\n"],"names":[],"mappings":";;;;;;AAMA;;;;;;AAMG;AAEI,IAAM,mBAAmB,GAAzB,MAAM,mBAAoB,SAAQ,UAAU,CAAA;AAiBzC,IAAA,gBAAgB,CAAC,CAAQ,EAAA;QAC/B,MAAM,EAAE,EAAE,EAAE,KAAK,EAAE,GAAG,CAAC,CAAC,MAA0B,CAAC;QACnD,MAAM,IAAI,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,WAAW,EAAE,CAAC;;AAG3C,QAAA,IACE,IAAI,CAAC,QAAQ,EAAE,KAAK,cAAc;YAClC,CAAC,YAAY,EAAE,UAAU,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,EACvC;AACA,YAAA,IAAI,CAAC,aAAa,CAChB,IAAI,WAAW,CACb,yBACE,EAAE,KAAK,YAAY,GAAG,OAAO,GAAG,KAClC,cAAc,EACd;AACE,gBAAA,OAAO,EAAE,IAAI;AACb,gBAAA,QAAQ,EAAE,IAAI;AACd,gBAAA,MAAM,EAAE;oBACN,IAAI;AACL,iBAAA;AACF,aAAA,CACF,CACF,CAAC;AACH,SAAA;KACF;IAED,MAAM,GAAA;;AAEJ,QAAA,MAAM,KAAK,GACT,IAAI,CAAC,KAAK,KAAK,SAAS;AACtB,cAAE,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;cAChD,SAAS,CAAC;AAChB,QAAA,MAAM,GAAG,GACP,IAAI,CAAC,GAAG,KAAK,SAAS;AACpB,cAAE,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;cAC9C,SAAS,CAAC;AAEhB,QAAA,OAAO,IAAI,CAAA,CAAA;WACJ,GAAG,CAAC,wDAAwD,CAAC,CAAA;cAC1D,GAAG,CAAC,MAAM,CAAC,CAAA;;;;gBAIT,SAAS,CAAC,KAAK,CAAC,CAAA;AACf,eAAA,EAAA,IAAI,CAAC,gBAAgB,CAAA;;cAExB,GAAG,CAAC,IAAI,CAAC,CAAA;;;;gBAIP,SAAS,CAAC,GAAG,CAAC,CAAA;AACb,eAAA,EAAA,IAAI,CAAC,gBAAgB,CAAA;;KAEjC,CAAC;KACH;;AAEM,mBAAM,CAAA,MAAA,GAAG,GAAG,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GA+BlB,CAAC;AAjG0B,UAAA,CAAA;AAA3B,IAAA,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;AAA2B,CAAA,EAAA,mBAAA,CAAA,SAAA,EAAA,OAAA,EAAA,KAAA,CAAA,CAAA,CAAA;AAQ1B,UAAA,CAAA;AAA3B,IAAA,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;AAAyB,CAAA,EAAA,mBAAA,CAAA,SAAA,EAAA,KAAA,EAAA,KAAA,CAAA,CAAA,CAAA;AAfzC,mBAAmB,GAAA,UAAA,CAAA;IAD/B,aAAa,CAAC,uBAAuB,CAAC;AAC1B,CAAA,EAAA,mBAAmB,CAyG/B;;;;"}