{"version":3,"file":"bldn-modify-form.js","sources":["../../src/action-forms/bldn-modify-form.ts"],"sourcesContent":["import { PrivacyRequestDemand } from '@blindnet/core';\nimport { css, html, TemplateResult } from 'lit';\nimport { customElement } from 'lit/decorators.js';\nimport { ifDefined } from 'lit/directives/if-defined.js';\nimport { ActionForm } from './bldn-action-form.js';\n\n/**\n * Action form for the Modify PRIV Action\n */\n@customElement('bldn-modify-form')\nexport class BldnModifyForm extends ActionForm {\n  action: PrivacyRequestDemand.action = PrivacyRequestDemand.action.MODIFY;\n\n  // Remove other options dropdown for this form\n  includeOptions: boolean = false;\n\n  validateActionInput(): string[] | undefined {\n    return undefined;\n  }\n\n  validateOptionsInput(): string[] | undefined {\n    return undefined;\n  }\n\n  getFormTemplate(): TemplateResult<1 | 2> {\n    return html`\n      <bldn-additional-message\n        message=${ifDefined(this.demands[0].message)}\n      ></bldn-additional-message>\n    `;\n  }\n\n  getOptionsTemplate(): TemplateResult<1 | 2> {\n    return html``;\n  }\n\n  getDefaultDemands(): PrivacyRequestDemand[] {\n    return [\n      {\n        id: '',\n        action: PrivacyRequestDemand.action.MODIFY,\n      },\n    ];\n  }\n\n  // Listener Functions\n\n  /**\n   * Update the message for this demand\n   * @param e {CustomEvent} Event containing the data category string to add\n   */\n  changeMessage(e: Event) {\n    e.stopPropagation();\n    const { message } = (e as CustomEvent).detail;\n    this.demands[0].message = message;\n  }\n\n  /**\n   * Add listeners for elements of this ActionForm\n   */\n  connectedCallback(): void {\n    // eslint-disable-next-line wc/guard-super-call\n    super.connectedCallback();\n\n    // Message listener\n    this.addEventListener(\n      'bldn-additional-message:message-change',\n      this.changeMessage\n    );\n  }\n\n  /**\n   * Remove all listeners\n   */\n  disconnectedCallback(): void {\n    this.removeEventListener(\n      'bldn-additional-message:message-change',\n      this.changeMessage\n    );\n  }\n\n  static styles = [\n    ActionForm.styles,\n    css`\n      bldn-additional-message {\n        margin: 2em 0;\n      }\n    `,\n  ];\n}\n"],"names":[],"mappings":";;;;;;;AAMA;;AAEG;AAEI,IAAM,cAAc,GAApB,MAAM,cAAe,SAAQ,UAAU,CAAA;AAAvC,IAAA,WAAA,GAAA;;AACL,QAAA,IAAA,CAAA,MAAM,GAAgC,oBAAoB,CAAC,MAAM,CAAC,MAAM,CAAC;;QAGzE,IAAc,CAAA,cAAA,GAAY,KAAK,CAAC;KA2EjC;IAzEC,mBAAmB,GAAA;AACjB,QAAA,OAAO,SAAS,CAAC;KAClB;IAED,oBAAoB,GAAA;AAClB,QAAA,OAAO,SAAS,CAAC;KAClB;IAED,eAAe,GAAA;AACb,QAAA,OAAO,IAAI,CAAA,CAAA;;kBAEG,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAA;;KAE/C,CAAC;KACH;IAED,kBAAkB,GAAA;QAChB,OAAO,IAAI,CAAA,CAAA,CAAE,CAAC;KACf;IAED,iBAAiB,GAAA;QACf,OAAO;AACL,YAAA;AACE,gBAAA,EAAE,EAAE,EAAE;AACN,gBAAA,MAAM,EAAE,oBAAoB,CAAC,MAAM,CAAC,MAAM;AAC3C,aAAA;SACF,CAAC;KACH;;AAID;;;AAGG;AACH,IAAA,aAAa,CAAC,CAAQ,EAAA;QACpB,CAAC,CAAC,eAAe,EAAE,CAAC;AACpB,QAAA,MAAM,EAAE,OAAO,EAAE,GAAI,CAAiB,CAAC,MAAM,CAAC;QAC9C,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,GAAG,OAAO,CAAC;KACnC;AAED;;AAEG;IACH,iBAAiB,GAAA;;QAEf,KAAK,CAAC,iBAAiB,EAAE,CAAC;;QAG1B,IAAI,CAAC,gBAAgB,CACnB,wCAAwC,EACxC,IAAI,CAAC,aAAa,CACnB,CAAC;KACH;AAED;;AAEG;IACH,oBAAoB,GAAA;QAClB,IAAI,CAAC,mBAAmB,CACtB,wCAAwC,EACxC,IAAI,CAAC,aAAa,CACnB,CAAC;KACH;;AAEM,cAAA,CAAA,MAAM,GAAG;AACd,IAAA,UAAU,CAAC,MAAM;AACjB,IAAA,GAAG,CAAA,CAAA;;;;AAIF,IAAA,CAAA;CACF,CAAC;AA9ES,cAAc,GAAA,UAAA,CAAA;IAD1B,aAAa,CAAC,kBAAkB,CAAC;AACrB,CAAA,EAAA,cAAc,CA+E1B;;;;"}