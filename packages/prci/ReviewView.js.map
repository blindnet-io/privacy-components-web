{"version":3,"file":"ReviewView.js","sources":["../src/ReviewView.ts"],"sourcesContent":["/* eslint-disable lit/binding-positions */\nimport { msg } from '@lit/localize';\nimport { css, html, LitElement, PropertyValueMap } from 'lit';\nimport { customElement, property, state } from 'lit/decorators.js';\nimport { choose } from 'lit/directives/choose.js';\nimport { map } from 'lit/directives/map.js';\nimport { when } from 'lit/directives/when.js';\nimport { Demand } from './models/demand.js';\nimport {\n  ACTION,\n  DATA_CATEGORY,\n  PROVENANCE,\n  TARGET,\n} from './models/priv-terms.js';\nimport { buttonStyles, containerStyles, textStyles } from './styles.js';\nimport {\n  ACTION_DESCRIPTIONS,\n  ACTION_TITLES,\n  DATA_CATEGORY_DESCRIPTIONS,\n  PROVENANCE_DESCRIPTIONS,\n  TARGET_DESCRIPTIONS,\n} from './utils/dictionary.js';\nimport { ComponentState } from './utils/states.js';\n\n@customElement('review-view')\nexport class ReviewView extends LitElement {\n  @property({ attribute: false }) demandGroupId: string = '';\n\n  @property({ attribute: false }) demands: Demand[] = [];\n\n  @property({ attribute: false }) demand: Demand = { action: ACTION.ACCESS };\n\n  @property({ type: Boolean, reflect: true, attribute: 'confirm-delete' })\n  confirmDelete: boolean = false;\n\n  @property({ attribute: false }) target: TARGET = TARGET.PARTNERS;\n\n  @state() _action: ACTION = ACTION.ACCESS;\n\n  static styles = [\n    containerStyles,\n    buttonStyles,\n    textStyles,\n    css`\n      :host {\n        display: grid;\n        row-gap: 20px;\n      }\n\n      :host([confirm-delete]) .dmd-review-ctr {\n        background: #c4c4c4;\n        opacity: 0.7;\n      }\n\n      #review-heading-row {\n        display: grid;\n        grid-area: 1/1/2/2;\n        grid-template-columns: repeat(2, 1fr);\n        z-index: 2;\n      }\n\n      .dmd-review-ctr {\n        display: grid;\n        row-gap: 20px;\n        padding: 40px;\n      }\n\n      #review-btns {\n        display: flex;\n        flex-direction: row;\n        justify-content: flex-end;\n        column-gap: 20px;\n      }\n\n      .review-btn {\n        width: 24px;\n        height: 24px;\n      }\n\n      #review-content {\n        display: grid;\n        grid-area: 2/1/3/2;\n        row-gap: 20px;\n        z-index: 1;\n      }\n\n      .extra-msg-txt {\n        padding: 0px 0px 0px 20px;\n      }\n\n      .review-list li:not(:last-child) {\n        margin: 0px 0px 20px 0px;\n      }\n\n      .review-list {\n        margin: 0px;\n      }\n\n      #delete-confirm-popup {\n        display: grid;\n        row-gap: 20px;\n        background: white;\n        padding: 40px;\n        z-index: 2;\n        grid-area: 1/1/3/2;\n        justify-self: center;\n        align-self: center;\n        width: 40%;\n        height: 150px;\n      }\n\n      .popup-txt {\n        text-align: center;\n      }\n\n      #popup-btns-ctr {\n        display: flex;\n        column-gap: 50px;\n        justify-content: center;\n      }\n\n      .popup-btn {\n        min-width: 30%;\n        max-width: 200px;\n        /* width: 30%; */\n        font-size: 18px;\n      }\n\n      #confirm-delete-btn {\n        background: red;\n        color: white;\n        border: none;\n      }\n\n      #cancel-delete-btn {\n        background: white;\n        color: black;\n        border: 2px solid #18a0fb;\n      }\n\n      #submit-btn {\n        transform: translateY(35px);\n      }\n    `,\n  ];\n\n  getAccessReviewTemplate() {\n    const from = this.demand.restrictions?.date_range?.from;\n    const to = this.demand.restrictions?.date_range?.to;\n    const provenance = this.demand.restrictions?.provenance;\n    const privacyScope = this.demand.restrictions?.privacy_scope;\n    return html`\n      <span>${msg('I want to access:')}</span>\n      <ul id=\"access-review-list\" class=\"review-list\">\n        ${when(\n          privacyScope &&\n            Object.values(DATA_CATEGORY)\n              .filter(dc => !dc.includes('.') && dc !== DATA_CATEGORY.ALL)\n              .every(dc => privacyScope.map(psr => psr.dc).includes(dc)),\n          () => html`\n            <li>${DATA_CATEGORY_DESCRIPTIONS[DATA_CATEGORY.ALL]()}</li>\n          `,\n          () => html`\n            ${map(\n              this.demand.restrictions?.privacy_scope,\n              psr => html`<li>${DATA_CATEGORY_DESCRIPTIONS[psr.dc]()}</li> `\n            )}\n          `\n        )}\n      </ul>\n      ${when(\n        from || to,\n        () => html`<p>${this.getDateRangeReviewTemplate(from, to)}</p>`\n      )}\n      ${when(\n        provenance?.term !== PROVENANCE.ALL,\n        () => html`\n          <p>\n            ${msg('For:')} <b>${PROVENANCE_DESCRIPTIONS[provenance!.term]()}</b>\n          </p>\n        `\n      )}\n      ${when(\n        provenance?.target !== TARGET.SYSTEM,\n        () => html`\n          <p>\n            ${msg('From:')} <b>${TARGET_DESCRIPTIONS[provenance!.target!]()}</b>\n          </p>\n        `\n      )}\n      ${when(\n        this.demand.message,\n        () => html`\n          <span>${msg('Plus additional info:')}</span>\n          <span class=\"extra-msg-txt\"><i>${this.demand.message}</i></span>\n        `\n      )}\n    `;\n  }\n\n  getDeleteReviewTemplate() {\n    const from = this.demand.restrictions?.date_range?.from;\n    const to = this.demand.restrictions?.date_range?.to;\n    const provenance = this.demand.restrictions?.provenance;\n    const privacyScope = this.demand.restrictions?.privacy_scope;\n    return html`\n      <span>${msg('I want to delete:')}</span>\n      <ul id=\"delete-review-list\" class=\"review-list\">\n        ${when(\n          privacyScope &&\n            Object.values(DATA_CATEGORY)\n              .filter(dc => !dc.includes('.') && dc !== DATA_CATEGORY.ALL)\n              .every(dc => privacyScope.map(psr => psr.dc).includes(dc)),\n          () => html`\n            <li>${DATA_CATEGORY_DESCRIPTIONS[DATA_CATEGORY.ALL]()}</li>\n          `,\n          () => html`\n            ${map(\n              this.demand.restrictions?.privacy_scope,\n              psr => html`<li>${DATA_CATEGORY_DESCRIPTIONS[psr.dc]()}</li> `\n            )}\n          `\n        )}\n      </ul>\n      ${when(\n        from || to,\n        () => html`<p>${this.getDateRangeReviewTemplate(from, to)}</p>`\n      )}\n      ${when(\n        provenance?.term !== PROVENANCE.ALL,\n        () => html`\n          <p>\n            ${msg('For:')} <b>${PROVENANCE_DESCRIPTIONS[provenance!.term]()}</b>\n          </p>\n        `\n      )}\n      ${when(\n        provenance?.target !== TARGET.SYSTEM,\n        () => html`\n          <p>\n            ${msg('From:')} <b>${TARGET_DESCRIPTIONS[provenance!.target!]()}</b>\n          </p>\n        `\n      )}\n      ${when(\n        this.demand.message,\n        () => html`\n          <span>${msg('Plus additional info:')}</span>\n          <span class=\"extra-msg-txt\"><i>${this.demand.message}</i></span>\n        `\n      )}\n    `;\n  }\n\n  getModifyReviewTemplate() {\n    return html``;\n  }\n\n  getObjectReviewTemplate() {\n    return html``;\n  }\n\n  getPortabilityReviewTemplate() {\n    return html``;\n  }\n\n  getRestrictReviewTemplate() {\n    return html``;\n  }\n\n  getRevokeReviewTemplate() {\n    return html``;\n  }\n\n  getTransparencyReviewTemplate() {\n    const provenance = this.demands[0].restrictions?.provenance;\n    return html`\n      <span>${msg('I want to know:')}</span>\n      <ul id=\"transparency-review-list\" class=\"review-list\">\n        ${map(\n          this.demands,\n          d => html` <li><b>${ACTION_DESCRIPTIONS[d.action]()}</b></li> `\n        )}\n      </ul>\n      ${when(\n        provenance?.term !== PROVENANCE.ALL,\n        () => html`\n          <p>\n            ${msg('For:')} <b>${PROVENANCE_DESCRIPTIONS[provenance!.term]()}</b>\n          </p>\n        `\n      )}\n      ${when(\n        this.demands[0].message,\n        () => html`\n          <span>${msg('Plus additional info:')}</span>\n          <span class=\"extra-msg-txt\"><i>${this.demands[0].message}</i></span>\n        `\n      )}\n    `;\n  }\n\n  getOtherDemandReviewTemplate() {\n    return html``;\n  }\n\n  getDateRangeReviewTemplate(from: Date | undefined, to: Date | undefined) {\n    if (from && to) {\n      return html`${msg('From')} <b>${from?.toLocaleDateString('en-GB')}</b> to\n        <b>${to?.toLocaleDateString('en-GB')}</b>`;\n    }\n    if (from) {\n      return html`${msg('Since')} <b>${from?.toLocaleDateString('en-GB')}</b>`;\n    }\n    if (to) {\n      return html`${msg('Up to')} <b>${to?.toLocaleDateString('en-GB')}</b>`;\n    }\n    return html``;\n  }\n\n  handleEditClick() {\n    this.dispatchEvent(\n      new CustomEvent('component-state-change', {\n        bubbles: true,\n        composed: true,\n        detail: {\n          newState: ComponentState.EDIT,\n          // Use transparency action for any of its subtypes\n          newAction: this.demands[0].action.includes('TRANSPARENCY')\n            ? ACTION.TRANSPARENCY\n            : this.demands[0].action,\n          demandGroupId: this.demandGroupId,\n        },\n      })\n    );\n  }\n\n  handleDeleteClick() {\n    this.confirmDelete = true;\n  }\n\n  handleConfirmDeleteClick() {\n    this.dispatchEvent(\n      new CustomEvent('demand-delete', {\n        bubbles: true,\n        composed: true,\n        detail: {\n          demandGroupId: this.demandGroupId,\n        },\n      })\n    );\n    this.dispatchEvent(\n      new CustomEvent('component-state-change', {\n        bubbles: true,\n        composed: true,\n        detail: {\n          newState: ComponentState.MENU,\n        },\n      })\n    );\n  }\n\n  handleCancelDeleteClick() {\n    this.confirmDelete = false;\n  }\n\n  handleTargetClick(e: Event) {\n    const { id } = (e as CustomEvent).target as HTMLInputElement;\n    this.target = id as TARGET;\n    this.dispatchEvent(\n      new CustomEvent('request-target-change', {\n        bubbles: true,\n        composed: true,\n        detail: { id },\n      })\n    );\n  }\n\n  handleSubmitClick() {\n    this.dispatchEvent(\n      new Event('submit-request', {\n        bubbles: true,\n        composed: true,\n      })\n    );\n  }\n\n  /**\n   * Determine the action to use for this review container whenever demands changes\n   * @param _changedProperties Properties that have changed in this update\n   */\n  protected willUpdate(\n    _changedProperties: PropertyValueMap<any> | Map<PropertyKey, unknown>\n  ): void {\n    if (_changedProperties.has('demands') && this.demands.length > 0) {\n      this._action = this.demands[0].action;\n      if (this._action.includes('TRANSPARENCY')) {\n        this._action = ACTION.TRANSPARENCY;\n      } else {\n        [this.demand] = this.demands;\n      }\n    }\n  }\n\n  render() {\n    return html`\n      <span><b>${msg('My demand(s):')}</b></span>\n      \n      <div class=\"dmd-review-ctr light-border\">\n        <div id=\"review-heading-row\">\n          <span id=\"review-action-heading\"><b>${ACTION_TITLES[\n            this._action\n          ]()} demand</b></span>\n          <div id=\"review-btns\">\n            <simple-icon-button \n              @click=${this.handleEditClick} \n              icon=\"create\">\n            </simple-icon-button>\n            <!-- <button id=\"review-edit-btn\" class=\"svg-btn review-btn\" @click=${\n              this.handleEditClick\n            }>\n              <img src=\"packages/prci/src/assets/icons/pepicons_pen.svg\" alt=\"edit icon\"></img>\n            </button> -->\n            <simple-icon-button \n              @click=${this.handleDeleteClick} \n              icon=\"delete\">\n            </simple-icon-button>\n              <!-- <img src=\"packages/prci/src/assets/icons/ion_trash-bin.svg\" alt=\"delete icon\"></img>\n            </button> -->\n          </div>\n        </div>\n        <div id=\"review-content\">\n          ${choose(this._action, [\n            [ACTION.ACCESS, () => this.getAccessReviewTemplate()],\n            [ACTION.DELETE, () => this.getDeleteReviewTemplate()],\n            [ACTION.MODIFY, () => this.getModifyReviewTemplate()],\n            [ACTION.OBJECT, () => this.getObjectReviewTemplate()],\n            [ACTION.PORTABILITY, () => this.getPortabilityReviewTemplate()],\n            [ACTION.RESTRICT, () => this.getRestrictReviewTemplate()],\n            [ACTION.REVOKE, () => this.getRevokeReviewTemplate()],\n            [ACTION.TRANSPARENCY, () => this.getTransparencyReviewTemplate()],\n            [ACTION['OTHER.DEMAND'], () => this.getOtherDemandReviewTemplate()],\n          ])}\n        </div>\n        ${when(\n          this.confirmDelete,\n          () => html`\n            <div id=\"delete-confirm-popup\" class=\"no-line-border\">\n              <span class=\"popup-txt\"\n                >${msg('You are about to remove a demand')}</span\n              >\n              <span class=\"popup-txt\"\n                >${msg(html`Do you confirm <b>deleting this demand</b>?`)}</span\n              >\n              <div id=\"popup-btns-ctr\">\n                <button\n                  id=\"confirm-delete-btn\"\n                  class=\"curve-btn popup-btn\"\n                  @click=${this.handleConfirmDeleteClick}\n                >\n                  ${msg('Delete')}\n                </button>\n                <button\n                  id=\"cancel-delete-btn\"\n                  class=\"curve-btn popup-btn\"\n                  @click=${this.handleCancelDeleteClick}\n                >\n                  ${msg('Cancel')}\n                </button>\n              </div>\n            </div>\n          `\n        )}\n        </div>\n\n      </div>\n      <!-- Uncomment when supporting multiple demands -->\n      <!-- <div id=\"new-dmd-ctr\" class=\"medium-border\">\n        <span><b>${msg('I want to add another demand')}</b></span>\n        <button class=\"svg-btn\">\n          <img src=\"packages/prci/src/assets/icons/add-circle.svg\" alt=\"add icon\"></img>\n        </button>\n      </div> -->\n      <!-- Submit button -->\n      <slotted-dropdown\n        header=${msg('Privacy Request Advanced settings')}\n        include-buttons\n      >\n        <div>\n          <span> ${msg('I address my Privacy Request to:')} </span>\n          <fieldset class=\"provenance-restriction\">\n            ${Object.values(TARGET)\n              .filter(t => t !== TARGET.ALL)\n              .map(\n                t => html`\n                <input\n                  id=${t}\n                  name='provenance-target'\n                  type='radio'\n                  ?checked=${this.target === t}\n                  @click=${this.handleTargetClick}>\n                </input>\n                <label for=${t}>${TARGET_DESCRIPTIONS[t]()}</label><br/>\n              `\n              )}\n          </fieldset>\n        </div>\n      </slotted-dropdown>\n      <button\n        id=\"submit-btn\"\n        class=\"nav-btn ctr-btn  animated-btn\"\n        @click=${this.handleSubmitClick}\n      >\n        ${msg('Submit Privacy Request')}\n      </button>\n    `;\n  }\n}\n"],"names":[],"mappings":"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"}